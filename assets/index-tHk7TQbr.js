function s8(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ya=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function i8(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Y_={exports:{}},Ow={},Q_={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv=Symbol.for("react.element"),a8=Symbol.for("react.portal"),o8=Symbol.for("react.fragment"),l8=Symbol.for("react.strict_mode"),u8=Symbol.for("react.profiler"),c8=Symbol.for("react.provider"),f8=Symbol.for("react.context"),h8=Symbol.for("react.forward_ref"),d8=Symbol.for("react.suspense"),p8=Symbol.for("react.memo"),m8=Symbol.for("react.lazy"),TT=Symbol.iterator;function g8(t){return t===null||typeof t!="object"?null:(t=TT&&t[TT]||t["@@iterator"],typeof t=="function"?t:null)}var X_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z_=Object.assign,eP={};function yp(t,e,r){this.props=t,this.context=e,this.refs=eP,this.updater=r||X_}yp.prototype.isReactComponent={};yp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tP(){}tP.prototype=yp.prototype;function _k(t,e,r){this.props=t,this.context=e,this.refs=eP,this.updater=r||X_}var Pk=_k.prototype=new tP;Pk.constructor=_k;Z_(Pk,yp.prototype);Pk.isPureReactComponent=!0;var NT=Array.isArray,rP=Object.prototype.hasOwnProperty,Ok={current:null},nP={key:!0,ref:!0,__self:!0,__source:!0};function sP(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)rP.call(e,n)&&!nP.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:jv,type:t,key:i,ref:a,props:s,_owner:Ok.current}}function v8(t,e){return{$$typeof:jv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Lk(t){return typeof t=="object"&&t!==null&&t.$$typeof===jv}function y8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var RT=/\/+/g;function kE(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y8(""+t.key):e.toString(36)}function x1(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case jv:case a8:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+kE(a,0):n,NT(s)?(r="",t!=null&&(r=t.replace(RT,"$&/")+"/"),x1(s,e,r,"",function(u){return u})):s!=null&&(Lk(s)&&(s=v8(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(RT,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",NT(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+kE(i,o);a+=x1(i,e,r,l,s)}else if(l=g8(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+kE(i,o++),a+=x1(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function vy(t,e,r){if(t==null)return t;var n=[],s=0;return x1(t,n,"","",function(i){return e.call(r,i,s++)}),n}function S8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qn={current:null},A1={transition:null},w8={ReactCurrentDispatcher:qn,ReactCurrentBatchConfig:A1,ReactCurrentOwner:Ok};Et.Children={map:vy,forEach:function(t,e,r){vy(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return vy(t,function(){e++}),e},toArray:function(t){return vy(t,function(e){return e})||[]},only:function(t){if(!Lk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Et.Component=yp;Et.Fragment=o8;Et.Profiler=u8;Et.PureComponent=_k;Et.StrictMode=l8;Et.Suspense=d8;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w8;Et.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Z_({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=Ok.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)rP.call(e,l)&&!nP.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:jv,type:t.type,key:s,ref:i,props:n,_owner:a}};Et.createContext=function(t){return t={$$typeof:f8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:c8,_context:t},t.Consumer=t};Et.createElement=sP;Et.createFactory=function(t){var e=sP.bind(null,t);return e.type=t,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(t){return{$$typeof:h8,render:t}};Et.isValidElement=Lk;Et.lazy=function(t){return{$$typeof:m8,_payload:{_status:-1,_result:t},_init:S8}};Et.memo=function(t,e){return{$$typeof:p8,type:t,compare:e===void 0?null:e}};Et.startTransition=function(t){var e=A1.transition;A1.transition={};try{t()}finally{A1.transition=e}};Et.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Et.useCallback=function(t,e){return qn.current.useCallback(t,e)};Et.useContext=function(t){return qn.current.useContext(t)};Et.useDebugValue=function(){};Et.useDeferredValue=function(t){return qn.current.useDeferredValue(t)};Et.useEffect=function(t,e){return qn.current.useEffect(t,e)};Et.useId=function(){return qn.current.useId()};Et.useImperativeHandle=function(t,e,r){return qn.current.useImperativeHandle(t,e,r)};Et.useInsertionEffect=function(t,e){return qn.current.useInsertionEffect(t,e)};Et.useLayoutEffect=function(t,e){return qn.current.useLayoutEffect(t,e)};Et.useMemo=function(t,e){return qn.current.useMemo(t,e)};Et.useReducer=function(t,e,r){return qn.current.useReducer(t,e,r)};Et.useRef=function(t){return qn.current.useRef(t)};Et.useState=function(t){return qn.current.useState(t)};Et.useSyncExternalStore=function(t,e,r){return qn.current.useSyncExternalStore(t,e,r)};Et.useTransition=function(){return qn.current.useTransition()};Et.version="18.2.0";Q_.exports=Et;var N=Q_.exports;const kt=Kv(N),cx=s8({__proto__:null,default:kt},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C8=N,E8=Symbol.for("react.element"),b8=Symbol.for("react.fragment"),x8=Object.prototype.hasOwnProperty,A8=C8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k8={key:!0,ref:!0,__self:!0,__source:!0};function iP(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)x8.call(e,n)&&!k8.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:E8,type:t,key:i,ref:a,props:s,_owner:A8.current}}Ow.Fragment=b8;Ow.jsx=iP;Ow.jsxs=iP;Y_.exports=Ow;var P=Y_.exports,aP={exports:{}},_s={},oP={exports:{}},lP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,re){var D=G.length;G.push(re);e:for(;0<D;){var ee=D-1>>>1,B=G[ee];if(0<s(B,re))G[ee]=re,G[D]=B,D=ee;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var re=G[0],D=G.pop();if(D!==re){G[0]=D;e:for(var ee=0,B=G.length,K=B>>>1;ee<K;){var $=2*(ee+1)-1,ce=G[$],Q=$+1,fe=G[Q];if(0>s(ce,D))Q<B&&0>s(fe,ce)?(G[ee]=fe,G[Q]=D,ee=Q):(G[ee]=ce,G[$]=D,ee=$);else if(Q<B&&0>s(fe,D))G[ee]=fe,G[Q]=D,ee=Q;else break e}}return re}function s(G,re){var D=G.sortIndex-re.sortIndex;return D!==0?D:G.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,h=3,p=!1,d=!1,m=!1,S=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(G){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=G)n(u),re.sortIndex=re.expirationTime,e(l,re);else break;re=r(u)}}function C(G){if(m=!1,y(G),!d)if(r(l)!==null)d=!0,ie(E);else{var re=r(u);re!==null&&J(C,re.startTime-G)}}function E(G,re){d=!1,m&&(m=!1,g(O),O=-1),p=!0;var D=h;try{for(y(re),f=r(l);f!==null&&(!(f.expirationTime>re)||G&&!Y());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var B=ee(f.expirationTime<=re);re=t.unstable_now(),typeof B=="function"?f.callback=B:f===r(l)&&n(l),y(re)}else n(l);f=r(l)}if(f!==null)var K=!0;else{var $=r(u);$!==null&&J(C,$.startTime-re),K=!1}return K}finally{f=null,h=D,p=!1}}var b=!1,T=null,O=-1,H=5,L=-1;function Y(){return!(t.unstable_now()-L<H)}function ne(){if(T!==null){var G=t.unstable_now();L=G;var re=!0;try{re=T(!0,G)}finally{re?z():(b=!1,T=null)}}else b=!1}var z;if(typeof v=="function")z=function(){v(ne)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,q=Z.port2;Z.port1.onmessage=ne,z=function(){q.postMessage(null)}}else z=function(){S(ne,0)};function ie(G){T=G,b||(b=!0,z())}function J(G,re){O=S(function(){G(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){d||p||(d=!0,ie(E))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(G){switch(h){case 1:case 2:case 3:var re=3;break;default:re=h}var D=h;h=re;try{return G()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var D=h;h=G;try{return re()}finally{h=D}},t.unstable_scheduleCallback=function(G,re,D){var ee=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?ee+D:ee):D=ee,G){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=D+B,G={id:c++,callback:re,priorityLevel:G,startTime:D,expirationTime:B,sortIndex:-1},D>ee?(G.sortIndex=D,e(u,G),r(l)===null&&G===r(u)&&(m?(g(O),O=-1):m=!0,J(C,D-ee))):(G.sortIndex=B,e(l,G),d||p||(d=!0,ie(E))),G},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(G){var re=h;return function(){var D=h;h=re;try{return G.apply(this,arguments)}finally{h=D}}}})(lP);oP.exports=lP;var I8=oP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uP=N,Rs=I8;function xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cP=new Set,rv={};function uf(t,e){Hd(t,e),Hd(t+"Capture",e)}function Hd(t,e){for(rv[t]=e,t=0;t<e.length;t++)cP.add(e[t])}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fx=Object.prototype.hasOwnProperty,T8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BT={},_T={};function N8(t){return fx.call(_T,t)?!0:fx.call(BT,t)?!1:T8.test(t)?_T[t]=!0:(BT[t]=!0,!1)}function R8(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function B8(t,e,r,n){if(e===null||typeof e>"u"||R8(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jn(t,e,r,n,s,i,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=a}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wn[t]=new Jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wn[e]=new Jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wn[t]=new Jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wn[t]=new Jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wn[t]=new Jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wn[t]=new Jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wn[t]=new Jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wn[t]=new Jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wn[t]=new Jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vk=/[\-:]([a-z])/g;function Dk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vk,Dk);wn[e]=new Jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vk,Dk);wn[e]=new Jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vk,Dk);wn[e]=new Jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!1,!1)});wn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uk(t,e,r,n){var s=wn.hasOwnProperty(e)?wn[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(B8(e,r,s,n)&&(r=null),n||s===null?N8(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var so=uP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yy=Symbol.for("react.element"),od=Symbol.for("react.portal"),ld=Symbol.for("react.fragment"),Mk=Symbol.for("react.strict_mode"),hx=Symbol.for("react.profiler"),fP=Symbol.for("react.provider"),hP=Symbol.for("react.context"),$k=Symbol.for("react.forward_ref"),dx=Symbol.for("react.suspense"),px=Symbol.for("react.suspense_list"),Fk=Symbol.for("react.memo"),al=Symbol.for("react.lazy"),dP=Symbol.for("react.offscreen"),PT=Symbol.iterator;function $p(t){return t===null||typeof t!="object"?null:(t=PT&&t[PT]||t["@@iterator"],typeof t=="function"?t:null)}var kr=Object.assign,IE;function b0(t){if(IE===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);IE=e&&e[1]||""}return`
`+IE+t}var TE=!1;function NE(t,e){if(!t||TE)return"";TE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{TE=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?b0(t):""}function _8(t){switch(t.tag){case 5:return b0(t.type);case 16:return b0("Lazy");case 13:return b0("Suspense");case 19:return b0("SuspenseList");case 0:case 2:case 15:return t=NE(t.type,!1),t;case 11:return t=NE(t.type.render,!1),t;case 1:return t=NE(t.type,!0),t;default:return""}}function mx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ld:return"Fragment";case od:return"Portal";case hx:return"Profiler";case Mk:return"StrictMode";case dx:return"Suspense";case px:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hP:return(t.displayName||"Context")+".Consumer";case fP:return(t._context.displayName||"Context")+".Provider";case $k:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fk:return e=t.displayName||null,e!==null?e:mx(t.type)||"Memo";case al:e=t._payload,t=t._init;try{return mx(t(e))}catch{}}return null}function P8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mx(e);case 8:return e===Mk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function O8(t){var e=pP(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sy(t){t._valueTracker||(t._valueTracker=O8(t))}function mP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=pP(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gx(t,e){var r=e.checked;return kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function OT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=zl(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gP(t,e){e=e.checked,e!=null&&Uk(t,"checked",e,!1)}function vx(t,e){gP(t,e);var r=zl(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yx(t,e.type,r):e.hasOwnProperty("defaultValue")&&yx(t,e.type,zl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function yx(t,e,r){(e!=="number"||xS(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var x0=Array.isArray;function Ad(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+zl(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(xe(91));return kr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(xe(92));if(x0(r)){if(1<r.length)throw Error(xe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:zl(r)}}function vP(t,e){var r=zl(e.value),n=zl(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function DT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wy,SP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wy=wy||document.createElement("div"),wy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nv(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Rg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L8=["Webkit","ms","Moz","O"];Object.keys(Rg).forEach(function(t){L8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rg[e]=Rg[t]})});function wP(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Rg.hasOwnProperty(t)&&Rg[t]?(""+e).trim():e+"px"}function CP(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=wP(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var V8=kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cx(t,e){if(e){if(V8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(xe(62))}}function Ex(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bx=null;function Hk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xx=null,kd=null,Id=null;function UT(t){if(t=Gv(t)){if(typeof xx!="function")throw Error(xe(280));var e=t.stateNode;e&&(e=Mw(e),xx(t.stateNode,t.type,e))}}function EP(t){kd?Id?Id.push(t):Id=[t]:kd=t}function bP(){if(kd){var t=kd,e=Id;if(Id=kd=null,UT(t),e)for(t=0;t<e.length;t++)UT(e[t])}}function xP(t,e){return t(e)}function AP(){}var RE=!1;function kP(t,e,r){if(RE)return t(e,r);RE=!0;try{return xP(t,e,r)}finally{RE=!1,(kd!==null||Id!==null)&&(AP(),bP())}}function sv(t,e){var r=t.stateNode;if(r===null)return null;var n=Mw(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(xe(231,e,typeof r));return r}var Ax=!1;if(Qa)try{var Fp={};Object.defineProperty(Fp,"passive",{get:function(){Ax=!0}}),window.addEventListener("test",Fp,Fp),window.removeEventListener("test",Fp,Fp)}catch{Ax=!1}function D8(t,e,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Bg=!1,AS=null,kS=!1,kx=null,U8={onError:function(t){Bg=!0,AS=t}};function M8(t,e,r,n,s,i,a,o,l){Bg=!1,AS=null,D8.apply(U8,arguments)}function $8(t,e,r,n,s,i,a,o,l){if(M8.apply(this,arguments),Bg){if(Bg){var u=AS;Bg=!1,AS=null}else throw Error(xe(198));kS||(kS=!0,kx=u)}}function cf(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function IP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function MT(t){if(cf(t)!==t)throw Error(xe(188))}function F8(t){var e=t.alternate;if(!e){if(e=cf(t),e===null)throw Error(xe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return MT(s),t;if(i===n)return MT(s),e;i=i.sibling}throw Error(xe(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(xe(189))}}if(r.alternate!==n)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?t:e}function TP(t){return t=F8(t),t!==null?NP(t):null}function NP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=NP(t);if(e!==null)return e;t=t.sibling}return null}var RP=Rs.unstable_scheduleCallback,$T=Rs.unstable_cancelCallback,H8=Rs.unstable_shouldYield,K8=Rs.unstable_requestPaint,$r=Rs.unstable_now,j8=Rs.unstable_getCurrentPriorityLevel,Kk=Rs.unstable_ImmediatePriority,BP=Rs.unstable_UserBlockingPriority,IS=Rs.unstable_NormalPriority,z8=Rs.unstable_LowPriority,_P=Rs.unstable_IdlePriority,Lw=null,na=null;function W8(t){if(na&&typeof na.onCommitFiberRoot=="function")try{na.onCommitFiberRoot(Lw,t,void 0,(t.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:J8,G8=Math.log,q8=Math.LN2;function J8(t){return t>>>=0,t===0?32:31-(G8(t)/q8|0)|0}var Cy=64,Ey=4194304;function A0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function TS(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=A0(o):(i&=a,i!==0&&(n=A0(i)))}else a=r&~s,a!==0?n=A0(a):i!==0&&(n=A0(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ii(e),s=1<<r,n|=t[r],e&=~s;return n}function Y8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q8(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var a=31-Ii(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=Y8(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Ix(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function PP(){var t=Cy;return Cy<<=1,!(Cy&4194240)&&(Cy=64),t}function BE(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zv(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ii(e),t[e]=r}function X8(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ii(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function jk(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ii(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Wt=0;function OP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LP,zk,VP,DP,UP,Tx=!1,by=[],Rl=null,Bl=null,_l=null,iv=new Map,av=new Map,hl=[],Z8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FT(t,e){switch(t){case"focusin":case"focusout":Rl=null;break;case"dragenter":case"dragleave":Bl=null;break;case"mouseover":case"mouseout":_l=null;break;case"pointerover":case"pointerout":iv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":av.delete(e.pointerId)}}function Hp(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Gv(e),e!==null&&zk(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function eU(t,e,r,n,s){switch(e){case"focusin":return Rl=Hp(Rl,t,e,r,n,s),!0;case"dragenter":return Bl=Hp(Bl,t,e,r,n,s),!0;case"mouseover":return _l=Hp(_l,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return iv.set(i,Hp(iv.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,av.set(i,Hp(av.get(i)||null,t,e,r,n,s)),!0}return!1}function MP(t){var e=xc(t.target);if(e!==null){var r=cf(e);if(r!==null){if(e=r.tag,e===13){if(e=IP(r),e!==null){t.blockedOn=e,UP(t.priority,function(){VP(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function k1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Nx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);bx=n,r.target.dispatchEvent(n),bx=null}else return e=Gv(r),e!==null&&zk(e),t.blockedOn=r,!1;e.shift()}return!0}function HT(t,e,r){k1(t)&&r.delete(e)}function tU(){Tx=!1,Rl!==null&&k1(Rl)&&(Rl=null),Bl!==null&&k1(Bl)&&(Bl=null),_l!==null&&k1(_l)&&(_l=null),iv.forEach(HT),av.forEach(HT)}function Kp(t,e){t.blockedOn===e&&(t.blockedOn=null,Tx||(Tx=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,tU)))}function ov(t){function e(s){return Kp(s,t)}if(0<by.length){Kp(by[0],t);for(var r=1;r<by.length;r++){var n=by[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Rl!==null&&Kp(Rl,t),Bl!==null&&Kp(Bl,t),_l!==null&&Kp(_l,t),iv.forEach(e),av.forEach(e),r=0;r<hl.length;r++)n=hl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<hl.length&&(r=hl[0],r.blockedOn===null);)MP(r),r.blockedOn===null&&hl.shift()}var Td=so.ReactCurrentBatchConfig,NS=!0;function rU(t,e,r,n){var s=Wt,i=Td.transition;Td.transition=null;try{Wt=1,Wk(t,e,r,n)}finally{Wt=s,Td.transition=i}}function nU(t,e,r,n){var s=Wt,i=Td.transition;Td.transition=null;try{Wt=4,Wk(t,e,r,n)}finally{Wt=s,Td.transition=i}}function Wk(t,e,r,n){if(NS){var s=Nx(t,e,r,n);if(s===null)FE(t,e,n,RS,r),FT(t,n);else if(eU(s,t,e,r,n))n.stopPropagation();else if(FT(t,n),e&4&&-1<Z8.indexOf(t)){for(;s!==null;){var i=Gv(s);if(i!==null&&LP(i),i=Nx(t,e,r,n),i===null&&FE(t,e,n,RS,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else FE(t,e,n,null,r)}}var RS=null;function Nx(t,e,r,n){if(RS=null,t=Hk(n),t=xc(t),t!==null)if(e=cf(t),e===null)t=null;else if(r=e.tag,r===13){if(t=IP(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return RS=t,null}function $P(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j8()){case Kk:return 1;case BP:return 4;case IS:case z8:return 16;case _P:return 536870912;default:return 16}default:return 16}}var gl=null,Gk=null,I1=null;function FP(){if(I1)return I1;var t,e=Gk,r=e.length,n,s="value"in gl?gl.value:gl.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===s[i-n];n++);return I1=s.slice(t,1<n?1-n:void 0)}function T1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xy(){return!0}function KT(){return!1}function Ps(t){function e(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xy:KT,this.isPropagationStopped=KT,this}return kr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xy)},persist:function(){},isPersistent:xy}),e}var Sp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qk=Ps(Sp),Wv=kr({},Sp,{view:0,detail:0}),sU=Ps(Wv),_E,PE,jp,Vw=kr({},Wv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jp&&(jp&&t.type==="mousemove"?(_E=t.screenX-jp.screenX,PE=t.screenY-jp.screenY):PE=_E=0,jp=t),_E)},movementY:function(t){return"movementY"in t?t.movementY:PE}}),jT=Ps(Vw),iU=kr({},Vw,{dataTransfer:0}),aU=Ps(iU),oU=kr({},Wv,{relatedTarget:0}),OE=Ps(oU),lU=kr({},Sp,{animationName:0,elapsedTime:0,pseudoElement:0}),uU=Ps(lU),cU=kr({},Sp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fU=Ps(cU),hU=kr({},Sp,{data:0}),zT=Ps(hU),dU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gU(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mU[t])?!!e[t]:!1}function Jk(){return gU}var vU=kr({},Wv,{key:function(t){if(t.key){var e=dU[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=T1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pU[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jk,charCode:function(t){return t.type==="keypress"?T1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?T1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yU=Ps(vU),SU=kr({},Vw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WT=Ps(SU),wU=kr({},Wv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jk}),CU=Ps(wU),EU=kr({},Sp,{propertyName:0,elapsedTime:0,pseudoElement:0}),bU=Ps(EU),xU=kr({},Vw,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AU=Ps(xU),kU=[9,13,27,32],Yk=Qa&&"CompositionEvent"in window,_g=null;Qa&&"documentMode"in document&&(_g=document.documentMode);var IU=Qa&&"TextEvent"in window&&!_g,HP=Qa&&(!Yk||_g&&8<_g&&11>=_g),GT=" ",qT=!1;function KP(t,e){switch(t){case"keyup":return kU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ud=!1;function TU(t,e){switch(t){case"compositionend":return jP(e);case"keypress":return e.which!==32?null:(qT=!0,GT);case"textInput":return t=e.data,t===GT&&qT?null:t;default:return null}}function NU(t,e){if(ud)return t==="compositionend"||!Yk&&KP(t,e)?(t=FP(),I1=Gk=gl=null,ud=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HP&&e.locale!=="ko"?null:e.data;default:return null}}var RU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RU[t.type]:e==="textarea"}function zP(t,e,r,n){EP(n),e=BS(e,"onChange"),0<e.length&&(r=new qk("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pg=null,lv=null;function BU(t){rO(t,0)}function Dw(t){var e=hd(t);if(mP(e))return t}function _U(t,e){if(t==="change")return e}var WP=!1;if(Qa){var LE;if(Qa){var VE="oninput"in document;if(!VE){var YT=document.createElement("div");YT.setAttribute("oninput","return;"),VE=typeof YT.oninput=="function"}LE=VE}else LE=!1;WP=LE&&(!document.documentMode||9<document.documentMode)}function QT(){Pg&&(Pg.detachEvent("onpropertychange",GP),lv=Pg=null)}function GP(t){if(t.propertyName==="value"&&Dw(lv)){var e=[];zP(e,lv,t,Hk(t)),kP(BU,e)}}function PU(t,e,r){t==="focusin"?(QT(),Pg=e,lv=r,Pg.attachEvent("onpropertychange",GP)):t==="focusout"&&QT()}function OU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dw(lv)}function LU(t,e){if(t==="click")return Dw(e)}function VU(t,e){if(t==="input"||t==="change")return Dw(e)}function DU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bi=typeof Object.is=="function"?Object.is:DU;function uv(t,e){if(Bi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!fx.call(e,s)||!Bi(t[s],e[s]))return!1}return!0}function XT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ZT(t,e){var r=XT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=XT(r)}}function qP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JP(){for(var t=window,e=xS();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=xS(t.document)}return e}function Qk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function UU(t){var e=JP(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&qP(r.ownerDocument.documentElement,r)){if(n!==null&&Qk(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=ZT(r,i);var a=ZT(r,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MU=Qa&&"documentMode"in document&&11>=document.documentMode,cd=null,Rx=null,Og=null,Bx=!1;function eN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Bx||cd==null||cd!==xS(n)||(n=cd,"selectionStart"in n&&Qk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Og&&uv(Og,n)||(Og=n,n=BS(Rx,"onSelect"),0<n.length&&(e=new qk("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=cd)))}function Ay(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var fd={animationend:Ay("Animation","AnimationEnd"),animationiteration:Ay("Animation","AnimationIteration"),animationstart:Ay("Animation","AnimationStart"),transitionend:Ay("Transition","TransitionEnd")},DE={},YP={};Qa&&(YP=document.createElement("div").style,"AnimationEvent"in window||(delete fd.animationend.animation,delete fd.animationiteration.animation,delete fd.animationstart.animation),"TransitionEvent"in window||delete fd.transitionend.transition);function Uw(t){if(DE[t])return DE[t];if(!fd[t])return t;var e=fd[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in YP)return DE[t]=e[r];return t}var QP=Uw("animationend"),XP=Uw("animationiteration"),ZP=Uw("animationstart"),eO=Uw("transitionend"),tO=new Map,tN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ql(t,e){tO.set(t,e),uf(e,[t])}for(var UE=0;UE<tN.length;UE++){var ME=tN[UE],$U=ME.toLowerCase(),FU=ME[0].toUpperCase()+ME.slice(1);Ql($U,"on"+FU)}Ql(QP,"onAnimationEnd");Ql(XP,"onAnimationIteration");Ql(ZP,"onAnimationStart");Ql("dblclick","onDoubleClick");Ql("focusin","onFocus");Ql("focusout","onBlur");Ql(eO,"onTransitionEnd");Hd("onMouseEnter",["mouseout","mouseover"]);Hd("onMouseLeave",["mouseout","mouseover"]);Hd("onPointerEnter",["pointerout","pointerover"]);Hd("onPointerLeave",["pointerout","pointerover"]);uf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uf("onBeforeInput",["compositionend","keypress","textInput","paste"]);uf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var k0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HU=new Set("cancel close invalid load scroll toggle".split(" ").concat(k0));function rN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,$8(n,e,void 0,t),t.currentTarget=null}function rO(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;rN(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;rN(s,o,u),i=l}}}if(kS)throw t=kx,kS=!1,kx=null,t}function or(t,e){var r=e[Vx];r===void 0&&(r=e[Vx]=new Set);var n=t+"__bubble";r.has(n)||(nO(e,t,2,!1),r.add(n))}function $E(t,e,r){var n=0;e&&(n|=4),nO(r,t,n,e)}var ky="_reactListening"+Math.random().toString(36).slice(2);function cv(t){if(!t[ky]){t[ky]=!0,cP.forEach(function(r){r!=="selectionchange"&&(HU.has(r)||$E(r,!1,t),$E(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ky]||(e[ky]=!0,$E("selectionchange",!1,e))}}function nO(t,e,r,n){switch($P(e)){case 1:var s=rU;break;case 4:s=nU;break;default:s=Wk}r=s.bind(null,e,r,t),s=void 0,!Ax||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function FE(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=xc(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}kP(function(){var u=i,c=Hk(r),f=[];e:{var h=tO.get(t);if(h!==void 0){var p=qk,d=t;switch(t){case"keypress":if(T1(r)===0)break e;case"keydown":case"keyup":p=yU;break;case"focusin":d="focus",p=OE;break;case"focusout":d="blur",p=OE;break;case"beforeblur":case"afterblur":p=OE;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=jT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=aU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CU;break;case QP:case XP:case ZP:p=uU;break;case eO:p=bU;break;case"scroll":p=sU;break;case"wheel":p=AU;break;case"copy":case"cut":case"paste":p=fU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=WT}var m=(e&4)!==0,S=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var v=u,y;v!==null;){y=v;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,g!==null&&(C=sv(v,g),C!=null&&m.push(fv(v,C,y)))),S)break;v=v.return}0<m.length&&(h=new p(h,d,null,r,c),f.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&r!==bx&&(d=r.relatedTarget||r.fromElement)&&(xc(d)||d[Xa]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(d=r.relatedTarget||r.toElement,p=u,d=d?xc(d):null,d!==null&&(S=cf(d),d!==S||d.tag!==5&&d.tag!==6)&&(d=null)):(p=null,d=u),p!==d)){if(m=jT,C="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(m=WT,C="onPointerLeave",g="onPointerEnter",v="pointer"),S=p==null?h:hd(p),y=d==null?h:hd(d),h=new m(C,v+"leave",p,r,c),h.target=S,h.relatedTarget=y,C=null,xc(c)===u&&(m=new m(g,v+"enter",d,r,c),m.target=y,m.relatedTarget=S,C=m),S=C,p&&d)t:{for(m=p,g=d,v=0,y=m;y;y=Sf(y))v++;for(y=0,C=g;C;C=Sf(C))y++;for(;0<v-y;)m=Sf(m),v--;for(;0<y-v;)g=Sf(g),y--;for(;v--;){if(m===g||g!==null&&m===g.alternate)break t;m=Sf(m),g=Sf(g)}m=null}else m=null;p!==null&&nN(f,h,p,m,!1),d!==null&&S!==null&&nN(f,S,d,m,!0)}}e:{if(h=u?hd(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=_U;else if(JT(h))if(WP)E=VU;else{E=OU;var b=PU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=LU);if(E&&(E=E(t,u))){zP(f,E,r,c);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&yx(h,"number",h.value)}switch(b=u?hd(u):window,t){case"focusin":(JT(b)||b.contentEditable==="true")&&(cd=b,Rx=u,Og=null);break;case"focusout":Og=Rx=cd=null;break;case"mousedown":Bx=!0;break;case"contextmenu":case"mouseup":case"dragend":Bx=!1,eN(f,r,c);break;case"selectionchange":if(MU)break;case"keydown":case"keyup":eN(f,r,c)}var T;if(Yk)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ud?KP(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(HP&&r.locale!=="ko"&&(ud||O!=="onCompositionStart"?O==="onCompositionEnd"&&ud&&(T=FP()):(gl=c,Gk="value"in gl?gl.value:gl.textContent,ud=!0)),b=BS(u,O),0<b.length&&(O=new zT(O,t,null,r,c),f.push({event:O,listeners:b}),T?O.data=T:(T=jP(r),T!==null&&(O.data=T)))),(T=IU?TU(t,r):NU(t,r))&&(u=BS(u,"onBeforeInput"),0<u.length&&(c=new zT("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=T))}rO(f,e)})}function fv(t,e,r){return{instance:t,listener:e,currentTarget:r}}function BS(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=sv(t,r),i!=null&&n.unshift(fv(t,i,s)),i=sv(t,e),i!=null&&n.push(fv(t,i,s))),t=t.return}return n}function Sf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nN(t,e,r,n,s){for(var i=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=sv(r,i),l!=null&&a.unshift(fv(r,l,o))):s||(l=sv(r,i),l!=null&&a.push(fv(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var KU=/\r\n?/g,jU=/\u0000|\uFFFD/g;function sN(t){return(typeof t=="string"?t:""+t).replace(KU,`
`).replace(jU,"")}function Iy(t,e,r){if(e=sN(e),sN(t)!==e&&r)throw Error(xe(425))}function _S(){}var _x=null,Px=null;function Ox(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lx=typeof setTimeout=="function"?setTimeout:void 0,zU=typeof clearTimeout=="function"?clearTimeout:void 0,iN=typeof Promise=="function"?Promise:void 0,WU=typeof queueMicrotask=="function"?queueMicrotask:typeof iN<"u"?function(t){return iN.resolve(null).then(t).catch(GU)}:Lx;function GU(t){setTimeout(function(){throw t})}function HE(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),ov(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ov(e)}function Pl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var wp=Math.random().toString(36).slice(2),Gi="__reactFiber$"+wp,hv="__reactProps$"+wp,Xa="__reactContainer$"+wp,Vx="__reactEvents$"+wp,qU="__reactListeners$"+wp,JU="__reactHandles$"+wp;function xc(t){var e=t[Gi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Xa]||r[Gi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=aN(t);t!==null;){if(r=t[Gi])return r;t=aN(t)}return e}t=r,r=t.parentNode}return null}function Gv(t){return t=t[Gi]||t[Xa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(xe(33))}function Mw(t){return t[hv]||null}var Dx=[],dd=-1;function Xl(t){return{current:t}}function hr(t){0>dd||(t.current=Dx[dd],Dx[dd]=null,dd--)}function sr(t,e){dd++,Dx[dd]=t.current,t.current=e}var Wl={},Rn=Xl(Wl),ns=Xl(!1),qc=Wl;function Kd(t,e){var r=t.type.contextTypes;if(!r)return Wl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ss(t){return t=t.childContextTypes,t!=null}function PS(){hr(ns),hr(Rn)}function oN(t,e,r){if(Rn.current!==Wl)throw Error(xe(168));sr(Rn,e),sr(ns,r)}function sO(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(xe(108,P8(t)||"Unknown",s));return kr({},r,n)}function OS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wl,qc=Rn.current,sr(Rn,t),sr(ns,ns.current),!0}function lN(t,e,r){var n=t.stateNode;if(!n)throw Error(xe(169));r?(t=sO(t,e,qc),n.__reactInternalMemoizedMergedChildContext=t,hr(ns),hr(Rn),sr(Rn,t)):hr(ns),sr(ns,r)}var Ba=null,$w=!1,KE=!1;function iO(t){Ba===null?Ba=[t]:Ba.push(t)}function YU(t){$w=!0,iO(t)}function Zl(){if(!KE&&Ba!==null){KE=!0;var t=0,e=Wt;try{var r=Ba;for(Wt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ba=null,$w=!1}catch(s){throw Ba!==null&&(Ba=Ba.slice(t+1)),RP(Kk,Zl),s}finally{Wt=e,KE=!1}}return null}var pd=[],md=0,LS=null,VS=0,Hs=[],Ks=0,Jc=null,Oa=1,La="";function fu(t,e){pd[md++]=VS,pd[md++]=LS,LS=t,VS=e}function aO(t,e,r){Hs[Ks++]=Oa,Hs[Ks++]=La,Hs[Ks++]=Jc,Jc=t;var n=Oa;t=La;var s=32-Ii(n)-1;n&=~(1<<s),r+=1;var i=32-Ii(e)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Oa=1<<32-Ii(e)+s|r<<s|n,La=i+t}else Oa=1<<i|r<<s|n,La=t}function Xk(t){t.return!==null&&(fu(t,1),aO(t,1,0))}function Zk(t){for(;t===LS;)LS=pd[--md],pd[md]=null,VS=pd[--md],pd[md]=null;for(;t===Jc;)Jc=Hs[--Ks],Hs[Ks]=null,La=Hs[--Ks],Hs[Ks]=null,Oa=Hs[--Ks],Hs[Ks]=null}var Ts=null,ks=null,yr=!1,Ei=null;function oO(t,e){var r=Js(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function uN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ts=t,ks=Pl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ts=t,ks=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Jc!==null?{id:Oa,overflow:La}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Js(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ts=t,ks=null,!0):!1;default:return!1}}function Ux(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mx(t){if(yr){var e=ks;if(e){var r=e;if(!uN(t,e)){if(Ux(t))throw Error(xe(418));e=Pl(r.nextSibling);var n=Ts;e&&uN(t,e)?oO(n,r):(t.flags=t.flags&-4097|2,yr=!1,Ts=t)}}else{if(Ux(t))throw Error(xe(418));t.flags=t.flags&-4097|2,yr=!1,Ts=t}}}function cN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ts=t}function Ty(t){if(t!==Ts)return!1;if(!yr)return cN(t),yr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ox(t.type,t.memoizedProps)),e&&(e=ks)){if(Ux(t))throw lO(),Error(xe(418));for(;e;)oO(t,e),e=Pl(e.nextSibling)}if(cN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ks=Pl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ks=null}}else ks=Ts?Pl(t.stateNode.nextSibling):null;return!0}function lO(){for(var t=ks;t;)t=Pl(t.nextSibling)}function jd(){ks=Ts=null,yr=!1}function e2(t){Ei===null?Ei=[t]:Ei.push(t)}var QU=so.ReactCurrentBatchConfig;function yi(t,e){if(t&&t.defaultProps){e=kr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var DS=Xl(null),US=null,gd=null,t2=null;function r2(){t2=gd=US=null}function n2(t){var e=DS.current;hr(DS),t._currentValue=e}function $x(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Nd(t,e){US=t,t2=gd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ts=!0),t.firstContext=null)}function ni(t){var e=t._currentValue;if(t2!==t)if(t={context:t,memoizedValue:e,next:null},gd===null){if(US===null)throw Error(xe(308));gd=t,US.dependencies={lanes:0,firstContext:t}}else gd=gd.next=t;return e}var Ac=null;function s2(t){Ac===null?Ac=[t]:Ac.push(t)}function uO(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,s2(e)):(r.next=s.next,s.next=r),e.interleaved=r,Za(t,n)}function Za(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ol=!1;function i2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function za(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ol(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Pt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Za(t,r)}return s=n.interleaved,s===null?(e.next=e,s2(n)):(e.next=s.next,s.next=e),n.interleaved=e,Za(t,r)}function N1(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jk(t,r)}}function fN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function MS(t,e,r,n){var s=t.updateQueue;ol=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,c=u=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=t,m=o;switch(h=e,p=r,m.tag){case 1:if(d=m.payload,typeof d=="function"){f=d.call(p,f,h);break e}f=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=m.payload,h=typeof d=="function"?d.call(p,f,h):d,h==null)break e;f=kr({},f,h);break e;case 2:ol=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qc|=a,t.lanes=a,t.memoizedState=f}}function hN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(xe(191,s));s.call(n)}}}var fO=new uP.Component().refs;function Fx(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:kr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fw={isMounted:function(t){return(t=t._reactInternals)?cf(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=jn(),s=Vl(t),i=za(n,s);i.payload=e,r!=null&&(i.callback=r),e=Ol(t,i,s),e!==null&&(Ti(e,t,s,n),N1(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=jn(),s=Vl(t),i=za(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Ol(t,i,s),e!==null&&(Ti(e,t,s,n),N1(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=jn(),n=Vl(t),s=za(r,n);s.tag=2,e!=null&&(s.callback=e),e=Ol(t,s,n),e!==null&&(Ti(e,t,n,r),N1(e,t,n))}};function dN(t,e,r,n,s,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,a):e.prototype&&e.prototype.isPureReactComponent?!uv(r,n)||!uv(s,i):!0}function hO(t,e,r){var n=!1,s=Wl,i=e.contextType;return typeof i=="object"&&i!==null?i=ni(i):(s=ss(e)?qc:Rn.current,n=e.contextTypes,i=(n=n!=null)?Kd(t,s):Wl),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fw,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Fw.enqueueReplaceState(e,e.state,null)}function Hx(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs=fO,i2(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ni(i):(i=ss(e)?qc:Rn.current,s.context=Kd(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fx(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fw.enqueueReplaceState(s,s.state,null),MS(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zp(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var n=r.stateNode}if(!n)throw Error(xe(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var o=s.refs;o===fO&&(o=s.refs={}),a===null?delete o[i]:o[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,t))}return t}function Ny(t,e){throw t=Object.prototype.toString.call(e),Error(xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mN(t){var e=t._init;return e(t._payload)}function dO(t){function e(g,v){if(t){var y=g.deletions;y===null?(g.deletions=[v],g.flags|=16):y.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=Dl(g,v),g.index=0,g.sibling=null,g}function i(g,v,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags|=2,v):y):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,y,C){return v===null||v.tag!==6?(v=YE(y,g.mode,C),v.return=g,v):(v=s(v,y),v.return=g,v)}function l(g,v,y,C){var E=y.type;return E===ld?c(g,v,y.props.children,C,y.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===al&&mN(E)===v.type)?(C=s(v,y.props),C.ref=zp(g,v,y),C.return=g,C):(C=L1(y.type,y.key,y.props,null,g.mode,C),C.ref=zp(g,v,y),C.return=g,C)}function u(g,v,y,C){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=QE(y,g.mode,C),v.return=g,v):(v=s(v,y.children||[]),v.return=g,v)}function c(g,v,y,C,E){return v===null||v.tag!==7?(v=Oc(y,g.mode,C,E),v.return=g,v):(v=s(v,y),v.return=g,v)}function f(g,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=YE(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yy:return y=L1(v.type,v.key,v.props,null,g.mode,y),y.ref=zp(g,null,v),y.return=g,y;case od:return v=QE(v,g.mode,y),v.return=g,v;case al:var C=v._init;return f(g,C(v._payload),y)}if(x0(v)||$p(v))return v=Oc(v,g.mode,y,null),v.return=g,v;Ny(g,v)}return null}function h(g,v,y,C){var E=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:o(g,v,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yy:return y.key===E?l(g,v,y,C):null;case od:return y.key===E?u(g,v,y,C):null;case al:return E=y._init,h(g,v,E(y._payload),C)}if(x0(y)||$p(y))return E!==null?null:c(g,v,y,C,null);Ny(g,y)}return null}function p(g,v,y,C,E){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(y)||null,o(v,g,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yy:return g=g.get(C.key===null?y:C.key)||null,l(v,g,C,E);case od:return g=g.get(C.key===null?y:C.key)||null,u(v,g,C,E);case al:var b=C._init;return p(g,v,y,b(C._payload),E)}if(x0(C)||$p(C))return g=g.get(y)||null,c(v,g,C,E,null);Ny(v,C)}return null}function d(g,v,y,C){for(var E=null,b=null,T=v,O=v=0,H=null;T!==null&&O<y.length;O++){T.index>O?(H=T,T=null):H=T.sibling;var L=h(g,T,y[O],C);if(L===null){T===null&&(T=H);break}t&&T&&L.alternate===null&&e(g,T),v=i(L,v,O),b===null?E=L:b.sibling=L,b=L,T=H}if(O===y.length)return r(g,T),yr&&fu(g,O),E;if(T===null){for(;O<y.length;O++)T=f(g,y[O],C),T!==null&&(v=i(T,v,O),b===null?E=T:b.sibling=T,b=T);return yr&&fu(g,O),E}for(T=n(g,T);O<y.length;O++)H=p(T,g,O,y[O],C),H!==null&&(t&&H.alternate!==null&&T.delete(H.key===null?O:H.key),v=i(H,v,O),b===null?E=H:b.sibling=H,b=H);return t&&T.forEach(function(Y){return e(g,Y)}),yr&&fu(g,O),E}function m(g,v,y,C){var E=$p(y);if(typeof E!="function")throw Error(xe(150));if(y=E.call(y),y==null)throw Error(xe(151));for(var b=E=null,T=v,O=v=0,H=null,L=y.next();T!==null&&!L.done;O++,L=y.next()){T.index>O?(H=T,T=null):H=T.sibling;var Y=h(g,T,L.value,C);if(Y===null){T===null&&(T=H);break}t&&T&&Y.alternate===null&&e(g,T),v=i(Y,v,O),b===null?E=Y:b.sibling=Y,b=Y,T=H}if(L.done)return r(g,T),yr&&fu(g,O),E;if(T===null){for(;!L.done;O++,L=y.next())L=f(g,L.value,C),L!==null&&(v=i(L,v,O),b===null?E=L:b.sibling=L,b=L);return yr&&fu(g,O),E}for(T=n(g,T);!L.done;O++,L=y.next())L=p(T,g,O,L.value,C),L!==null&&(t&&L.alternate!==null&&T.delete(L.key===null?O:L.key),v=i(L,v,O),b===null?E=L:b.sibling=L,b=L);return t&&T.forEach(function(ne){return e(g,ne)}),yr&&fu(g,O),E}function S(g,v,y,C){if(typeof y=="object"&&y!==null&&y.type===ld&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case yy:e:{for(var E=y.key,b=v;b!==null;){if(b.key===E){if(E=y.type,E===ld){if(b.tag===7){r(g,b.sibling),v=s(b,y.props.children),v.return=g,g=v;break e}}else if(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===al&&mN(E)===b.type){r(g,b.sibling),v=s(b,y.props),v.ref=zp(g,b,y),v.return=g,g=v;break e}r(g,b);break}else e(g,b);b=b.sibling}y.type===ld?(v=Oc(y.props.children,g.mode,C,y.key),v.return=g,g=v):(C=L1(y.type,y.key,y.props,null,g.mode,C),C.ref=zp(g,v,y),C.return=g,g=C)}return a(g);case od:e:{for(b=y.key;v!==null;){if(v.key===b)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(g,v.sibling),v=s(v,y.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=QE(y,g.mode,C),v.return=g,g=v}return a(g);case al:return b=y._init,S(g,v,b(y._payload),C)}if(x0(y))return d(g,v,y,C);if($p(y))return m(g,v,y,C);Ny(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(r(g,v.sibling),v=s(v,y),v.return=g,g=v):(r(g,v),v=YE(y,g.mode,C),v.return=g,g=v),a(g)):r(g,v)}return S}var zd=dO(!0),pO=dO(!1),qv={},sa=Xl(qv),dv=Xl(qv),pv=Xl(qv);function kc(t){if(t===qv)throw Error(xe(174));return t}function a2(t,e){switch(sr(pv,e),sr(dv,t),sr(sa,qv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wx(e,t)}hr(sa),sr(sa,e)}function Wd(){hr(sa),hr(dv),hr(pv)}function mO(t){kc(pv.current);var e=kc(sa.current),r=wx(e,t.type);e!==r&&(sr(dv,t),sr(sa,r))}function o2(t){dv.current===t&&(hr(sa),hr(dv))}var br=Xl(0);function $S(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jE=[];function l2(){for(var t=0;t<jE.length;t++)jE[t]._workInProgressVersionPrimary=null;jE.length=0}var R1=so.ReactCurrentDispatcher,zE=so.ReactCurrentBatchConfig,Yc=0,xr=null,Yr=null,sn=null,FS=!1,Lg=!1,mv=0,XU=0;function Cn(){throw Error(xe(321))}function u2(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Bi(t[r],e[r]))return!1;return!0}function c2(t,e,r,n,s,i){if(Yc=i,xr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,R1.current=t===null||t.memoizedState===null?rM:nM,t=r(n,s),Lg){i=0;do{if(Lg=!1,mv=0,25<=i)throw Error(xe(301));i+=1,sn=Yr=null,e.updateQueue=null,R1.current=sM,t=r(n,s)}while(Lg)}if(R1.current=HS,e=Yr!==null&&Yr.next!==null,Yc=0,sn=Yr=xr=null,FS=!1,e)throw Error(xe(300));return t}function f2(){var t=mv!==0;return mv=0,t}function $i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?xr.memoizedState=sn=t:sn=sn.next=t,sn}function si(){if(Yr===null){var t=xr.alternate;t=t!==null?t.memoizedState:null}else t=Yr.next;var e=sn===null?xr.memoizedState:sn.next;if(e!==null)sn=e,Yr=t;else{if(t===null)throw Error(xe(310));Yr=t,t={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},sn===null?xr.memoizedState=sn=t:sn=sn.next=t}return sn}function gv(t,e){return typeof e=="function"?e(t):e}function WE(t){var e=si(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=Yr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Yc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,xr.lanes|=c,Qc|=c}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,Bi(n,e.memoizedState)||(ts=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,xr.lanes|=i,Qc|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function GE(t){var e=si(),r=e.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=t(i,a.action),a=a.next;while(a!==s);Bi(i,e.memoizedState)||(ts=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function gO(){}function vO(t,e){var r=xr,n=si(),s=e(),i=!Bi(n.memoizedState,s);if(i&&(n.memoizedState=s,ts=!0),n=n.queue,h2(wO.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||sn!==null&&sn.memoizedState.tag&1){if(r.flags|=2048,vv(9,SO.bind(null,r,n,s,e),void 0,null),ln===null)throw Error(xe(349));Yc&30||yO(r,e,s)}return s}function yO(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xr.updateQueue,e===null?(e={lastEffect:null,stores:null},xr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function SO(t,e,r,n){e.value=r,e.getSnapshot=n,CO(e)&&EO(t)}function wO(t,e,r){return r(function(){CO(e)&&EO(t)})}function CO(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Bi(t,r)}catch{return!0}}function EO(t){var e=Za(t,1);e!==null&&Ti(e,t,1,-1)}function gN(t){var e=$i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:t},e.queue=t,t=t.dispatch=tM.bind(null,xr,t),[e.memoizedState,t]}function vv(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xr.updateQueue,e===null?(e={lastEffect:null,stores:null},xr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function bO(){return si().memoizedState}function B1(t,e,r,n){var s=$i();xr.flags|=t,s.memoizedState=vv(1|e,r,void 0,n===void 0?null:n)}function Hw(t,e,r,n){var s=si();n=n===void 0?null:n;var i=void 0;if(Yr!==null){var a=Yr.memoizedState;if(i=a.destroy,n!==null&&u2(n,a.deps)){s.memoizedState=vv(e,r,i,n);return}}xr.flags|=t,s.memoizedState=vv(1|e,r,i,n)}function vN(t,e){return B1(8390656,8,t,e)}function h2(t,e){return Hw(2048,8,t,e)}function xO(t,e){return Hw(4,2,t,e)}function AO(t,e){return Hw(4,4,t,e)}function kO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IO(t,e,r){return r=r!=null?r.concat([t]):null,Hw(4,4,kO.bind(null,e,t),r)}function d2(){}function TO(t,e){var r=si();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&u2(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function NO(t,e){var r=si();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&u2(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function RO(t,e,r){return Yc&21?(Bi(r,e)||(r=PP(),xr.lanes|=r,Qc|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ts=!0),t.memoizedState=r)}function ZU(t,e){var r=Wt;Wt=r!==0&&4>r?r:4,t(!0);var n=zE.transition;zE.transition={};try{t(!1),e()}finally{Wt=r,zE.transition=n}}function BO(){return si().memoizedState}function eM(t,e,r){var n=Vl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_O(t))PO(e,r);else if(r=uO(t,e,r,n),r!==null){var s=jn();Ti(r,t,n,s),OO(r,e,n)}}function tM(t,e,r){var n=Vl(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_O(t))PO(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Bi(o,a)){var l=e.interleaved;l===null?(s.next=s,s2(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=uO(t,e,s,n),r!==null&&(s=jn(),Ti(r,t,n,s),OO(r,e,n))}}function _O(t){var e=t.alternate;return t===xr||e!==null&&e===xr}function PO(t,e){Lg=FS=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function OO(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,jk(t,r)}}var HS={readContext:ni,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},rM={readContext:ni,useCallback:function(t,e){return $i().memoizedState=[t,e===void 0?null:e],t},useContext:ni,useEffect:vN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,B1(4194308,4,kO.bind(null,e,t),r)},useLayoutEffect:function(t,e){return B1(4194308,4,t,e)},useInsertionEffect:function(t,e){return B1(4,2,t,e)},useMemo:function(t,e){var r=$i();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=$i();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=eM.bind(null,xr,t),[n.memoizedState,t]},useRef:function(t){var e=$i();return t={current:t},e.memoizedState=t},useState:gN,useDebugValue:d2,useDeferredValue:function(t){return $i().memoizedState=t},useTransition:function(){var t=gN(!1),e=t[0];return t=ZU.bind(null,t[1]),$i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=xr,s=$i();if(yr){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=e(),ln===null)throw Error(xe(349));Yc&30||yO(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,vN(wO.bind(null,n,i,t),[t]),n.flags|=2048,vv(9,SO.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=$i(),e=ln.identifierPrefix;if(yr){var r=La,n=Oa;r=(n&~(1<<32-Ii(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=mv++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=XU++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},nM={readContext:ni,useCallback:TO,useContext:ni,useEffect:h2,useImperativeHandle:IO,useInsertionEffect:xO,useLayoutEffect:AO,useMemo:NO,useReducer:WE,useRef:bO,useState:function(){return WE(gv)},useDebugValue:d2,useDeferredValue:function(t){var e=si();return RO(e,Yr.memoizedState,t)},useTransition:function(){var t=WE(gv)[0],e=si().memoizedState;return[t,e]},useMutableSource:gO,useSyncExternalStore:vO,useId:BO,unstable_isNewReconciler:!1},sM={readContext:ni,useCallback:TO,useContext:ni,useEffect:h2,useImperativeHandle:IO,useInsertionEffect:xO,useLayoutEffect:AO,useMemo:NO,useReducer:GE,useRef:bO,useState:function(){return GE(gv)},useDebugValue:d2,useDeferredValue:function(t){var e=si();return Yr===null?e.memoizedState=t:RO(e,Yr.memoizedState,t)},useTransition:function(){var t=GE(gv)[0],e=si().memoizedState;return[t,e]},useMutableSource:gO,useSyncExternalStore:vO,useId:BO,unstable_isNewReconciler:!1};function Gd(t,e){try{var r="",n=e;do r+=_8(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qE(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Kx(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var iM=typeof WeakMap=="function"?WeakMap:Map;function LO(t,e,r){r=za(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){jS||(jS=!0,Zx=n),Kx(t,e)},r}function VO(t,e,r){r=za(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Kx(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Kx(t,e),typeof n!="function"&&(Ll===null?Ll=new Set([this]):Ll.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function yN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new iM;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=SM.bind(null,t,e,r),e.then(t,t))}function SN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function wN(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=za(-1,1),e.tag=2,Ol(r,e,1))),r.lanes|=1),t)}var aM=so.ReactCurrentOwner,ts=!1;function Dn(t,e,r,n){e.child=t===null?pO(e,null,r,n):zd(e,t.child,r,n)}function CN(t,e,r,n,s){r=r.render;var i=e.ref;return Nd(e,s),n=c2(t,e,r,n,i,s),r=f2(),t!==null&&!ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,eo(t,e,s)):(yr&&r&&Xk(e),e.flags|=1,Dn(t,e,n,s),e.child)}function EN(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!C2(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,DO(t,e,i,n,s)):(t=L1(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:uv,r(a,n)&&t.ref===e.ref)return eo(t,e,s)}return e.flags|=1,t=Dl(i,n),t.ref=e.ref,t.return=e,e.child=t}function DO(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(uv(i,n)&&t.ref===e.ref)if(ts=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(ts=!0);else return e.lanes=t.lanes,eo(t,e,s)}return jx(t,e,r,n,s)}function UO(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(yd,gs),gs|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,sr(yd,gs),gs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,sr(yd,gs),gs|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,sr(yd,gs),gs|=n;return Dn(t,e,s,r),e.child}function MO(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function jx(t,e,r,n,s){var i=ss(r)?qc:Rn.current;return i=Kd(e,i),Nd(e,s),r=c2(t,e,r,n,i,s),n=f2(),t!==null&&!ts?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,eo(t,e,s)):(yr&&n&&Xk(e),e.flags|=1,Dn(t,e,r,s),e.child)}function bN(t,e,r,n,s){if(ss(r)){var i=!0;OS(e)}else i=!1;if(Nd(e,s),e.stateNode===null)_1(t,e),hO(e,r,n),Hx(e,r,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=ni(u):(u=ss(r)?qc:Rn.current,u=Kd(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&pN(e,a,n,u),ol=!1;var h=e.memoizedState;a.state=h,MS(e,n,a,s),l=e.memoizedState,o!==n||h!==l||ns.current||ol?(typeof c=="function"&&(Fx(e,r,c,n),l=e.memoizedState),(o=ol||dN(e,r,o,n,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,cO(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:yi(e.type,o),a.props=u,f=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=ni(l):(l=ss(r)?qc:Rn.current,l=Kd(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&pN(e,a,n,l),ol=!1,h=e.memoizedState,a.state=h,MS(e,n,a,s);var d=e.memoizedState;o!==f||h!==d||ns.current||ol?(typeof p=="function"&&(Fx(e,r,p,n),d=e.memoizedState),(u=ol||dN(e,r,u,n,h,d,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,d,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,d,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=d),a.props=n,a.state=d,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return zx(t,e,r,n,i,s)}function zx(t,e,r,n,s,i){MO(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&lN(e,r,!1),eo(t,e,i);n=e.stateNode,aM.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=zd(e,t.child,null,i),e.child=zd(e,null,o,i)):Dn(t,e,o,i),e.memoizedState=n.state,s&&lN(e,r,!0),e.child}function $O(t){var e=t.stateNode;e.pendingContext?oN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oN(t,e.context,!1),a2(t,e.containerInfo)}function xN(t,e,r,n,s){return jd(),e2(s),e.flags|=256,Dn(t,e,r,n),e.child}var Wx={dehydrated:null,treeContext:null,retryLane:0};function Gx(t){return{baseLanes:t,cachePool:null,transitions:null}}function FO(t,e,r){var n=e.pendingProps,s=br.current,i=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),sr(br,s&1),t===null)return Mx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,i?(n=e.mode,i=e.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=zw(a,n,0,null),t=Oc(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Gx(r),e.memoizedState=Wx,t):p2(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return oM(t,e,a,n,o,s,r);if(i){i=n.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Dl(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Dl(o,i):(i=Oc(i,a,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,a=t.child.memoizedState,a=a===null?Gx(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=t.childLanes&~r,e.memoizedState=Wx,n}return i=t.child,t=i.sibling,n=Dl(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function p2(t,e){return e=zw({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ry(t,e,r,n){return n!==null&&e2(n),zd(e,t.child,null,r),t=p2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oM(t,e,r,n,s,i,a){if(r)return e.flags&256?(e.flags&=-257,n=qE(Error(xe(422))),Ry(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=zw({mode:"visible",children:n.children},s,0,null),i=Oc(i,s,a,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&zd(e,t.child,null,a),e.child.memoizedState=Gx(a),e.memoizedState=Wx,i);if(!(e.mode&1))return Ry(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(xe(419)),n=qE(i,n,void 0),Ry(t,e,a,n)}if(o=(a&t.childLanes)!==0,ts||o){if(n=ln,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Za(t,s),Ti(n,t,s,-1))}return w2(),n=qE(Error(xe(421))),Ry(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wM.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ks=Pl(s.nextSibling),Ts=e,yr=!0,Ei=null,t!==null&&(Hs[Ks++]=Oa,Hs[Ks++]=La,Hs[Ks++]=Jc,Oa=t.id,La=t.overflow,Jc=e),e=p2(e,n.children),e.flags|=4096,e)}function AN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),$x(t.return,e,r)}function JE(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function HO(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Dn(t,e,n.children,r),n=br.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&AN(t,r,e);else if(t.tag===19)AN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(sr(br,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&$S(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),JE(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&$S(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}JE(e,!0,r,null,i);break;case"together":JE(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function eo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Qc|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(xe(153));if(e.child!==null){for(t=e.child,r=Dl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Dl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function lM(t,e,r){switch(e.tag){case 3:$O(e),jd();break;case 5:mO(e);break;case 1:ss(e.type)&&OS(e);break;case 4:a2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;sr(DS,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(sr(br,br.current&1),e.flags|=128,null):r&e.child.childLanes?FO(t,e,r):(sr(br,br.current&1),t=eo(t,e,r),t!==null?t.sibling:null);sr(br,br.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return HO(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),sr(br,br.current),n)break;return null;case 22:case 23:return e.lanes=0,UO(t,e,r)}return eo(t,e,r)}var KO,qx,jO,zO;KO=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qx=function(){};jO=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,kc(sa.current);var i=null;switch(r){case"input":s=gx(t,s),n=gx(t,n),i=[];break;case"select":s=kr({},s,{value:void 0}),n=kr({},n,{value:void 0}),i=[];break;case"textarea":s=Sx(t,s),n=Sx(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=_S)}Cx(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rv.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rv.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&or("scroll",t),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};zO=function(t,e,r,n){r!==n&&(e.flags|=4)};function Wp(t,e){if(!yr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function En(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function uM(t,e,r){var n=e.pendingProps;switch(Zk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(e),null;case 1:return ss(e.type)&&PS(),En(e),null;case 3:return n=e.stateNode,Wd(),hr(ns),hr(Rn),l2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ty(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ei!==null&&(rA(Ei),Ei=null))),qx(t,e),En(e),null;case 5:o2(e);var s=kc(pv.current);if(r=e.type,t!==null&&e.stateNode!=null)jO(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(xe(166));return En(e),null}if(t=kc(sa.current),Ty(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Gi]=e,n[hv]=i,t=(e.mode&1)!==0,r){case"dialog":or("cancel",n),or("close",n);break;case"iframe":case"object":case"embed":or("load",n);break;case"video":case"audio":for(s=0;s<k0.length;s++)or(k0[s],n);break;case"source":or("error",n);break;case"img":case"image":case"link":or("error",n),or("load",n);break;case"details":or("toggle",n);break;case"input":OT(n,i),or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},or("invalid",n);break;case"textarea":VT(n,i),or("invalid",n)}Cx(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Iy(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Iy(n.textContent,o,t),s=["children",""+o]):rv.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&or("scroll",n)}switch(r){case"input":Sy(n),LT(n,i,!0);break;case"textarea":Sy(n),DT(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=_S)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yP(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Gi]=e,t[hv]=n,KO(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ex(r,n),r){case"dialog":or("cancel",t),or("close",t),s=n;break;case"iframe":case"object":case"embed":or("load",t),s=n;break;case"video":case"audio":for(s=0;s<k0.length;s++)or(k0[s],t);s=n;break;case"source":or("error",t),s=n;break;case"img":case"image":case"link":or("error",t),or("load",t),s=n;break;case"details":or("toggle",t),s=n;break;case"input":OT(t,n),s=gx(t,n),or("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=kr({},n,{value:void 0}),or("invalid",t);break;case"textarea":VT(t,n),s=Sx(t,n),or("invalid",t);break;default:s=n}Cx(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?CP(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&SP(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&nv(t,l):typeof l=="number"&&nv(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rv.hasOwnProperty(i)?l!=null&&i==="onScroll"&&or("scroll",t):l!=null&&Uk(t,i,l,a))}switch(r){case"input":Sy(t),LT(t,n,!1);break;case"textarea":Sy(t),DT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+zl(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Ad(t,!!n.multiple,i,!1):n.defaultValue!=null&&Ad(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=_S)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return En(e),null;case 6:if(t&&e.stateNode!=null)zO(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(xe(166));if(r=kc(pv.current),kc(sa.current),Ty(e)){if(n=e.stateNode,r=e.memoizedProps,n[Gi]=e,(i=n.nodeValue!==r)&&(t=Ts,t!==null))switch(t.tag){case 3:Iy(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Iy(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Gi]=e,e.stateNode=n}return En(e),null;case 13:if(hr(br),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yr&&ks!==null&&e.mode&1&&!(e.flags&128))lO(),jd(),e.flags|=98560,i=!1;else if(i=Ty(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(xe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[Gi]=e}else jd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;En(e),i=!1}else Ei!==null&&(rA(Ei),Ei=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||br.current&1?Qr===0&&(Qr=3):w2())),e.updateQueue!==null&&(e.flags|=4),En(e),null);case 4:return Wd(),qx(t,e),t===null&&cv(e.stateNode.containerInfo),En(e),null;case 10:return n2(e.type._context),En(e),null;case 17:return ss(e.type)&&PS(),En(e),null;case 19:if(hr(br),i=e.memoizedState,i===null)return En(e),null;if(n=(e.flags&128)!==0,a=i.rendering,a===null)if(n)Wp(i,!1);else{if(Qr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=$S(t),a!==null){for(e.flags|=128,Wp(i,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,t=a.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return sr(br,br.current&1|2),e.child}t=t.sibling}i.tail!==null&&$r()>qd&&(e.flags|=128,n=!0,Wp(i,!1),e.lanes=4194304)}else{if(!n)if(t=$S(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Wp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!yr)return En(e),null}else 2*$r()-i.renderingStartTime>qd&&r!==1073741824&&(e.flags|=128,n=!0,Wp(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(r=i.last,r!==null?r.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$r(),e.sibling=null,r=br.current,sr(br,n?r&1|2:r&1),e):(En(e),null);case 22:case 23:return S2(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gs&1073741824&&(En(e),e.subtreeFlags&6&&(e.flags|=8192)):En(e),null;case 24:return null;case 25:return null}throw Error(xe(156,e.tag))}function cM(t,e){switch(Zk(e),e.tag){case 1:return ss(e.type)&&PS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wd(),hr(ns),hr(Rn),l2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return o2(e),null;case 13:if(hr(br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(xe(340));jd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return hr(br),null;case 4:return Wd(),null;case 10:return n2(e.type._context),null;case 22:case 23:return S2(),null;case 24:return null;default:return null}}var By=!1,Tn=!1,fM=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function vd(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_r(t,e,n)}else r.current=null}function Jx(t,e,r){try{r()}catch(n){_r(t,e,n)}}var kN=!1;function hM(t,e){if(_x=NS,t=JP(),Qk(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(o=a+s),f!==i||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===r&&++u===s&&(o=a),h===i&&++c===n&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Px={focusedElem:t,selectionRange:r},NS=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){e=Ue;try{var d=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var m=d.memoizedProps,S=d.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:yi(e.type,m),S);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(C){_r(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}return d=kN,kN=!1,d}function Vg(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jx(e,r,i)}s=s.next}while(s!==n)}}function Kw(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Yx(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function WO(t){var e=t.alternate;e!==null&&(t.alternate=null,WO(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gi],delete e[hv],delete e[Vx],delete e[qU],delete e[JU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function GO(t){return t.tag===5||t.tag===3||t.tag===4}function IN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=_S));else if(n!==4&&(t=t.child,t!==null))for(Qx(t,e,r),t=t.sibling;t!==null;)Qx(t,e,r),t=t.sibling}function Xx(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Xx(t,e,r),t=t.sibling;t!==null;)Xx(t,e,r),t=t.sibling}var hn=null,Si=!1;function mo(t,e,r){for(r=r.child;r!==null;)qO(t,e,r),r=r.sibling}function qO(t,e,r){if(na&&typeof na.onCommitFiberUnmount=="function")try{na.onCommitFiberUnmount(Lw,r)}catch{}switch(r.tag){case 5:Tn||vd(r,e);case 6:var n=hn,s=Si;hn=null,mo(t,e,r),hn=n,Si=s,hn!==null&&(Si?(t=hn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):hn.removeChild(r.stateNode));break;case 18:hn!==null&&(Si?(t=hn,r=r.stateNode,t.nodeType===8?HE(t.parentNode,r):t.nodeType===1&&HE(t,r),ov(t)):HE(hn,r.stateNode));break;case 4:n=hn,s=Si,hn=r.stateNode.containerInfo,Si=!0,mo(t,e,r),hn=n,Si=s;break;case 0:case 11:case 14:case 15:if(!Tn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Jx(r,e,a),s=s.next}while(s!==n)}mo(t,e,r);break;case 1:if(!Tn&&(vd(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){_r(r,e,o)}mo(t,e,r);break;case 21:mo(t,e,r);break;case 22:r.mode&1?(Tn=(n=Tn)||r.memoizedState!==null,mo(t,e,r),Tn=n):mo(t,e,r);break;default:mo(t,e,r)}}function TN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new fM),e.forEach(function(n){var s=CM.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ci(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:hn=o.stateNode,Si=!1;break e;case 3:hn=o.stateNode.containerInfo,Si=!0;break e;case 4:hn=o.stateNode.containerInfo,Si=!0;break e}o=o.return}if(hn===null)throw Error(xe(160));qO(i,a,s),hn=null,Si=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){_r(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JO(e,t),e=e.sibling}function JO(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ci(e,t),Li(t),n&4){try{Vg(3,t,t.return),Kw(3,t)}catch(m){_r(t,t.return,m)}try{Vg(5,t,t.return)}catch(m){_r(t,t.return,m)}}break;case 1:ci(e,t),Li(t),n&512&&r!==null&&vd(r,r.return);break;case 5:if(ci(e,t),Li(t),n&512&&r!==null&&vd(r,r.return),t.flags&32){var s=t.stateNode;try{nv(s,"")}catch(m){_r(t,t.return,m)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,a=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&gP(s,i),Ex(o,a);var u=Ex(o,i);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?CP(s,f):c==="dangerouslySetInnerHTML"?SP(s,f):c==="children"?nv(s,f):Uk(s,c,f,u)}switch(o){case"input":vx(s,i);break;case"textarea":vP(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ad(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ad(s,!!i.multiple,i.defaultValue,!0):Ad(s,!!i.multiple,i.multiple?[]:"",!1))}s[hv]=i}catch(m){_r(t,t.return,m)}}break;case 6:if(ci(e,t),Li(t),n&4){if(t.stateNode===null)throw Error(xe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(m){_r(t,t.return,m)}}break;case 3:if(ci(e,t),Li(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ov(e.containerInfo)}catch(m){_r(t,t.return,m)}break;case 4:ci(e,t),Li(t);break;case 13:ci(e,t),Li(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(v2=$r())),n&4&&TN(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Tn=(u=Tn)||c,ci(e,t),Tn=u):ci(e,t),Li(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ue=t,c=t.child;c!==null;){for(f=Ue=c;Ue!==null;){switch(h=Ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:Vg(4,h,h.return);break;case 1:vd(h,h.return);var d=h.stateNode;if(typeof d.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,d.props=e.memoizedProps,d.state=e.memoizedState,d.componentWillUnmount()}catch(m){_r(n,r,m)}}break;case 5:vd(h,h.return);break;case 22:if(h.memoizedState!==null){RN(f);continue}}p!==null?(p.return=h,Ue=p):RN(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=wP("display",a))}catch(m){_r(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){_r(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ci(e,t),Li(t),n&4&&TN(t);break;case 21:break;default:ci(e,t),Li(t)}}function Li(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(GO(r)){var n=r;break e}r=r.return}throw Error(xe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(nv(s,""),n.flags&=-33);var i=IN(t);Xx(t,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=IN(t);Qx(t,o,a);break;default:throw Error(xe(161))}}catch(l){_r(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dM(t,e,r){Ue=t,YO(t)}function YO(t,e,r){for(var n=(t.mode&1)!==0;Ue!==null;){var s=Ue,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||By;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Tn;o=By;var u=Tn;if(By=a,(Tn=l)&&!u)for(Ue=s;Ue!==null;)a=Ue,l=a.child,a.tag===22&&a.memoizedState!==null?BN(s):l!==null?(l.return=a,Ue=l):BN(s);for(;i!==null;)Ue=i,YO(i),i=i.sibling;Ue=s,By=o,Tn=u}NN(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ue=i):NN(t)}}function NN(t){for(;Ue!==null;){var e=Ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||Kw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Tn)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:yi(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&hN(e,i,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}hN(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&ov(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}Tn||e.flags&512&&Yx(e)}catch(h){_r(e,e.return,h)}}if(e===t){Ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ue=r;break}Ue=e.return}}function RN(t){for(;Ue!==null;){var e=Ue;if(e===t){Ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ue=r;break}Ue=e.return}}function BN(t){for(;Ue!==null;){var e=Ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Kw(4,e)}catch(l){_r(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){_r(e,s,l)}}var i=e.return;try{Yx(e)}catch(l){_r(e,i,l)}break;case 5:var a=e.return;try{Yx(e)}catch(l){_r(e,a,l)}}}catch(l){_r(e,e.return,l)}if(e===t){Ue=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ue=o;break}Ue=e.return}}var pM=Math.ceil,KS=so.ReactCurrentDispatcher,m2=so.ReactCurrentOwner,ti=so.ReactCurrentBatchConfig,Pt=0,ln=null,Gr=null,Sn=0,gs=0,yd=Xl(0),Qr=0,yv=null,Qc=0,jw=0,g2=0,Dg=null,Zn=null,v2=0,qd=1/0,Na=null,jS=!1,Zx=null,Ll=null,_y=!1,vl=null,zS=0,Ug=0,eA=null,P1=-1,O1=0;function jn(){return Pt&6?$r():P1!==-1?P1:P1=$r()}function Vl(t){return t.mode&1?Pt&2&&Sn!==0?Sn&-Sn:QU.transition!==null?(O1===0&&(O1=PP()),O1):(t=Wt,t!==0||(t=window.event,t=t===void 0?16:$P(t.type)),t):1}function Ti(t,e,r,n){if(50<Ug)throw Ug=0,eA=null,Error(xe(185));zv(t,r,n),(!(Pt&2)||t!==ln)&&(t===ln&&(!(Pt&2)&&(jw|=r),Qr===4&&dl(t,Sn)),is(t,n),r===1&&Pt===0&&!(e.mode&1)&&(qd=$r()+500,$w&&Zl()))}function is(t,e){var r=t.callbackNode;Q8(t,e);var n=TS(t,t===ln?Sn:0);if(n===0)r!==null&&$T(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&$T(r),e===1)t.tag===0?YU(_N.bind(null,t)):iO(_N.bind(null,t)),WU(function(){!(Pt&6)&&Zl()}),r=null;else{switch(OP(n)){case 1:r=Kk;break;case 4:r=BP;break;case 16:r=IS;break;case 536870912:r=_P;break;default:r=IS}r=sL(r,QO.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function QO(t,e){if(P1=-1,O1=0,Pt&6)throw Error(xe(327));var r=t.callbackNode;if(Rd()&&t.callbackNode!==r)return null;var n=TS(t,t===ln?Sn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=WS(t,n);else{e=n;var s=Pt;Pt|=2;var i=ZO();(ln!==t||Sn!==e)&&(Na=null,qd=$r()+500,Pc(t,e));do try{vM();break}catch(o){XO(t,o)}while(!0);r2(),KS.current=i,Pt=s,Gr!==null?e=0:(ln=null,Sn=0,e=Qr)}if(e!==0){if(e===2&&(s=Ix(t),s!==0&&(n=s,e=tA(t,s))),e===1)throw r=yv,Pc(t,0),dl(t,n),is(t,$r()),r;if(e===6)dl(t,n);else{if(s=t.current.alternate,!(n&30)&&!mM(s)&&(e=WS(t,n),e===2&&(i=Ix(t),i!==0&&(n=i,e=tA(t,i))),e===1))throw r=yv,Pc(t,0),dl(t,n),is(t,$r()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(xe(345));case 2:hu(t,Zn,Na);break;case 3:if(dl(t,n),(n&130023424)===n&&(e=v2+500-$r(),10<e)){if(TS(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){jn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Lx(hu.bind(null,t,Zn,Na),e);break}hu(t,Zn,Na);break;case 4:if(dl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Ii(n);i=1<<a,a=e[a],a>s&&(s=a),n&=~i}if(n=s,n=$r()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pM(n/1960))-n,10<n){t.timeoutHandle=Lx(hu.bind(null,t,Zn,Na),n);break}hu(t,Zn,Na);break;case 5:hu(t,Zn,Na);break;default:throw Error(xe(329))}}}return is(t,$r()),t.callbackNode===r?QO.bind(null,t):null}function tA(t,e){var r=Dg;return t.current.memoizedState.isDehydrated&&(Pc(t,e).flags|=256),t=WS(t,e),t!==2&&(e=Zn,Zn=r,e!==null&&rA(e)),t}function rA(t){Zn===null?Zn=t:Zn.push.apply(Zn,t)}function mM(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Bi(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function dl(t,e){for(e&=~g2,e&=~jw,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ii(e),n=1<<r;t[r]=-1,e&=~n}}function _N(t){if(Pt&6)throw Error(xe(327));Rd();var e=TS(t,0);if(!(e&1))return is(t,$r()),null;var r=WS(t,e);if(t.tag!==0&&r===2){var n=Ix(t);n!==0&&(e=n,r=tA(t,n))}if(r===1)throw r=yv,Pc(t,0),dl(t,e),is(t,$r()),r;if(r===6)throw Error(xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hu(t,Zn,Na),is(t,$r()),null}function y2(t,e){var r=Pt;Pt|=1;try{return t(e)}finally{Pt=r,Pt===0&&(qd=$r()+500,$w&&Zl())}}function Xc(t){vl!==null&&vl.tag===0&&!(Pt&6)&&Rd();var e=Pt;Pt|=1;var r=ti.transition,n=Wt;try{if(ti.transition=null,Wt=1,t)return t()}finally{Wt=n,ti.transition=r,Pt=e,!(Pt&6)&&Zl()}}function S2(){gs=yd.current,hr(yd)}function Pc(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,zU(r)),Gr!==null)for(r=Gr.return;r!==null;){var n=r;switch(Zk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&PS();break;case 3:Wd(),hr(ns),hr(Rn),l2();break;case 5:o2(n);break;case 4:Wd();break;case 13:hr(br);break;case 19:hr(br);break;case 10:n2(n.type._context);break;case 22:case 23:S2()}r=r.return}if(ln=t,Gr=t=Dl(t.current,null),Sn=gs=e,Qr=0,yv=null,g2=jw=Qc=0,Zn=Dg=null,Ac!==null){for(e=0;e<Ac.length;e++)if(r=Ac[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Ac=null}return t}function XO(t,e){do{var r=Gr;try{if(r2(),R1.current=HS,FS){for(var n=xr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}FS=!1}if(Yc=0,sn=Yr=xr=null,Lg=!1,mv=0,m2.current=null,r===null||r.return===null){Qr=1,yv=e,Gr=null;break}e:{var i=t,a=r.return,o=r,l=e;if(e=Sn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=SN(a);if(p!==null){p.flags&=-257,wN(p,a,o,i,e),p.mode&1&&yN(i,u,e),e=p,l=u;var d=e.updateQueue;if(d===null){var m=new Set;m.add(l),e.updateQueue=m}else d.add(l);break e}else{if(!(e&1)){yN(i,u,e),w2();break e}l=Error(xe(426))}}else if(yr&&o.mode&1){var S=SN(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),wN(S,a,o,i,e),e2(Gd(l,o));break e}}i=l=Gd(l,o),Qr!==4&&(Qr=2),Dg===null?Dg=[i]:Dg.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=LO(i,l,e);fN(i,g);break e;case 1:o=l;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ll===null||!Ll.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=VO(i,o,e);fN(i,C);break e}}i=i.return}while(i!==null)}tL(r)}catch(E){e=E,Gr===r&&r!==null&&(Gr=r=r.return);continue}break}while(!0)}function ZO(){var t=KS.current;return KS.current=HS,t===null?HS:t}function w2(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),ln===null||!(Qc&268435455)&&!(jw&268435455)||dl(ln,Sn)}function WS(t,e){var r=Pt;Pt|=2;var n=ZO();(ln!==t||Sn!==e)&&(Na=null,Pc(t,e));do try{gM();break}catch(s){XO(t,s)}while(!0);if(r2(),Pt=r,KS.current=n,Gr!==null)throw Error(xe(261));return ln=null,Sn=0,Qr}function gM(){for(;Gr!==null;)eL(Gr)}function vM(){for(;Gr!==null&&!H8();)eL(Gr)}function eL(t){var e=nL(t.alternate,t,gs);t.memoizedProps=t.pendingProps,e===null?tL(t):Gr=e,m2.current=null}function tL(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=cM(r,e),r!==null){r.flags&=32767,Gr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qr=6,Gr=null;return}}else if(r=uM(r,e,gs),r!==null){Gr=r;return}if(e=e.sibling,e!==null){Gr=e;return}Gr=e=t}while(e!==null);Qr===0&&(Qr=5)}function hu(t,e,r){var n=Wt,s=ti.transition;try{ti.transition=null,Wt=1,yM(t,e,r,n)}finally{ti.transition=s,Wt=n}return null}function yM(t,e,r,n){do Rd();while(vl!==null);if(Pt&6)throw Error(xe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(xe(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(X8(t,i),t===ln&&(Gr=ln=null,Sn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_y||(_y=!0,sL(IS,function(){return Rd(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ti.transition,ti.transition=null;var a=Wt;Wt=1;var o=Pt;Pt|=4,m2.current=null,hM(t,r),JO(r,t),UU(Px),NS=!!_x,Px=_x=null,t.current=r,dM(r),K8(),Pt=o,Wt=a,ti.transition=i}else t.current=r;if(_y&&(_y=!1,vl=t,zS=s),i=t.pendingLanes,i===0&&(Ll=null),W8(r.stateNode),is(t,$r()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(jS)throw jS=!1,t=Zx,Zx=null,t;return zS&1&&t.tag!==0&&Rd(),i=t.pendingLanes,i&1?t===eA?Ug++:(Ug=0,eA=t):Ug=0,Zl(),null}function Rd(){if(vl!==null){var t=OP(zS),e=ti.transition,r=Wt;try{if(ti.transition=null,Wt=16>t?16:t,vl===null)var n=!1;else{if(t=vl,vl=null,zS=0,Pt&6)throw Error(xe(331));var s=Pt;for(Pt|=4,Ue=t.current;Ue!==null;){var i=Ue,a=i.child;if(Ue.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ue=u;Ue!==null;){var c=Ue;switch(c.tag){case 0:case 11:case 15:Vg(8,c,i)}var f=c.child;if(f!==null)f.return=c,Ue=f;else for(;Ue!==null;){c=Ue;var h=c.sibling,p=c.return;if(WO(c),c===u){Ue=null;break}if(h!==null){h.return=p,Ue=h;break}Ue=p}}}var d=i.alternate;if(d!==null){var m=d.child;if(m!==null){d.child=null;do{var S=m.sibling;m.sibling=null,m=S}while(m!==null)}}Ue=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,Ue=a;else e:for(;Ue!==null;){if(i=Ue,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Vg(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Ue=g;break e}Ue=i.return}}var v=t.current;for(Ue=v;Ue!==null;){a=Ue;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Ue=y;else e:for(a=v;Ue!==null;){if(o=Ue,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Kw(9,o)}}catch(E){_r(o,o.return,E)}if(o===a){Ue=null;break e}var C=o.sibling;if(C!==null){C.return=o.return,Ue=C;break e}Ue=o.return}}if(Pt=s,Zl(),na&&typeof na.onPostCommitFiberRoot=="function")try{na.onPostCommitFiberRoot(Lw,t)}catch{}n=!0}return n}finally{Wt=r,ti.transition=e}}return!1}function PN(t,e,r){e=Gd(r,e),e=LO(t,e,1),t=Ol(t,e,1),e=jn(),t!==null&&(zv(t,1,e),is(t,e))}function _r(t,e,r){if(t.tag===3)PN(t,t,r);else for(;e!==null;){if(e.tag===3){PN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ll===null||!Ll.has(n))){t=Gd(r,t),t=VO(e,t,1),e=Ol(e,t,1),t=jn(),e!==null&&(zv(e,1,t),is(e,t));break}}e=e.return}}function SM(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=jn(),t.pingedLanes|=t.suspendedLanes&r,ln===t&&(Sn&r)===r&&(Qr===4||Qr===3&&(Sn&130023424)===Sn&&500>$r()-v2?Pc(t,0):g2|=r),is(t,e)}function rL(t,e){e===0&&(t.mode&1?(e=Ey,Ey<<=1,!(Ey&130023424)&&(Ey=4194304)):e=1);var r=jn();t=Za(t,e),t!==null&&(zv(t,e,r),is(t,r))}function wM(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),rL(t,r)}function CM(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(xe(314))}n!==null&&n.delete(e),rL(t,r)}var nL;nL=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ns.current)ts=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ts=!1,lM(t,e,r);ts=!!(t.flags&131072)}else ts=!1,yr&&e.flags&1048576&&aO(e,VS,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;_1(t,e),t=e.pendingProps;var s=Kd(e,Rn.current);Nd(e,r),s=c2(null,e,n,t,s,r);var i=f2();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ss(n)?(i=!0,OS(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,i2(e),s.updater=Fw,e.stateNode=s,s._reactInternals=e,Hx(e,n,t,r),e=zx(null,e,n,!0,i,r)):(e.tag=0,yr&&i&&Xk(e),Dn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(_1(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=bM(n),t=yi(n,t),s){case 0:e=jx(null,e,n,t,r);break e;case 1:e=bN(null,e,n,t,r);break e;case 11:e=CN(null,e,n,t,r);break e;case 14:e=EN(null,e,n,yi(n.type,t),r);break e}throw Error(xe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yi(n,s),jx(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yi(n,s),bN(t,e,n,s,r);case 3:e:{if($O(e),t===null)throw Error(xe(387));n=e.pendingProps,i=e.memoizedState,s=i.element,cO(t,e),MS(e,n,null,r);var a=e.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gd(Error(xe(423)),e),e=xN(t,e,n,r,s);break e}else if(n!==s){s=Gd(Error(xe(424)),e),e=xN(t,e,n,r,s);break e}else for(ks=Pl(e.stateNode.containerInfo.firstChild),Ts=e,yr=!0,Ei=null,r=pO(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jd(),n===s){e=eo(t,e,r);break e}Dn(t,e,n,r)}e=e.child}return e;case 5:return mO(e),t===null&&Mx(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,a=s.children,Ox(n,s)?a=null:i!==null&&Ox(n,i)&&(e.flags|=32),MO(t,e),Dn(t,e,a,r),e.child;case 6:return t===null&&Mx(e),null;case 13:return FO(t,e,r);case 4:return a2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=zd(e,null,n,r):Dn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yi(n,s),CN(t,e,n,s,r);case 7:return Dn(t,e,e.pendingProps,r),e.child;case 8:return Dn(t,e,e.pendingProps.children,r),e.child;case 12:return Dn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,a=s.value,sr(DS,n._currentValue),n._currentValue=a,i!==null)if(Bi(i.value,a)){if(i.children===s.children&&!ns.current){e=eo(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=za(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),$x(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===e.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(xe(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),$x(a,r,e),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Dn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Nd(e,r),s=ni(s),n=n(s),e.flags|=1,Dn(t,e,n,r),e.child;case 14:return n=e.type,s=yi(n,e.pendingProps),s=yi(n.type,s),EN(t,e,n,s,r);case 15:return DO(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yi(n,s),_1(t,e),e.tag=1,ss(n)?(t=!0,OS(e)):t=!1,Nd(e,r),hO(e,n,s),Hx(e,n,s,r),zx(null,e,n,!0,t,r);case 19:return HO(t,e,r);case 22:return UO(t,e,r)}throw Error(xe(156,e.tag))};function sL(t,e){return RP(t,e)}function EM(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(t,e,r,n){return new EM(t,e,r,n)}function C2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bM(t){if(typeof t=="function")return C2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$k)return 11;if(t===Fk)return 14}return 2}function Dl(t,e){var r=t.alternate;return r===null?(r=Js(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function L1(t,e,r,n,s,i){var a=2;if(n=t,typeof t=="function")C2(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ld:return Oc(r.children,s,i,e);case Mk:a=8,s|=8;break;case hx:return t=Js(12,r,e,s|2),t.elementType=hx,t.lanes=i,t;case dx:return t=Js(13,r,e,s),t.elementType=dx,t.lanes=i,t;case px:return t=Js(19,r,e,s),t.elementType=px,t.lanes=i,t;case dP:return zw(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fP:a=10;break e;case hP:a=9;break e;case $k:a=11;break e;case Fk:a=14;break e;case al:a=16,n=null;break e}throw Error(xe(130,t==null?t:typeof t,""))}return e=Js(a,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Oc(t,e,r,n){return t=Js(7,t,n,e),t.lanes=r,t}function zw(t,e,r,n){return t=Js(22,t,n,e),t.elementType=dP,t.lanes=r,t.stateNode={isHidden:!1},t}function YE(t,e,r){return t=Js(6,t,null,e),t.lanes=r,t}function QE(t,e,r){return e=Js(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xM(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=BE(0),this.expirationTimes=BE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=BE(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function E2(t,e,r,n,s,i,a,o,l){return t=new xM(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Js(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},i2(i),t}function AM(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:od,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function iL(t){if(!t)return Wl;t=t._reactInternals;e:{if(cf(t)!==t||t.tag!==1)throw Error(xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ss(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(xe(171))}if(t.tag===1){var r=t.type;if(ss(r))return sO(t,r,e)}return e}function aL(t,e,r,n,s,i,a,o,l){return t=E2(r,n,!0,t,s,i,a,o,l),t.context=iL(null),r=t.current,n=jn(),s=Vl(r),i=za(n,s),i.callback=e??null,Ol(r,i,s),t.current.lanes=s,zv(t,s,n),is(t,n),t}function Ww(t,e,r,n){var s=e.current,i=jn(),a=Vl(s);return r=iL(r),e.context===null?e.context=r:e.pendingContext=r,e=za(i,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ol(s,e,a),t!==null&&(Ti(t,s,a,i),N1(t,s,a)),a}function GS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ON(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function b2(t,e){ON(t,e),(t=t.alternate)&&ON(t,e)}function kM(){return null}var oL=typeof reportError=="function"?reportError:function(t){console.error(t)};function x2(t){this._internalRoot=t}Gw.prototype.render=x2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(xe(409));Ww(t,e,null,null)};Gw.prototype.unmount=x2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xc(function(){Ww(null,t,null,null)}),e[Xa]=null}};function Gw(t){this._internalRoot=t}Gw.prototype.unstable_scheduleHydration=function(t){if(t){var e=DP();t={blockedOn:null,target:t,priority:e};for(var r=0;r<hl.length&&e!==0&&e<hl[r].priority;r++);hl.splice(r,0,t),r===0&&MP(t)}};function A2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LN(){}function IM(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=GS(a);i.call(u)}}var a=aL(e,n,t,0,null,!1,!1,"",LN);return t._reactRootContainer=a,t[Xa]=a.current,cv(t.nodeType===8?t.parentNode:t),Xc(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=GS(l);o.call(u)}}var l=E2(t,0,!1,null,null,!1,!1,"",LN);return t._reactRootContainer=l,t[Xa]=l.current,cv(t.nodeType===8?t.parentNode:t),Xc(function(){Ww(e,l,r,n)}),l}function Jw(t,e,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=GS(a);o.call(l)}}Ww(e,a,t,s)}else a=IM(r,e,t,s,n);return GS(a)}LP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=A0(e.pendingLanes);r!==0&&(jk(e,r|1),is(e,$r()),!(Pt&6)&&(qd=$r()+500,Zl()))}break;case 13:Xc(function(){var n=Za(t,1);if(n!==null){var s=jn();Ti(n,t,1,s)}}),b2(t,1)}};zk=function(t){if(t.tag===13){var e=Za(t,134217728);if(e!==null){var r=jn();Ti(e,t,134217728,r)}b2(t,134217728)}};VP=function(t){if(t.tag===13){var e=Vl(t),r=Za(t,e);if(r!==null){var n=jn();Ti(r,t,e,n)}b2(t,e)}};DP=function(){return Wt};UP=function(t,e){var r=Wt;try{return Wt=t,e()}finally{Wt=r}};xx=function(t,e,r){switch(e){case"input":if(vx(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Mw(n);if(!s)throw Error(xe(90));mP(n),vx(n,s)}}}break;case"textarea":vP(t,r);break;case"select":e=r.value,e!=null&&Ad(t,!!r.multiple,e,!1)}};xP=y2;AP=Xc;var TM={usingClientEntryPoint:!1,Events:[Gv,hd,Mw,EP,bP,y2]},Gp={findFiberByHostInstance:xc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},NM={bundleType:Gp.bundleType,version:Gp.version,rendererPackageName:Gp.rendererPackageName,rendererConfig:Gp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=TP(t),t===null?null:t.stateNode},findFiberByHostInstance:Gp.findFiberByHostInstance||kM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Py=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Py.isDisabled&&Py.supportsFiber)try{Lw=Py.inject(NM),na=Py}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TM;_s.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A2(e))throw Error(xe(200));return AM(t,e,null,r)};_s.createRoot=function(t,e){if(!A2(t))throw Error(xe(299));var r=!1,n="",s=oL;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=E2(t,1,!1,null,null,r,!1,n,s),t[Xa]=e.current,cv(t.nodeType===8?t.parentNode:t),new x2(e)};_s.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(xe(188)):(t=Object.keys(t).join(","),Error(xe(268,t)));return t=TP(e),t=t===null?null:t.stateNode,t};_s.flushSync=function(t){return Xc(t)};_s.hydrate=function(t,e,r){if(!qw(e))throw Error(xe(200));return Jw(null,t,e,!0,r)};_s.hydrateRoot=function(t,e,r){if(!A2(t))throw Error(xe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=oL;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=aL(e,null,t,1,r??null,s,!1,i,a),t[Xa]=e.current,cv(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Gw(e)};_s.render=function(t,e,r){if(!qw(e))throw Error(xe(200));return Jw(null,t,e,!1,r)};_s.unmountComponentAtNode=function(t){if(!qw(t))throw Error(xe(40));return t._reactRootContainer?(Xc(function(){Jw(null,null,t,!1,function(){t._reactRootContainer=null,t[Xa]=null})}),!0):!1};_s.unstable_batchedUpdates=y2;_s.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qw(r))throw Error(xe(200));if(t==null||t._reactInternals===void 0)throw Error(xe(38));return Jw(t,e,r,!1,n)};_s.version="18.2.0-next-9e3b772b8-20220608";function lL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lL)}catch(t){console.error(t)}}lL(),aP.exports=_s;var Yw=aP.exports;const I0=Kv(Yw);var uL,VN=Yw;uL=VN.createRoot,VN.hydrateRoot;const RM={black:"#000",white:"#fff"},Sv=RM,BM={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},wf=BM,_M={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Cf=_M,PM={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ef=PM,OM={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},bf=OM,LM={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},xf=LM,VM={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},qp=VM,DM={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},UM=DM;function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R.apply(this,arguments)}function _a(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function cL(t){if(!_a(t))return t;const e={};return Object.keys(t).forEach(r=>{e[r]=cL(t[r])}),e}function Nn(t,e,r={clone:!0}){const n=r.clone?R({},t):t;return _a(t)&&_a(e)&&Object.keys(e).forEach(s=>{s!=="__proto__"&&(_a(e[s])&&s in t&&_a(t[s])?n[s]=Nn(t[s],e[s],r):r.clone?n[s]=_a(e[s])?cL(e[s]):e[s]:n[s]=e[s])}),n}var fL={exports:{}},MM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$M=MM,FM=$M;function hL(){}function dL(){}dL.resetWarningCache=hL;var HM=function(){function t(n,s,i,a,o,l){if(l!==FM){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dL,resetWarningCache:hL};return r.PropTypes=r,r};fL.exports=HM();var pL=fL.exports;const Xt=Kv(pL);function Gl(t){let e="https://mui.com/production-error/?code="+t;for(let r=1;r<arguments.length;r+=1)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}var Jt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2=Symbol.for("react.element"),I2=Symbol.for("react.portal"),Qw=Symbol.for("react.fragment"),Xw=Symbol.for("react.strict_mode"),Zw=Symbol.for("react.profiler"),eC=Symbol.for("react.provider"),tC=Symbol.for("react.context"),KM=Symbol.for("react.server_context"),rC=Symbol.for("react.forward_ref"),nC=Symbol.for("react.suspense"),sC=Symbol.for("react.suspense_list"),iC=Symbol.for("react.memo"),aC=Symbol.for("react.lazy"),jM=Symbol.for("react.offscreen"),mL;mL=Symbol.for("react.module.reference");function oi(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case k2:switch(t=t.type,t){case Qw:case Zw:case Xw:case nC:case sC:return t;default:switch(t=t&&t.$$typeof,t){case KM:case tC:case rC:case aC:case iC:case eC:return t;default:return e}}case I2:return e}}}Jt.ContextConsumer=tC;Jt.ContextProvider=eC;Jt.Element=k2;Jt.ForwardRef=rC;Jt.Fragment=Qw;Jt.Lazy=aC;Jt.Memo=iC;Jt.Portal=I2;Jt.Profiler=Zw;Jt.StrictMode=Xw;Jt.Suspense=nC;Jt.SuspenseList=sC;Jt.isAsyncMode=function(){return!1};Jt.isConcurrentMode=function(){return!1};Jt.isContextConsumer=function(t){return oi(t)===tC};Jt.isContextProvider=function(t){return oi(t)===eC};Jt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===k2};Jt.isForwardRef=function(t){return oi(t)===rC};Jt.isFragment=function(t){return oi(t)===Qw};Jt.isLazy=function(t){return oi(t)===aC};Jt.isMemo=function(t){return oi(t)===iC};Jt.isPortal=function(t){return oi(t)===I2};Jt.isProfiler=function(t){return oi(t)===Zw};Jt.isStrictMode=function(t){return oi(t)===Xw};Jt.isSuspense=function(t){return oi(t)===nC};Jt.isSuspenseList=function(t){return oi(t)===sC};Jt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Qw||t===Zw||t===Xw||t===nC||t===sC||t===jM||typeof t=="object"&&t!==null&&(t.$$typeof===aC||t.$$typeof===iC||t.$$typeof===eC||t.$$typeof===tC||t.$$typeof===rC||t.$$typeof===mL||t.getModuleId!==void 0)};Jt.typeOf=oi;function at(t){if(typeof t!="string")throw new Error(Gl(7));return t.charAt(0).toUpperCase()+t.slice(1)}function DN(...t){return t.reduce((e,r)=>r==null?e:function(...s){e.apply(this,s),r.apply(this,s)},()=>{})}function gL(t,e=166){let r;function n(...s){const i=()=>{t.apply(this,s)};clearTimeout(r),r=setTimeout(i,e)}return n.clear=()=>{clearTimeout(r)},n}function V1(t,e){var r,n;return N.isValidElement(t)&&e.indexOf((r=t.type.muiName)!=null?r:(n=t.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function zn(t){return t&&t.ownerDocument||document}function Zc(t){return zn(t).defaultView||window}function nA(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const zM=typeof window<"u"?N.useLayoutEffect:N.useEffect,ua=zM;let UN=0;function WM(t){const[e,r]=N.useState(t),n=t||e;return N.useEffect(()=>{e==null&&(UN+=1,r(`mui-${UN}`))},[e]),n}const MN=cx.useId;function T2(t){if(MN!==void 0){const e=MN();return t??e}return WM(t)}function sA({controlled:t,default:e,name:r,state:n="value"}){const{current:s}=N.useRef(t!==void 0),[i,a]=N.useState(e),o=s?t:i,l=N.useCallback(u=>{s||a(u)},[]);return[o,l]}function Ic(t){const e=N.useRef(t);return ua(()=>{e.current=t}),N.useRef((...r)=>(0,e.current)(...r)).current}function Xr(...t){return N.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{nA(r,e)})},t)}let oC=!0,iA=!1,$N;const GM={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function qM(t){const{type:e,tagName:r}=t;return!!(r==="INPUT"&&GM[e]&&!t.readOnly||r==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function JM(t){t.metaKey||t.altKey||t.ctrlKey||(oC=!0)}function XE(){oC=!1}function YM(){this.visibilityState==="hidden"&&iA&&(oC=!0)}function QM(t){t.addEventListener("keydown",JM,!0),t.addEventListener("mousedown",XE,!0),t.addEventListener("pointerdown",XE,!0),t.addEventListener("touchstart",XE,!0),t.addEventListener("visibilitychange",YM,!0)}function XM(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return oC||qM(e)}function vL(){const t=N.useCallback(s=>{s!=null&&QM(s.ownerDocument)},[]),e=N.useRef(!1);function r(){return e.current?(iA=!0,window.clearTimeout($N),$N=window.setTimeout(()=>{iA=!1},100),e.current=!1,!0):!1}function n(s){return XM(s)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:n,onBlur:r,ref:t}}function yL(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function N2(t,e){const r=R({},e);return Object.keys(t).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=R({},t[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const s=t[n]||{},i=e[n];r[n]={},!i||!Object.keys(i)?r[n]=s:!s||!Object.keys(s)?r[n]=i:(r[n]=R({},i),Object.keys(s).forEach(a=>{r[n][a]=N2(s[a],i[a])}))}else r[n]===void 0&&(r[n]=t[n])}),r}function Dt(t,e,r=void 0){const n={};return Object.keys(t).forEach(s=>{n[s]=t[s].reduce((i,a)=>{if(a){const o=e(a);o!==""&&i.push(o),r&&r[a]&&i.push(r[a])}return i},[]).join(" ")}),n}const FN=t=>t,ZM=()=>{let t=FN;return{configure(e){t=e},generate(e){return t(e)},reset(){t=FN}}},e$=ZM(),t$=e$,r$={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Vt(t,e,r="Mui"){const n=r$[e];return n?`${r}-${n}`:`${t$.generate(t)}-${e}`}function Nt(t,e,r="Mui"){const n={};return e.forEach(s=>{n[s]=Vt(t,s,r)}),n}const lC="$$material";function He(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function SL(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var n$=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s$=SL(function(t){return n$.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function i$(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function a$(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var o$=function(){function t(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(a$(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=i$(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},t}(),xn="-ms-",qS="-moz-",$t="-webkit-",wL="comm",R2="rule",B2="decl",l$="@import",CL="@keyframes",u$="@layer",c$=Math.abs,uC=String.fromCharCode,f$=Object.assign;function h$(t,e){return gn(t,0)^45?(((e<<2^gn(t,0))<<2^gn(t,1))<<2^gn(t,2))<<2^gn(t,3):0}function EL(t){return t.trim()}function d$(t,e){return(t=e.exec(t))?t[0]:t}function Ft(t,e,r){return t.replace(e,r)}function aA(t,e){return t.indexOf(e)}function gn(t,e){return t.charCodeAt(e)|0}function wv(t,e,r){return t.slice(e,r)}function Ki(t){return t.length}function _2(t){return t.length}function Oy(t,e){return e.push(t),t}function p$(t,e){return t.map(e).join("")}var cC=1,Jd=1,bL=0,us=0,Wr=0,Cp="";function fC(t,e,r,n,s,i,a){return{value:t,root:e,parent:r,type:n,props:s,children:i,line:cC,column:Jd,length:a,return:""}}function Jp(t,e){return f$(fC("",null,null,"",null,null,0),t,{length:-t.length},e)}function m$(){return Wr}function g$(){return Wr=us>0?gn(Cp,--us):0,Jd--,Wr===10&&(Jd=1,cC--),Wr}function Ns(){return Wr=us<bL?gn(Cp,us++):0,Jd++,Wr===10&&(Jd=1,cC++),Wr}function ia(){return gn(Cp,us)}function D1(){return us}function Jv(t,e){return wv(Cp,t,e)}function Cv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xL(t){return cC=Jd=1,bL=Ki(Cp=t),us=0,[]}function AL(t){return Cp="",t}function U1(t){return EL(Jv(us-1,oA(t===91?t+2:t===40?t+1:t)))}function v$(t){for(;(Wr=ia())&&Wr<33;)Ns();return Cv(t)>2||Cv(Wr)>3?"":" "}function y$(t,e){for(;--e&&Ns()&&!(Wr<48||Wr>102||Wr>57&&Wr<65||Wr>70&&Wr<97););return Jv(t,D1()+(e<6&&ia()==32&&Ns()==32))}function oA(t){for(;Ns();)switch(Wr){case t:return us;case 34:case 39:t!==34&&t!==39&&oA(Wr);break;case 40:t===41&&oA(t);break;case 92:Ns();break}return us}function S$(t,e){for(;Ns()&&t+Wr!==57;)if(t+Wr===84&&ia()===47)break;return"/*"+Jv(e,us-1)+"*"+uC(t===47?t:Ns())}function w$(t){for(;!Cv(ia());)Ns();return Jv(t,us)}function C$(t){return AL(M1("",null,null,null,[""],t=xL(t),0,[0],t))}function M1(t,e,r,n,s,i,a,o,l){for(var u=0,c=0,f=a,h=0,p=0,d=0,m=1,S=1,g=1,v=0,y="",C=s,E=i,b=n,T=y;S;)switch(d=v,v=Ns()){case 40:if(d!=108&&gn(T,f-1)==58){aA(T+=Ft(U1(v),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:T+=U1(v);break;case 9:case 10:case 13:case 32:T+=v$(d);break;case 92:T+=y$(D1()-1,7);continue;case 47:switch(ia()){case 42:case 47:Oy(E$(S$(Ns(),D1()),e,r),l);break;default:T+="/"}break;case 123*m:o[u++]=Ki(T)*g;case 125*m:case 59:case 0:switch(v){case 0:case 125:S=0;case 59+c:g==-1&&(T=Ft(T,/\f/g,"")),p>0&&Ki(T)-f&&Oy(p>32?KN(T+";",n,r,f-1):KN(Ft(T," ","")+";",n,r,f-2),l);break;case 59:T+=";";default:if(Oy(b=HN(T,e,r,u,c,s,o,y,C=[],E=[],f),i),v===123)if(c===0)M1(T,e,b,b,C,i,f,o,E);else switch(h===99&&gn(T,3)===110?100:h){case 100:case 108:case 109:case 115:M1(t,b,b,n&&Oy(HN(t,b,b,0,0,s,o,y,s,C=[],f),E),s,E,f,o,n?C:E);break;default:M1(T,b,b,b,[""],E,0,o,E)}}u=c=p=0,m=g=1,y=T="",f=a;break;case 58:f=1+Ki(T),p=d;default:if(m<1){if(v==123)--m;else if(v==125&&m++==0&&g$()==125)continue}switch(T+=uC(v),v*m){case 38:g=c>0?1:(T+="\f",-1);break;case 44:o[u++]=(Ki(T)-1)*g,g=1;break;case 64:ia()===45&&(T+=U1(Ns())),h=ia(),c=f=Ki(y=T+=w$(D1())),v++;break;case 45:d===45&&Ki(T)==2&&(m=0)}}return i}function HN(t,e,r,n,s,i,a,o,l,u,c){for(var f=s-1,h=s===0?i:[""],p=_2(h),d=0,m=0,S=0;d<n;++d)for(var g=0,v=wv(t,f+1,f=c$(m=a[d])),y=t;g<p;++g)(y=EL(m>0?h[g]+" "+v:Ft(v,/&\f/g,h[g])))&&(l[S++]=y);return fC(t,e,r,s===0?R2:o,l,u,c)}function E$(t,e,r){return fC(t,e,r,wL,uC(m$()),wv(t,2,-2),0)}function KN(t,e,r,n){return fC(t,e,r,B2,wv(t,0,n),wv(t,n+1,-1),n)}function Bd(t,e){for(var r="",n=_2(t),s=0;s<n;s++)r+=e(t[s],s,t,e)||"";return r}function b$(t,e,r,n){switch(t.type){case u$:if(t.children.length)break;case l$:case B2:return t.return=t.return||t.value;case wL:return"";case CL:return t.return=t.value+"{"+Bd(t.children,n)+"}";case R2:t.value=t.props.join(",")}return Ki(r=Bd(t.children,n))?t.return=t.value+"{"+r+"}":""}function x$(t){var e=_2(t);return function(r,n,s,i){for(var a="",o=0;o<e;o++)a+=t[o](r,n,s,i)||"";return a}}function A$(t){return function(e){e.root||(e=e.return)&&t(e)}}var k$=function(e,r,n){for(var s=0,i=0;s=i,i=ia(),s===38&&i===12&&(r[n]=1),!Cv(i);)Ns();return Jv(e,us)},I$=function(e,r){var n=-1,s=44;do switch(Cv(s)){case 0:s===38&&ia()===12&&(r[n]=1),e[n]+=k$(us-1,r,n);break;case 2:e[n]+=U1(s);break;case 4:if(s===44){e[++n]=ia()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=uC(s)}while(s=Ns());return e},T$=function(e,r){return AL(I$(xL(e),r))},jN=new WeakMap,N$=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!jN.get(n))&&!s){jN.set(e,!0);for(var i=[],a=T$(r,i),o=n.props,l=0,u=0;l<a.length;l++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,o[c]):o[c]+" "+a[l]}}},R$=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function kL(t,e){switch(h$(t,e)){case 5103:return $t+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return $t+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return $t+t+qS+t+xn+t+t;case 6828:case 4268:return $t+t+xn+t+t;case 6165:return $t+t+xn+"flex-"+t+t;case 5187:return $t+t+Ft(t,/(\w+).+(:[^]+)/,$t+"box-$1$2"+xn+"flex-$1$2")+t;case 5443:return $t+t+xn+"flex-item-"+Ft(t,/flex-|-self/,"")+t;case 4675:return $t+t+xn+"flex-line-pack"+Ft(t,/align-content|flex-|-self/,"")+t;case 5548:return $t+t+xn+Ft(t,"shrink","negative")+t;case 5292:return $t+t+xn+Ft(t,"basis","preferred-size")+t;case 6060:return $t+"box-"+Ft(t,"-grow","")+$t+t+xn+Ft(t,"grow","positive")+t;case 4554:return $t+Ft(t,/([^-])(transform)/g,"$1"+$t+"$2")+t;case 6187:return Ft(Ft(Ft(t,/(zoom-|grab)/,$t+"$1"),/(image-set)/,$t+"$1"),t,"")+t;case 5495:case 3959:return Ft(t,/(image-set\([^]*)/,$t+"$1$`$1");case 4968:return Ft(Ft(t,/(.+:)(flex-)?(.*)/,$t+"box-pack:$3"+xn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+$t+t+t;case 4095:case 3583:case 4068:case 2532:return Ft(t,/(.+)-inline(.+)/,$t+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ki(t)-1-e>6)switch(gn(t,e+1)){case 109:if(gn(t,e+4)!==45)break;case 102:return Ft(t,/(.+:)(.+)-([^]+)/,"$1"+$t+"$2-$3$1"+qS+(gn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~aA(t,"stretch")?kL(Ft(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(gn(t,e+1)!==115)break;case 6444:switch(gn(t,Ki(t)-3-(~aA(t,"!important")&&10))){case 107:return Ft(t,":",":"+$t)+t;case 101:return Ft(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+$t+(gn(t,14)===45?"inline-":"")+"box$3$1"+$t+"$2$3$1"+xn+"$2box$3")+t}break;case 5936:switch(gn(t,e+11)){case 114:return $t+t+xn+Ft(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return $t+t+xn+Ft(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return $t+t+xn+Ft(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return $t+t+xn+t+t}return t}var B$=function(e,r,n,s){if(e.length>-1&&!e.return)switch(e.type){case B2:e.return=kL(e.value,e.length);break;case CL:return Bd([Jp(e,{value:Ft(e.value,"@","@"+$t)})],s);case R2:if(e.length)return p$(e.props,function(i){switch(d$(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Bd([Jp(e,{props:[Ft(i,/:(read-\w+)/,":"+qS+"$1")]})],s);case"::placeholder":return Bd([Jp(e,{props:[Ft(i,/:(plac\w+)/,":"+$t+"input-$1")]}),Jp(e,{props:[Ft(i,/:(plac\w+)/,":"+qS+"$1")]}),Jp(e,{props:[Ft(i,/:(plac\w+)/,xn+"input-$1")]})],s)}return""})}},_$=[B$],P$=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var S=m.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var s=e.stylisPlugins||_$,i={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(m){for(var S=m.getAttribute("data-emotion").split(" "),g=1;g<S.length;g++)i[S[g]]=!0;o.push(m)});var l,u=[N$,R$];{var c,f=[b$,A$(function(m){c.insert(m)})],h=x$(u.concat(s,f)),p=function(S){return Bd(C$(S),h)};l=function(S,g,v,y){c=v,p(S?S+"{"+g.styles+"}":g.styles),y&&(d.inserted[g.name]=!0)}}var d={key:r,sheet:new o$({key:r,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:l};return d.sheet.hydrate(o),d},IL={exports:{}},Gt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cn=typeof Symbol=="function"&&Symbol.for,P2=cn?Symbol.for("react.element"):60103,O2=cn?Symbol.for("react.portal"):60106,hC=cn?Symbol.for("react.fragment"):60107,dC=cn?Symbol.for("react.strict_mode"):60108,pC=cn?Symbol.for("react.profiler"):60114,mC=cn?Symbol.for("react.provider"):60109,gC=cn?Symbol.for("react.context"):60110,L2=cn?Symbol.for("react.async_mode"):60111,vC=cn?Symbol.for("react.concurrent_mode"):60111,yC=cn?Symbol.for("react.forward_ref"):60112,SC=cn?Symbol.for("react.suspense"):60113,O$=cn?Symbol.for("react.suspense_list"):60120,wC=cn?Symbol.for("react.memo"):60115,CC=cn?Symbol.for("react.lazy"):60116,L$=cn?Symbol.for("react.block"):60121,V$=cn?Symbol.for("react.fundamental"):60117,D$=cn?Symbol.for("react.responder"):60118,U$=cn?Symbol.for("react.scope"):60119;function Os(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case P2:switch(t=t.type,t){case L2:case vC:case hC:case pC:case dC:case SC:return t;default:switch(t=t&&t.$$typeof,t){case gC:case yC:case CC:case wC:case mC:return t;default:return e}}case O2:return e}}}function TL(t){return Os(t)===vC}Gt.AsyncMode=L2;Gt.ConcurrentMode=vC;Gt.ContextConsumer=gC;Gt.ContextProvider=mC;Gt.Element=P2;Gt.ForwardRef=yC;Gt.Fragment=hC;Gt.Lazy=CC;Gt.Memo=wC;Gt.Portal=O2;Gt.Profiler=pC;Gt.StrictMode=dC;Gt.Suspense=SC;Gt.isAsyncMode=function(t){return TL(t)||Os(t)===L2};Gt.isConcurrentMode=TL;Gt.isContextConsumer=function(t){return Os(t)===gC};Gt.isContextProvider=function(t){return Os(t)===mC};Gt.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===P2};Gt.isForwardRef=function(t){return Os(t)===yC};Gt.isFragment=function(t){return Os(t)===hC};Gt.isLazy=function(t){return Os(t)===CC};Gt.isMemo=function(t){return Os(t)===wC};Gt.isPortal=function(t){return Os(t)===O2};Gt.isProfiler=function(t){return Os(t)===pC};Gt.isStrictMode=function(t){return Os(t)===dC};Gt.isSuspense=function(t){return Os(t)===SC};Gt.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hC||t===vC||t===pC||t===dC||t===SC||t===O$||typeof t=="object"&&t!==null&&(t.$$typeof===CC||t.$$typeof===wC||t.$$typeof===mC||t.$$typeof===gC||t.$$typeof===yC||t.$$typeof===V$||t.$$typeof===D$||t.$$typeof===U$||t.$$typeof===L$)};Gt.typeOf=Os;IL.exports=Gt;var M$=IL.exports,NL=M$,$$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},F$={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RL={};RL[NL.ForwardRef]=$$;RL[NL.Memo]=F$;var H$=!0;function K$(t,e,r){var n="";return r.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):n+=s+" "}),n}var BL=function(e,r,n){var s=e.key+"-"+r.name;(n===!1||H$===!1)&&e.registered[s]===void 0&&(e.registered[s]=r.styles)},_L=function(e,r,n){BL(e,r,n);var s=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function j$(t){for(var e=0,r,n=0,s=t.length;s>=4;++n,s-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var z$={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},W$=/[A-Z]|^ms/g,G$=/_EMO_([^_]+?)_([^]*?)_EMO_/g,PL=function(e){return e.charCodeAt(1)===45},zN=function(e){return e!=null&&typeof e!="boolean"},ZE=SL(function(t){return PL(t)?t:t.replace(W$,"-$&").toLowerCase()}),WN=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(G$,function(n,s,i){return ji={name:s,styles:i,next:ji},s})}return z$[e]!==1&&!PL(e)&&typeof r=="number"&&r!==0?r+"px":r};function Ev(t,e,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return ji={name:r.name,styles:r.styles,next:ji},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)ji={name:n.name,styles:n.styles,next:ji},n=n.next;var s=r.styles+";";return s}return q$(t,e,r)}case"function":{if(t!==void 0){var i=ji,a=r(t);return ji=i,Ev(t,e,a)}break}}if(e==null)return r;var o=e[r];return o!==void 0?o:r}function q$(t,e,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=Ev(t,e,r[s])+";";else for(var i in r){var a=r[i];if(typeof a!="object")e!=null&&e[a]!==void 0?n+=i+"{"+e[a]+"}":zN(a)&&(n+=ZE(i)+":"+WN(i,a)+";");else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var o=0;o<a.length;o++)zN(a[o])&&(n+=ZE(i)+":"+WN(i,a[o])+";");else{var l=Ev(t,e,a);switch(i){case"animation":case"animationName":{n+=ZE(i)+":"+l+";";break}default:n+=i+"{"+l+"}"}}}return n}var GN=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ji,V2=function(e,r,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var s=!0,i="";ji=void 0;var a=e[0];a==null||a.raw===void 0?(s=!1,i+=Ev(n,r,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Ev(n,r,e[o]),s&&(i+=a[o]);GN.lastIndex=0;for(var l="",u;(u=GN.exec(i))!==null;)l+="-"+u[1];var c=j$(i)+l;return{name:c,styles:i,next:ji}},J$=function(e){return e()},OL=cx.useInsertionEffect?cx.useInsertionEffect:!1,Y$=OL||J$,qN=OL||N.useLayoutEffect,LL=N.createContext(typeof HTMLElement<"u"?P$({key:"css"}):null);LL.Provider;var VL=function(e){return N.forwardRef(function(r,n){var s=N.useContext(LL);return e(r,s,n)})},D2=N.createContext({}),Q$=VL(function(t,e){var r=t.styles,n=V2([r],void 0,N.useContext(D2)),s=N.useRef();return qN(function(){var i=e.key+"-global",a=new e.sheet.constructor({key:i,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+i+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",i),a.hydrate([l])),s.current=[a,o],function(){a.flush()}},[e]),qN(function(){var i=s.current,a=i[0],o=i[1];if(o){i[1]=!1;return}if(n.next!==void 0&&_L(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function U2(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return V2(e)}var Yv=function(){var e=U2.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},X$=s$,Z$=function(e){return e!=="theme"},JN=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?X$:Z$},YN=function(e,r,n){var s;if(r){var i=r.shouldForwardProp;s=e.__emotion_forwardProp&&i?function(a){return e.__emotion_forwardProp(a)&&i(a)}:i}return typeof s!="function"&&n&&(s=e.__emotion_forwardProp),s},e6=function(e){var r=e.cache,n=e.serialized,s=e.isStringTag;return BL(r,n,s),Y$(function(){return _L(r,n,s)}),null},t6=function t(e,r){var n=e.__emotion_real===e,s=n&&e.__emotion_base||e,i,a;r!==void 0&&(i=r.label,a=r.target);var o=YN(e,r,n),l=o||JN(s),u=!l("as");return function(){var c=arguments,f=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(i!==void 0&&f.push("label:"+i+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var h=c.length,p=1;p<h;p++)f.push(c[p],c[0][p])}var d=VL(function(m,S,g){var v=u&&m.as||s,y="",C=[],E=m;if(m.theme==null){E={};for(var b in m)E[b]=m[b];E.theme=N.useContext(D2)}typeof m.className=="string"?y=K$(S.registered,C,m.className):m.className!=null&&(y=m.className+" ");var T=V2(f.concat(C),S.registered,E);y+=S.key+"-"+T.name,a!==void 0&&(y+=" "+a);var O=u&&o===void 0?JN(v):l,H={};for(var L in m)u&&L==="as"||O(L)&&(H[L]=m[L]);return H.className=y,H.ref=g,N.createElement(N.Fragment,null,N.createElement(e6,{cache:S,serialized:T,isStringTag:typeof v=="string"}),N.createElement(v,H))});return d.displayName=i!==void 0?i:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",d.defaultProps=e.defaultProps,d.__emotion_real=d,d.__emotion_base=s,d.__emotion_styles=f,d.__emotion_forwardProp=o,Object.defineProperty(d,"toString",{value:function(){return"."+a}}),d.withComponent=function(m,S){return t(m,R({},r,S,{shouldForwardProp:YN(d,S,!0)})).apply(void 0,f)},d}},r6=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],lA=t6.bind();r6.forEach(function(t){lA[t]=lA(t)});function n6(t){return t==null||Object.keys(t).length===0}function s6(t){const{styles:e,defaultTheme:r={}}=t,n=typeof e=="function"?s=>e(n6(s)?r:s):e;return P.jsx(Q$,{styles:n})}function i6(t,e){return lA(t,e)}const a6=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},o6=["values","unit","step"],l6=t=>{const e=Object.keys(t).map(r=>({key:r,val:t[r]}))||[];return e.sort((r,n)=>r.val-n.val),e.reduce((r,n)=>R({},r,{[n.key]:n.val}),{})};function u6(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=t,s=He(t,o6),i=l6(e),a=Object.keys(i);function o(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-n/100}${r})`}function u(h,p){const d=a.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${r}) and (max-width:${(d!==-1&&typeof e[a[d]]=="number"?e[a[d]]:p)-n/100}${r})`}function c(h){return a.indexOf(h)+1<a.length?u(h,a[a.indexOf(h)+1]):o(h)}function f(h){const p=a.indexOf(h);return p===0?o(a[1]):p===a.length-1?l(a[p]):u(h,a[a.indexOf(h)+1]).replace("@media","@media not all and")}return R({keys:a,values:i,up:o,down:l,between:u,only:c,not:f,unit:r},s)}const c6={borderRadius:4},f6=c6;function Mg(t,e){return e?Nn(t,e,{clone:!1}):t}const M2={xs:0,sm:600,md:900,lg:1200,xl:1536},QN={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${M2[t]}px)`};function to(t,e,r){const n=t.theme||{};if(Array.isArray(e)){const i=n.breakpoints||QN;return e.reduce((a,o,l)=>(a[i.up(i.keys[l])]=r(e[l]),a),{})}if(typeof e=="object"){const i=n.breakpoints||QN;return Object.keys(e).reduce((a,o)=>{if(Object.keys(i.values||M2).indexOf(o)!==-1){const l=i.up(o);a[l]=r(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return r(e)}function h6(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((n,s)=>{const i=t.up(s);return n[i]={},n},{}))||{}}function d6(t,e){return t.reduce((r,n)=>{const s=r[n];return(!s||Object.keys(s).length===0)&&delete r[n],r},e)}function EC(t,e,r=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&r){const n=`vars.${e}`.split(".").reduce((s,i)=>s&&s[i]?s[i]:null,t);if(n!=null)return n}return e.split(".").reduce((n,s)=>n&&n[s]!=null?n[s]:null,t)}function JS(t,e,r,n=r){let s;return typeof t=="function"?s=t(r):Array.isArray(t)?s=t[r]||n:s=EC(t,r)||n,e&&(s=e(s,n,t)),s}function jt(t){const{prop:e,cssProperty:r=t.prop,themeKey:n,transform:s}=t,i=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,u=EC(l,n)||{};return to(a,o,f=>{let h=JS(u,s,f);return f===h&&typeof f=="string"&&(h=JS(u,s,`${e}${f==="default"?"":at(f)}`,f)),r===!1?h:{[r]:h}})};return i.propTypes={},i.filterProps=[e],i}function p6(t){const e={};return r=>(e[r]===void 0&&(e[r]=t(r)),e[r])}const m6={m:"margin",p:"padding"},g6={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},XN={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},v6=p6(t=>{if(t.length>2)if(XN[t])t=XN[t];else return[t];const[e,r]=t.split(""),n=m6[e],s=g6[r]||"";return Array.isArray(s)?s.map(i=>n+i):[n+s]}),$2=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],F2=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...$2,...F2];function Qv(t,e,r,n){var s;const i=(s=EC(t,e,!1))!=null?s:r;return typeof i=="number"?a=>typeof a=="string"?a:i*a:Array.isArray(i)?a=>typeof a=="string"?a:i[a]:typeof i=="function"?i:()=>{}}function DL(t){return Qv(t,"spacing",8)}function Xv(t,e){if(typeof e=="string"||e==null)return e;const r=Math.abs(e),n=t(r);return e>=0?n:typeof n=="number"?-n:`-${n}`}function y6(t,e){return r=>t.reduce((n,s)=>(n[s]=Xv(e,r),n),{})}function S6(t,e,r,n){if(e.indexOf(r)===-1)return null;const s=v6(r),i=y6(s,n),a=t[r];return to(t,a,i)}function UL(t,e){const r=DL(t.theme);return Object.keys(t).map(n=>S6(t,e,n,r)).reduce(Mg,{})}function Tr(t){return UL(t,$2)}Tr.propTypes={};Tr.filterProps=$2;function Nr(t){return UL(t,F2)}Nr.propTypes={};Nr.filterProps=F2;function w6(t=8){if(t.mui)return t;const e=DL({spacing:t}),r=(...n)=>(n.length===0?[1]:n).map(i=>{const a=e(i);return typeof a=="number"?`${a}px`:a}).join(" ");return r.mui=!0,r}function bC(...t){const e=t.reduce((n,s)=>(s.filterProps.forEach(i=>{n[i]=s}),n),{}),r=n=>Object.keys(n).reduce((s,i)=>e[i]?Mg(s,e[i](n)):s,{});return r.propTypes={},r.filterProps=t.reduce((n,s)=>n.concat(s.filterProps),[]),r}function qi(t){return typeof t!="number"?t:`${t}px solid`}const C6=jt({prop:"border",themeKey:"borders",transform:qi}),E6=jt({prop:"borderTop",themeKey:"borders",transform:qi}),b6=jt({prop:"borderRight",themeKey:"borders",transform:qi}),x6=jt({prop:"borderBottom",themeKey:"borders",transform:qi}),A6=jt({prop:"borderLeft",themeKey:"borders",transform:qi}),k6=jt({prop:"borderColor",themeKey:"palette"}),I6=jt({prop:"borderTopColor",themeKey:"palette"}),T6=jt({prop:"borderRightColor",themeKey:"palette"}),N6=jt({prop:"borderBottomColor",themeKey:"palette"}),R6=jt({prop:"borderLeftColor",themeKey:"palette"}),xC=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Qv(t.theme,"shape.borderRadius",4),r=n=>({borderRadius:Xv(e,n)});return to(t,t.borderRadius,r)}return null};xC.propTypes={};xC.filterProps=["borderRadius"];bC(C6,E6,b6,x6,A6,k6,I6,T6,N6,R6,xC);const AC=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Qv(t.theme,"spacing",8),r=n=>({gap:Xv(e,n)});return to(t,t.gap,r)}return null};AC.propTypes={};AC.filterProps=["gap"];const kC=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Qv(t.theme,"spacing",8),r=n=>({columnGap:Xv(e,n)});return to(t,t.columnGap,r)}return null};kC.propTypes={};kC.filterProps=["columnGap"];const IC=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Qv(t.theme,"spacing",8),r=n=>({rowGap:Xv(e,n)});return to(t,t.rowGap,r)}return null};IC.propTypes={};IC.filterProps=["rowGap"];const B6=jt({prop:"gridColumn"}),_6=jt({prop:"gridRow"}),P6=jt({prop:"gridAutoFlow"}),O6=jt({prop:"gridAutoColumns"}),L6=jt({prop:"gridAutoRows"}),V6=jt({prop:"gridTemplateColumns"}),D6=jt({prop:"gridTemplateRows"}),U6=jt({prop:"gridTemplateAreas"}),M6=jt({prop:"gridArea"});bC(AC,kC,IC,B6,_6,P6,O6,L6,V6,D6,U6,M6);function _d(t,e){return e==="grey"?e:t}const $6=jt({prop:"color",themeKey:"palette",transform:_d}),F6=jt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_d}),H6=jt({prop:"backgroundColor",themeKey:"palette",transform:_d});bC($6,F6,H6);function bs(t){return t<=1&&t!==0?`${t*100}%`:t}const K6=jt({prop:"width",transform:bs}),H2=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=r=>{var n,s;const i=((n=t.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||M2[r];return i?((s=t.theme)==null||(s=s.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:bs(r)}};return to(t,t.maxWidth,e)}return null};H2.filterProps=["maxWidth"];const j6=jt({prop:"minWidth",transform:bs}),z6=jt({prop:"height",transform:bs}),W6=jt({prop:"maxHeight",transform:bs}),G6=jt({prop:"minHeight",transform:bs});jt({prop:"size",cssProperty:"width",transform:bs});jt({prop:"size",cssProperty:"height",transform:bs});const q6=jt({prop:"boxSizing"});bC(K6,H2,j6,z6,W6,G6,q6);const J6={border:{themeKey:"borders",transform:qi},borderTop:{themeKey:"borders",transform:qi},borderRight:{themeKey:"borders",transform:qi},borderBottom:{themeKey:"borders",transform:qi},borderLeft:{themeKey:"borders",transform:qi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:xC},color:{themeKey:"palette",transform:_d},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_d},backgroundColor:{themeKey:"palette",transform:_d},p:{style:Nr},pt:{style:Nr},pr:{style:Nr},pb:{style:Nr},pl:{style:Nr},px:{style:Nr},py:{style:Nr},padding:{style:Nr},paddingTop:{style:Nr},paddingRight:{style:Nr},paddingBottom:{style:Nr},paddingLeft:{style:Nr},paddingX:{style:Nr},paddingY:{style:Nr},paddingInline:{style:Nr},paddingInlineStart:{style:Nr},paddingInlineEnd:{style:Nr},paddingBlock:{style:Nr},paddingBlockStart:{style:Nr},paddingBlockEnd:{style:Nr},m:{style:Tr},mt:{style:Tr},mr:{style:Tr},mb:{style:Tr},ml:{style:Tr},mx:{style:Tr},my:{style:Tr},margin:{style:Tr},marginTop:{style:Tr},marginRight:{style:Tr},marginBottom:{style:Tr},marginLeft:{style:Tr},marginX:{style:Tr},marginY:{style:Tr},marginInline:{style:Tr},marginInlineStart:{style:Tr},marginInlineEnd:{style:Tr},marginBlock:{style:Tr},marginBlockStart:{style:Tr},marginBlockEnd:{style:Tr},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:AC},rowGap:{style:IC},columnGap:{style:kC},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:bs},maxWidth:{style:H2},minWidth:{transform:bs},height:{transform:bs},maxHeight:{transform:bs},minHeight:{transform:bs},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},TC=J6;function Y6(...t){const e=t.reduce((n,s)=>n.concat(Object.keys(s)),[]),r=new Set(e);return t.every(n=>r.size===Object.keys(n).length)}function Q6(t,e){return typeof t=="function"?t(e):t}function X6(){function t(r,n,s,i){const a={[r]:n,theme:s},o=i[r];if(!o)return{[r]:n};const{cssProperty:l=r,themeKey:u,transform:c,style:f}=o;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[r]:n};const h=EC(s,u)||{};return f?f(a):to(a,n,d=>{let m=JS(h,c,d);return d===m&&typeof d=="string"&&(m=JS(h,c,`${r}${d==="default"?"":at(d)}`,d)),l===!1?m:{[l]:m}})}function e(r){var n;const{sx:s,theme:i={}}=r||{};if(!s)return null;const a=(n=i.unstable_sxConfig)!=null?n:TC;function o(l){let u=l;if(typeof l=="function")u=l(i);else if(typeof l!="object")return l;if(!u)return null;const c=h6(i.breakpoints),f=Object.keys(c);let h=c;return Object.keys(u).forEach(p=>{const d=Q6(u[p],i);if(d!=null)if(typeof d=="object")if(a[p])h=Mg(h,t(p,d,i,a));else{const m=to({theme:i},d,S=>({[p]:S}));Y6(m,d)?h[p]=e({sx:d,theme:i}):h=Mg(h,m)}else h=Mg(h,t(p,d,i,a))}),d6(f,h)}return Array.isArray(s)?s.map(o):o(s)}return e}const ML=X6();ML.filterProps=["sx"];const K2=ML,Z6=["breakpoints","palette","spacing","shape"];function j2(t={},...e){const{breakpoints:r={},palette:n={},spacing:s,shape:i={}}=t,a=He(t,Z6),o=u6(r),l=w6(s);let u=Nn({breakpoints:o,direction:"ltr",components:{},palette:R({mode:"light"},n),spacing:l,shape:R({},f6,i)},a);return u=e.reduce((c,f)=>Nn(c,f),u),u.unstable_sxConfig=R({},TC,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(f){return K2({sx:f,theme:this})},u}function eF(t){return Object.keys(t).length===0}function $L(t=null){const e=N.useContext(D2);return!e||eF(e)?t:e}const tF=j2();function z2(t=tF){return $L(t)}function rF({styles:t,themeId:e,defaultTheme:r={}}){const n=z2(r),s=typeof t=="function"?t(e&&n[e]||n):t;return P.jsx(s6,{styles:s})}const nF=["sx"],sF=t=>{var e,r;const n={systemProps:{},otherProps:{}},s=(e=t==null||(r=t.theme)==null?void 0:r.unstable_sxConfig)!=null?e:TC;return Object.keys(t).forEach(i=>{s[i]?n.systemProps[i]=t[i]:n.otherProps[i]=t[i]}),n};function iF(t){const{sx:e}=t,r=He(t,nF),{systemProps:n,otherProps:s}=sF(r);let i;return Array.isArray(e)?i=[n,...e]:typeof e=="function"?i=(...a)=>{const o=e(...a);return _a(o)?R({},n,o):n}:i=R({},n,e),R({},s,{sx:i})}function FL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=FL(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function tt(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=FL(t))&&(n&&(n+=" "),n+=e);return n}const aF=["variant"];function ZN(t){return t.length===0}function HL(t){const{variant:e}=t,r=He(t,aF);let n=e||"";return Object.keys(r).sort().forEach(s=>{s==="color"?n+=ZN(n)?t[s]:at(t[s]):n+=`${ZN(n)?s:at(s)}${at(t[s].toString())}`}),n}const oF=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function lF(t){return Object.keys(t).length===0}function uF(t){return typeof t=="string"&&t.charCodeAt(0)>96}const cF=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,YS=t=>{const e={};return t&&t.forEach(r=>{const n=HL(r.props);e[n]=r.style}),e},fF=(t,e)=>{let r=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(r=e.components[t].variants),YS(r)},QS=(t,e,r)=>{const{ownerState:n={}}=t,s=[];return r&&r.forEach(i=>{let a=!0;Object.keys(i.props).forEach(o=>{n[o]!==i.props[o]&&t[o]!==i.props[o]&&(a=!1)}),a&&s.push(e[HL(i.props)])}),s},hF=(t,e,r,n)=>{var s;const i=r==null||(s=r.components)==null||(s=s[n])==null?void 0:s.variants;return QS(t,e,i)};function $g(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const dF=j2(),pF=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function $1({defaultTheme:t,theme:e,themeId:r}){return lF(e)?t:e[r]||e}function mF(t){return t?(e,r)=>r[t]:null}const eR=({styledArg:t,props:e,defaultTheme:r,themeId:n})=>{const s=t(R({},e,{theme:$1(R({},e,{defaultTheme:r,themeId:n}))}));let i;if(s&&s.variants&&(i=s.variants,delete s.variants),i){const a=QS(e,YS(i),i);return[s,...a]}return s};function gF(t={}){const{themeId:e,defaultTheme:r=dF,rootShouldForwardProp:n=$g,slotShouldForwardProp:s=$g}=t,i=a=>K2(R({},a,{theme:$1(R({},a,{defaultTheme:r,themeId:e}))}));return i.__mui_systemSx=!0,(a,o={})=>{a6(a,C=>C.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:f,overridesResolver:h=mF(pF(u))}=o,p=He(o,oF),d=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,m=f||!1;let S,g=$g;u==="Root"||u==="root"?g=n:u?g=s:uF(a)&&(g=void 0);const v=i6(a,R({shouldForwardProp:g,label:S},p)),y=(C,...E)=>{const b=E?E.map(L=>{if(typeof L=="function"&&L.__emotion_real!==L)return Y=>eR({styledArg:L,props:Y,defaultTheme:r,themeId:e});if(_a(L)){let Y=L,ne;return L&&L.variants&&(ne=L.variants,delete Y.variants,Y=z=>{let Z=L;return QS(z,YS(ne),ne).forEach(ie=>{Z=Nn(Z,ie)}),Z}),Y}return L}):[];let T=C;if(_a(C)){let L;C&&C.variants&&(L=C.variants,delete T.variants,T=Y=>{let ne=C;return QS(Y,YS(L),L).forEach(Z=>{ne=Nn(ne,Z)}),ne})}else typeof C=="function"&&C.__emotion_real!==C&&(T=L=>eR({styledArg:C,props:L,defaultTheme:r,themeId:e}));l&&h&&b.push(L=>{const Y=$1(R({},L,{defaultTheme:r,themeId:e})),ne=cF(l,Y);if(ne){const z={};return Object.entries(ne).forEach(([Z,q])=>{z[Z]=typeof q=="function"?q(R({},L,{theme:Y})):q}),h(L,z)}return null}),l&&!d&&b.push(L=>{const Y=$1(R({},L,{defaultTheme:r,themeId:e}));return hF(L,fF(l,Y),Y,l)}),m||b.push(i);const O=b.length-E.length;if(Array.isArray(C)&&O>0){const L=new Array(O).fill("");T=[...C,...L],T.raw=[...C.raw,...L]}const H=v(T,...b);return a.muiName&&(H.muiName=a.muiName),H};return v.withConfig&&(y.withConfig=v.withConfig),y}}function vF(t){const{theme:e,name:r,props:n}=t;return!e||!e.components||!e.components[r]||!e.components[r].defaultProps?n:N2(e.components[r].defaultProps,n)}function yF({props:t,name:e,defaultTheme:r,themeId:n}){let s=z2(r);return n&&(s=s[n]||s),vF({theme:s,name:e,props:t})}function W2(t,e=0,r=1){return Math.min(Math.max(e,t),r)}function SF(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let r=t.match(e);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,s)=>s<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function ef(t){if(t.type)return t;if(t.charAt(0)==="#")return ef(SF(t));const e=t.indexOf("("),r=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error(Gl(9,t));let n=t.substring(e+1,t.length-1),s;if(r==="color"){if(n=n.split(" "),s=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s)===-1)throw new Error(Gl(10,s))}else n=n.split(",");return n=n.map(i=>parseFloat(i)),{type:r,values:n,colorSpace:s}}function NC(t){const{type:e,colorSpace:r}=t;let{values:n}=t;return e.indexOf("rgb")!==-1?n=n.map((s,i)=>i<3?parseInt(s,10):s):e.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function wF(t){t=ef(t);const{values:e}=t,r=e[0],n=e[1]/100,s=e[2]/100,i=n*Math.min(s,1-s),a=(u,c=(u+r/30)%12)=>s-i*Math.max(Math.min(c-3,9-c,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return t.type==="hsla"&&(o+="a",l.push(e[3])),NC({type:o,values:l})}function tR(t){t=ef(t);let e=t.type==="hsl"||t.type==="hsla"?ef(wF(t)).values:t.values;return e=e.map(r=>(t.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function CF(t,e){const r=tR(t),n=tR(e);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function Ys(t,e){return t=ef(t),e=W2(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,NC(t)}function EF(t,e){if(t=ef(t),e=W2(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]*=1-e;return NC(t)}function bF(t,e){if(t=ef(t),e=W2(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(255-t.values[r])*e;else if(t.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)t.values[r]+=(1-t.values[r])*e;return NC(t)}const xF=N.createContext(null),AF=xF;function kF(){return N.useContext(AF)}const IF=typeof Symbol=="function"&&Symbol.for,TF=IF?Symbol.for("mui.nested"):"__THEME_NESTED__";function NF(t,e){return R({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const RF=["mode","contrastThreshold","tonalOffset"],rR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Sv.white,default:Sv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},eb={text:{primary:Sv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Sv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function nR(t,e,r,n){const s=n.light||n,i=n.dark||n*1.5;t[e]||(t.hasOwnProperty(r)?t[e]=t[r]:e==="light"?t.light=bF(t.main,s):e==="dark"&&(t.dark=EF(t.main,i)))}function BF(t="light"){return t==="dark"?{main:Ef[200],light:Ef[50],dark:Ef[400]}:{main:Ef[700],light:Ef[400],dark:Ef[800]}}function _F(t="light"){return t==="dark"?{main:Cf[200],light:Cf[50],dark:Cf[400]}:{main:Cf[500],light:Cf[300],dark:Cf[700]}}function PF(t="light"){return t==="dark"?{main:wf[500],light:wf[300],dark:wf[700]}:{main:wf[700],light:wf[400],dark:wf[800]}}function OF(t="light"){return t==="dark"?{main:bf[400],light:bf[300],dark:bf[700]}:{main:bf[700],light:bf[500],dark:bf[900]}}function LF(t="light"){return t==="dark"?{main:xf[400],light:xf[300],dark:xf[700]}:{main:xf[800],light:xf[500],dark:xf[900]}}function VF(t="light"){return t==="dark"?{main:qp[400],light:qp[300],dark:qp[700]}:{main:"#ed6c02",light:qp[500],dark:qp[900]}}function DF(t){const{mode:e="light",contrastThreshold:r=3,tonalOffset:n=.2}=t,s=He(t,RF),i=t.primary||BF(e),a=t.secondary||_F(e),o=t.error||PF(e),l=t.info||OF(e),u=t.success||LF(e),c=t.warning||VF(e);function f(m){return CF(m,eb.text.primary)>=r?eb.text.primary:rR.text.primary}const h=({color:m,name:S,mainShade:g=500,lightShade:v=300,darkShade:y=700})=>{if(m=R({},m),!m.main&&m[g]&&(m.main=m[g]),!m.hasOwnProperty("main"))throw new Error(Gl(11,S?` (${S})`:"",g));if(typeof m.main!="string")throw new Error(Gl(12,S?` (${S})`:"",JSON.stringify(m.main)));return nR(m,"light",v,n),nR(m,"dark",y,n),m.contrastText||(m.contrastText=f(m.main)),m},p={dark:eb,light:rR};return Nn(R({common:R({},Sv),mode:e,primary:h({color:i,name:"primary"}),secondary:h({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:o,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:UM,contrastThreshold:r,getContrastText:f,augmentColor:h,tonalOffset:n},p[e]),s)}const UF=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function MF(t){return Math.round(t*1e5)/1e5}const sR={textTransform:"uppercase"},iR='"Roboto", "Helvetica", "Arial", sans-serif';function $F(t,e){const r=typeof e=="function"?e(t):e,{fontFamily:n=iR,fontSize:s=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:f}=r,h=He(r,UF),p=s/14,d=f||(g=>`${g/u*p}rem`),m=(g,v,y,C,E)=>R({fontFamily:n,fontWeight:g,fontSize:d(v),lineHeight:y},n===iR?{letterSpacing:`${MF(C/v)}em`}:{},E,c),S={h1:m(i,96,1.167,-1.5),h2:m(i,60,1.2,-.5),h3:m(a,48,1.167,0),h4:m(a,34,1.235,.25),h5:m(a,24,1.334,0),h6:m(o,20,1.6,.15),subtitle1:m(a,16,1.75,.15),subtitle2:m(o,14,1.57,.1),body1:m(a,16,1.5,.15),body2:m(a,14,1.43,.15),button:m(o,14,1.75,.4,sR),caption:m(a,12,1.66,.4),overline:m(a,12,2.66,1,sR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Nn(R({htmlFontSize:u,pxToRem:d,fontFamily:n,fontSize:s,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:l},S),h,{clone:!1})}const FF=.2,HF=.14,KF=.12;function pr(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${FF})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${HF})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${KF})`].join(",")}const jF=["none",pr(0,2,1,-1,0,1,1,0,0,1,3,0),pr(0,3,1,-2,0,2,2,0,0,1,5,0),pr(0,3,3,-2,0,3,4,0,0,1,8,0),pr(0,2,4,-1,0,4,5,0,0,1,10,0),pr(0,3,5,-1,0,5,8,0,0,1,14,0),pr(0,3,5,-1,0,6,10,0,0,1,18,0),pr(0,4,5,-2,0,7,10,1,0,2,16,1),pr(0,5,5,-3,0,8,10,1,0,3,14,2),pr(0,5,6,-3,0,9,12,1,0,3,16,2),pr(0,6,6,-3,0,10,14,1,0,4,18,3),pr(0,6,7,-4,0,11,15,1,0,4,20,3),pr(0,7,8,-4,0,12,17,2,0,5,22,4),pr(0,7,8,-4,0,13,19,2,0,5,24,4),pr(0,7,9,-4,0,14,21,2,0,5,26,4),pr(0,8,9,-5,0,15,22,2,0,6,28,5),pr(0,8,10,-5,0,16,24,2,0,6,30,5),pr(0,8,11,-5,0,17,26,2,0,6,32,5),pr(0,9,11,-5,0,18,28,2,0,7,34,6),pr(0,9,12,-6,0,19,29,2,0,7,36,6),pr(0,10,13,-6,0,20,31,3,0,8,38,7),pr(0,10,13,-6,0,21,33,3,0,8,40,7),pr(0,10,14,-6,0,22,35,3,0,8,42,7),pr(0,11,14,-7,0,23,36,3,0,9,44,8),pr(0,11,15,-7,0,24,38,3,0,9,46,8)],zF=jF,WF=["duration","easing","delay"],GF={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},KL={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function aR(t){return`${Math.round(t)}ms`}function qF(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function JF(t){const e=R({},GF,t.easing),r=R({},KL,t.duration);return R({getAutoHeightDuration:qF,create:(s=["all"],i={})=>{const{duration:a=r.standard,easing:o=e.easeInOut,delay:l=0}=i;return He(i,WF),(Array.isArray(s)?s:[s]).map(u=>`${u} ${typeof a=="string"?a:aR(a)} ${o} ${typeof l=="string"?l:aR(l)}`).join(",")}},t,{easing:e,duration:r})}const YF={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},QF=YF,XF=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ZF(t={},...e){const{mixins:r={},palette:n={},transitions:s={},typography:i={}}=t,a=He(t,XF);if(t.vars)throw new Error(Gl(18));const o=DF(n),l=j2(t);let u=Nn(l,{mixins:NF(l.breakpoints,r),palette:o,shadows:zF.slice(),typography:$F(o,i),transitions:JF(s),zIndex:R({},QF)});return u=Nn(u,a),u=e.reduce((c,f)=>Nn(c,f),u),u.unstable_sxConfig=R({},TC,a==null?void 0:a.unstable_sxConfig),u.unstable_sx=function(f){return K2({sx:f,theme:this})},u}const eH=ZF(),RC=eH;function Zv(){const t=z2(RC);return t[lC]||t}function Ut({props:t,name:e}){return yF({props:t,name:e,defaultTheme:RC,themeId:lC})}const io=t=>$g(t)&&t!=="classes",tH=$g,rH=gF({themeId:lC,defaultTheme:RC,rootShouldForwardProp:io}),$e=rH,nH=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},oR=nH;function sH(t){return Vt("MuiSvgIcon",t)}Nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const iH=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],aH=t=>{const{color:e,fontSize:r,classes:n}=t,s={root:["root",e!=="inherit"&&`color${at(e)}`,`fontSize${at(r)}`]};return Dt(s,sH,n)},oH=$e("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e[`color${at(r.color)}`],e[`fontSize${at(r.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var r,n,s,i,a,o,l,u,c,f,h,p,d;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=t.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(s=t.transitions)==null||(s=s.duration)==null?void 0:s.shorter}),fontSize:{inherit:"inherit",small:((i=t.typography)==null||(a=i.pxToRem)==null?void 0:a.call(i,20))||"1.25rem",medium:((o=t.typography)==null||(l=o.pxToRem)==null?void 0:l.call(o,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(f=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?f:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(d=(t.vars||t).palette)==null||(d=d.action)==null?void 0:d.disabled,inherit:void 0}[e.color]}}),jL=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiSvgIcon"}),{children:s,className:i,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:f,viewBox:h="0 0 24 24"}=n,p=He(n,iH),d=N.isValidElement(s)&&s.type==="svg",m=R({},n,{color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:d}),S={};c||(S.viewBox=h);const g=aH(m);return P.jsxs(oH,R({as:o,className:tt(g.root,i),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:r},S,p,d&&s.props,{ownerState:m,children:[d?s.props.children:s,f?P.jsx("title",{children:f}):null]}))});jL.muiName="SvgIcon";const lR=jL;function lH(t,e){function r(n,s){return P.jsx(lR,R({"data-testid":`${e}Icon`,ref:s},n,{children:t}))}return r.muiName=lR.muiName,N.memo(N.forwardRef(r))}function uA(t,e){return uA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},uA(t,e)}function BC(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,uA(t,e)}const uR={disabled:!1},XS=kt.createContext(null);var uH=function(e){return e.scrollTop},T0="unmounted",du="exited",pu="entering",Uf="entered",cA="exiting",ao=function(t){BC(e,t);function e(n,s){var i;i=t.call(this,n,s)||this;var a=s,o=a&&!a.isMounting?n.enter:n.appear,l;return i.appearStatus=null,n.in?o?(l=du,i.appearStatus=pu):l=Uf:n.unmountOnExit||n.mountOnEnter?l=T0:l=du,i.state={status:l},i.nextCallback=null,i}e.getDerivedStateFromProps=function(s,i){var a=s.in;return a&&i.status===T0?{status:du}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(s){var i=null;if(s!==this.props){var a=this.state.status;this.props.in?a!==pu&&a!==Uf&&(i=pu):(a===pu||a===Uf)&&(i=cA)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var s=this.props.timeout,i,a,o;return i=a=o=s,s!=null&&typeof s!="number"&&(i=s.exit,a=s.enter,o=s.appear!==void 0?s.appear:a),{exit:i,enter:a,appear:o}},r.updateStatus=function(s,i){if(s===void 0&&(s=!1),i!==null)if(this.cancelNextCallback(),i===pu){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:I0.findDOMNode(this);a&&uH(a)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===du&&this.setState({status:T0})},r.performEnter=function(s){var i=this,a=this.props.enter,o=this.context?this.context.isMounting:s,l=this.props.nodeRef?[o]:[I0.findDOMNode(this),o],u=l[0],c=l[1],f=this.getTimeouts(),h=o?f.appear:f.enter;if(!s&&!a||uR.disabled){this.safeSetState({status:Uf},function(){i.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:pu},function(){i.props.onEntering(u,c),i.onTransitionEnd(h,function(){i.safeSetState({status:Uf},function(){i.props.onEntered(u,c)})})})},r.performExit=function(){var s=this,i=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:I0.findDOMNode(this);if(!i||uR.disabled){this.safeSetState({status:du},function(){s.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:cA},function(){s.props.onExiting(o),s.onTransitionEnd(a.exit,function(){s.safeSetState({status:du},function(){s.props.onExited(o)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(s,i){i=this.setNextCallback(i),this.setState(s,i)},r.setNextCallback=function(s){var i=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,i.nextCallback=null,s(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(s,i){this.setNextCallback(i);var a=this.props.nodeRef?this.props.nodeRef.current:I0.findDOMNode(this),o=s==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}s!=null&&setTimeout(this.nextCallback,s)},r.render=function(){var s=this.state.status;if(s===T0)return null;var i=this.props,a=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var o=He(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return kt.createElement(XS.Provider,{value:null},typeof a=="function"?a(s,o):kt.cloneElement(kt.Children.only(a),o))},e}(kt.Component);ao.contextType=XS;ao.propTypes={};function Af(){}ao.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Af,onEntering:Af,onEntered:Af,onExit:Af,onExiting:Af,onExited:Af};ao.UNMOUNTED=T0;ao.EXITED=du;ao.ENTERING=pu;ao.ENTERED=Uf;ao.EXITING=cA;const G2=ao;function fA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q2(t,e){var r=function(i){return e&&N.isValidElement(i)?e(i):i},n=Object.create(null);return t&&N.Children.map(t,function(s){return s}).forEach(function(s){n[s.key]=r(s)}),n}function cH(t,e){t=t||{},e=e||{};function r(c){return c in e?e[c]:t[c]}var n=Object.create(null),s=[];for(var i in t)i in e?s.length&&(n[i]=s,s=[]):s.push(i);var a,o={};for(var l in e){if(n[l])for(a=0;a<n[l].length;a++){var u=n[l][a];o[n[l][a]]=r(u)}o[l]=r(l)}for(a=0;a<s.length;a++)o[s[a]]=r(s[a]);return o}function Tc(t,e,r){return r[e]!=null?r[e]:t.props[e]}function fH(t,e){return q2(t.children,function(r){return N.cloneElement(r,{onExited:e.bind(null,r),in:!0,appear:Tc(r,"appear",t),enter:Tc(r,"enter",t),exit:Tc(r,"exit",t)})})}function hH(t,e,r){var n=q2(t.children),s=cH(e,n);return Object.keys(s).forEach(function(i){var a=s[i];if(N.isValidElement(a)){var o=i in e,l=i in n,u=e[i],c=N.isValidElement(u)&&!u.props.in;l&&(!o||c)?s[i]=N.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:Tc(a,"exit",t),enter:Tc(a,"enter",t)}):!l&&o&&!c?s[i]=N.cloneElement(a,{in:!1}):l&&o&&N.isValidElement(u)&&(s[i]=N.cloneElement(a,{onExited:r.bind(null,a),in:u.props.in,exit:Tc(a,"exit",t),enter:Tc(a,"enter",t)}))}}),s}var dH=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},pH={component:"div",childFactory:function(e){return e}},J2=function(t){BC(e,t);function e(n,s){var i;i=t.call(this,n,s)||this;var a=i.handleExited.bind(fA(i));return i.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},i}var r=e.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,i){var a=i.children,o=i.handleExited,l=i.firstRender;return{children:l?fH(s,o):hH(s,a,o),firstRender:!1}},r.handleExited=function(s,i){var a=q2(this.props.children);s.key in a||(s.props.onExited&&s.props.onExited(i),this.mounted&&this.setState(function(o){var l=R({},o.children);return delete l[s.key],{children:l}}))},r.render=function(){var s=this.props,i=s.component,a=s.childFactory,o=He(s,["component","childFactory"]),l=this.state.contextValue,u=dH(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,i===null?kt.createElement(XS.Provider,{value:l},u):kt.createElement(XS.Provider,{value:l},kt.createElement(i,o,u))},e}(kt.Component);J2.propTypes={};J2.defaultProps=pH;const mH=J2,zL=t=>t.scrollTop;function Yd(t,e){var r,n;const{timeout:s,easing:i,style:a={}}=t;return{duration:(r=a.transitionDuration)!=null?r:typeof s=="number"?s:s[e.mode]||0,easing:(n=a.transitionTimingFunction)!=null?n:typeof i=="object"?i[e.mode]:i,delay:a.transitionDelay}}function gH(t){return Vt("MuiCollapse",t)}Nt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const vH=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],yH=t=>{const{orientation:e,classes:r}=t,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Dt(n,gH,r)},SH=$e("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.orientation],r.state==="entered"&&e.entered,r.state==="exited"&&!r.in&&r.collapsedSize==="0px"&&e.hidden]}})(({theme:t,ownerState:e})=>R({height:0,overflow:"hidden",transition:t.transitions.create("height")},e.orientation==="horizontal"&&{height:"auto",width:0,transition:t.transitions.create("width")},e.state==="entered"&&R({height:"auto",overflow:"visible"},e.orientation==="horizontal"&&{width:"auto"}),e.state==="exited"&&!e.in&&e.collapsedSize==="0px"&&{visibility:"hidden"})),wH=$e("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(t,e)=>e.wrapper})(({ownerState:t})=>R({display:"flex",width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),CH=$e("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(t,e)=>e.wrapperInner})(({ownerState:t})=>R({width:"100%"},t.orientation==="horizontal"&&{width:"auto",height:"100%"})),WL=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiCollapse"}),{addEndListener:s,children:i,className:a,collapsedSize:o="0px",component:l,easing:u,in:c,onEnter:f,onEntered:h,onEntering:p,onExit:d,onExited:m,onExiting:S,orientation:g="vertical",style:v,timeout:y=KL.standard,TransitionComponent:C=G2}=n,E=He(n,vH),b=R({},n,{orientation:g,collapsedSize:o}),T=yH(b),O=Zv(),H=N.useRef(),L=N.useRef(null),Y=N.useRef(),ne=typeof o=="number"?`${o}px`:o,z=g==="horizontal",Z=z?"width":"height";N.useEffect(()=>()=>{clearTimeout(H.current)},[]);const q=N.useRef(null),ie=Xr(r,q),J=Q=>fe=>{if(Q){const oe=q.current;fe===void 0?Q(oe):Q(oe,fe)}},G=()=>L.current?L.current[z?"clientWidth":"clientHeight"]:0,re=J((Q,fe)=>{L.current&&z&&(L.current.style.position="absolute"),Q.style[Z]=ne,f&&f(Q,fe)}),D=J((Q,fe)=>{const oe=G();L.current&&z&&(L.current.style.position="");const{duration:X,easing:Ie}=Yd({style:v,timeout:y,easing:u},{mode:"enter"});if(y==="auto"){const be=O.transitions.getAutoHeightDuration(oe);Q.style.transitionDuration=`${be}ms`,Y.current=be}else Q.style.transitionDuration=typeof X=="string"?X:`${X}ms`;Q.style[Z]=`${oe}px`,Q.style.transitionTimingFunction=Ie,p&&p(Q,fe)}),ee=J((Q,fe)=>{Q.style[Z]="auto",h&&h(Q,fe)}),B=J(Q=>{Q.style[Z]=`${G()}px`,d&&d(Q)}),K=J(m),$=J(Q=>{const fe=G(),{duration:oe,easing:X}=Yd({style:v,timeout:y,easing:u},{mode:"exit"});if(y==="auto"){const Ie=O.transitions.getAutoHeightDuration(fe);Q.style.transitionDuration=`${Ie}ms`,Y.current=Ie}else Q.style.transitionDuration=typeof oe=="string"?oe:`${oe}ms`;Q.style[Z]=ne,Q.style.transitionTimingFunction=X,S&&S(Q)}),ce=Q=>{y==="auto"&&(H.current=setTimeout(Q,Y.current||0)),s&&s(q.current,Q)};return P.jsx(C,R({in:c,onEnter:re,onEntered:ee,onEntering:D,onExit:B,onExited:K,onExiting:$,addEndListener:ce,nodeRef:q,timeout:y==="auto"?null:y},E,{children:(Q,fe)=>P.jsx(SH,R({as:l,className:tt(T.root,a,{entered:T.entered,exited:!c&&ne==="0px"&&T.hidden}[Q]),style:R({[z?"minWidth":"minHeight"]:ne},v),ownerState:R({},b,{state:Q}),ref:ie},fe,{children:P.jsx(wH,{ownerState:R({},b,{state:Q}),className:T.wrapper,ref:L,children:P.jsx(CH,{ownerState:R({},b,{state:Q}),className:T.wrapperInner,children:i})})}))}))});WL.muiSupportAuto=!0;const EH=WL;function bH(t){return Vt("MuiPaper",t)}Nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const xH=["className","component","elevation","square","variant"],AH=t=>{const{square:e,elevation:r,variant:n,classes:s}=t,i={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${r}`]};return Dt(i,bH,s)},kH=$e("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!r.square&&e.rounded,r.variant==="elevation"&&e[`elevation${r.elevation}`]]}})(({theme:t,ownerState:e})=>{var r;return R({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&R({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${Ys("#fff",oR(e.elevation))}, ${Ys("#fff",oR(e.elevation))})`},t.vars&&{backgroundImage:(r=t.vars.overlays)==null?void 0:r[e.elevation]}))}),IH=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiPaper"}),{className:s,component:i="div",elevation:a=1,square:o=!1,variant:l="elevation"}=n,u=He(n,xH),c=R({},n,{component:i,elevation:a,square:o,variant:l}),f=AH(c);return P.jsx(kH,R({as:i,ownerState:c,className:tt(f.root,s),ref:r},u))}),GL=IH;function TH(t){const{className:e,classes:r,pulsate:n=!1,rippleX:s,rippleY:i,rippleSize:a,in:o,onExited:l,timeout:u}=t,[c,f]=N.useState(!1),h=tt(e,r.ripple,r.rippleVisible,n&&r.ripplePulsate),p={width:a,height:a,top:-(a/2)+i,left:-(a/2)+s},d=tt(r.child,c&&r.childLeaving,n&&r.childPulsate);return!o&&!c&&f(!0),N.useEffect(()=>{if(!o&&l!=null){const m=setTimeout(l,u);return()=>{clearTimeout(m)}}},[l,o,u]),P.jsx("span",{className:h,style:p,children:P.jsx("span",{className:d})})}const NH=Nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ms=NH,RH=["center","classes","className"];let _C=t=>t,cR,fR,hR,dR;const hA=550,BH=80,_H=Yv(cR||(cR=_C`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),PH=Yv(fR||(fR=_C`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),OH=Yv(hR||(hR=_C`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),LH=$e("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),VH=$e(TH,{name:"MuiTouchRipple",slot:"Ripple"})(dR||(dR=_C`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ms.rippleVisible,_H,hA,({theme:t})=>t.transitions.easing.easeInOut,Ms.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ms.child,Ms.childLeaving,PH,hA,({theme:t})=>t.transitions.easing.easeInOut,Ms.childPulsate,OH,({theme:t})=>t.transitions.easing.easeInOut),DH=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiTouchRipple"}),{center:s=!1,classes:i={},className:a}=n,o=He(n,RH),[l,u]=N.useState([]),c=N.useRef(0),f=N.useRef(null);N.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=N.useRef(!1),p=N.useRef(0),d=N.useRef(null),m=N.useRef(null);N.useEffect(()=>()=>{p.current&&clearTimeout(p.current)},[]);const S=N.useCallback(C=>{const{pulsate:E,rippleX:b,rippleY:T,rippleSize:O,cb:H}=C;u(L=>[...L,P.jsx(VH,{classes:{ripple:tt(i.ripple,Ms.ripple),rippleVisible:tt(i.rippleVisible,Ms.rippleVisible),ripplePulsate:tt(i.ripplePulsate,Ms.ripplePulsate),child:tt(i.child,Ms.child),childLeaving:tt(i.childLeaving,Ms.childLeaving),childPulsate:tt(i.childPulsate,Ms.childPulsate)},timeout:hA,pulsate:E,rippleX:b,rippleY:T,rippleSize:O},c.current)]),c.current+=1,f.current=H},[i]),g=N.useCallback((C={},E={},b=()=>{})=>{const{pulsate:T=!1,center:O=s||E.pulsate,fakeElement:H=!1}=E;if((C==null?void 0:C.type)==="mousedown"&&h.current){h.current=!1;return}(C==null?void 0:C.type)==="touchstart"&&(h.current=!0);const L=H?null:m.current,Y=L?L.getBoundingClientRect():{width:0,height:0,left:0,top:0};let ne,z,Z;if(O||C===void 0||C.clientX===0&&C.clientY===0||!C.clientX&&!C.touches)ne=Math.round(Y.width/2),z=Math.round(Y.height/2);else{const{clientX:q,clientY:ie}=C.touches&&C.touches.length>0?C.touches[0]:C;ne=Math.round(q-Y.left),z=Math.round(ie-Y.top)}if(O)Z=Math.sqrt((2*Y.width**2+Y.height**2)/3),Z%2===0&&(Z+=1);else{const q=Math.max(Math.abs((L?L.clientWidth:0)-ne),ne)*2+2,ie=Math.max(Math.abs((L?L.clientHeight:0)-z),z)*2+2;Z=Math.sqrt(q**2+ie**2)}C!=null&&C.touches?d.current===null&&(d.current=()=>{S({pulsate:T,rippleX:ne,rippleY:z,rippleSize:Z,cb:b})},p.current=setTimeout(()=>{d.current&&(d.current(),d.current=null)},BH)):S({pulsate:T,rippleX:ne,rippleY:z,rippleSize:Z,cb:b})},[s,S]),v=N.useCallback(()=>{g({},{pulsate:!0})},[g]),y=N.useCallback((C,E)=>{if(clearTimeout(p.current),(C==null?void 0:C.type)==="touchend"&&d.current){d.current(),d.current=null,p.current=setTimeout(()=>{y(C,E)});return}d.current=null,u(b=>b.length>0?b.slice(1):b),f.current=E},[]);return N.useImperativeHandle(r,()=>({pulsate:v,start:g,stop:y}),[v,g,y]),P.jsx(LH,R({className:tt(Ms.root,i.root,a),ref:m},o,{children:P.jsx(mH,{component:null,exit:!0,children:l})}))}),UH=DH;function MH(t){return Vt("MuiButtonBase",t)}const $H=Nt("MuiButtonBase",["root","disabled","focusVisible"]),FH=$H,HH=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],KH=t=>{const{disabled:e,focusVisible:r,focusVisibleClassName:n,classes:s}=t,a=Dt({root:["root",e&&"disabled",r&&"focusVisible"]},MH,s);return r&&n&&(a.root+=` ${n}`),a},jH=$e("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${FH.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zH=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiButtonBase"}),{action:s,centerRipple:i=!1,children:a,className:o,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:f=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:d,onClick:m,onContextMenu:S,onDragLeave:g,onFocus:v,onFocusVisible:y,onKeyDown:C,onKeyUp:E,onMouseDown:b,onMouseLeave:T,onMouseUp:O,onTouchEnd:H,onTouchMove:L,onTouchStart:Y,tabIndex:ne=0,TouchRippleProps:z,touchRippleRef:Z,type:q}=n,ie=He(n,HH),J=N.useRef(null),G=N.useRef(null),re=Xr(G,Z),{isFocusVisibleRef:D,onFocus:ee,onBlur:B,ref:K}=vL(),[$,ce]=N.useState(!1);u&&$&&ce(!1),N.useImperativeHandle(s,()=>({focusVisible:()=>{ce(!0),J.current.focus()}}),[]);const[Q,fe]=N.useState(!1);N.useEffect(()=>{fe(!0)},[]);const oe=Q&&!c&&!u;N.useEffect(()=>{$&&h&&!c&&Q&&G.current.pulsate()},[c,h,$,Q]);function X(je,qt,Bn=f){return Ic(Zr=>(qt&&qt(Zr),!Bn&&G.current&&G.current[je](Zr),!0))}const Ie=X("start",b),be=X("stop",S),Ae=X("stop",g),me=X("stop",O),Me=X("stop",je=>{$&&je.preventDefault(),T&&T(je)}),Fe=X("start",Y),Mt=X("stop",H),mt=X("stop",L),Yt=X("stop",je=>{B(je),D.current===!1&&ce(!1),d&&d(je)},!1),Cr=Ic(je=>{J.current||(J.current=je.currentTarget),ee(je),D.current===!0&&(ce(!0),y&&y(je)),v&&v(je)}),Rt=()=>{const je=J.current;return l&&l!=="button"&&!(je.tagName==="A"&&je.href)},bt=N.useRef(!1),Ir=Ic(je=>{h&&!bt.current&&$&&G.current&&je.key===" "&&(bt.current=!0,G.current.stop(je,()=>{G.current.start(je)})),je.target===je.currentTarget&&Rt()&&je.key===" "&&je.preventDefault(),C&&C(je),je.target===je.currentTarget&&Rt()&&je.key==="Enter"&&!u&&(je.preventDefault(),m&&m(je))}),ar=Ic(je=>{h&&je.key===" "&&G.current&&$&&!je.defaultPrevented&&(bt.current=!1,G.current.stop(je,()=>{G.current.pulsate(je)})),E&&E(je),m&&je.target===je.currentTarget&&Rt()&&je.key===" "&&!je.defaultPrevented&&m(je)});let ve=l;ve==="button"&&(ie.href||ie.to)&&(ve=p);const Pe={};ve==="button"?(Pe.type=q===void 0?"button":q,Pe.disabled=u):(!ie.href&&!ie.to&&(Pe.role="button"),u&&(Pe["aria-disabled"]=u));const ot=Xr(r,K,J),xt=R({},n,{centerRipple:i,component:l,disabled:u,disableRipple:c,disableTouchRipple:f,focusRipple:h,tabIndex:ne,focusVisible:$}),nt=KH(xt);return P.jsxs(jH,R({as:ve,className:tt(nt.root,o),ownerState:xt,onBlur:Yt,onClick:m,onContextMenu:be,onFocus:Cr,onKeyDown:Ir,onKeyUp:ar,onMouseDown:Ie,onMouseLeave:Me,onMouseUp:me,onDragLeave:Ae,onTouchEnd:Mt,onTouchMove:mt,onTouchStart:Fe,ref:ot,tabIndex:u?-1:ne,type:q},Pe,ie,{children:[a,oe?P.jsx(UH,R({ref:re,center:i},z)):null]}))}),qL=zH;function WH(t){return Vt("MuiTypography",t)}Nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const GH=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],qH=t=>{const{align:e,gutterBottom:r,noWrap:n,paragraph:s,variant:i,classes:a}=t,o={root:["root",i,t.align!=="inherit"&&`align${at(e)}`,r&&"gutterBottom",n&&"noWrap",s&&"paragraph"]};return Dt(o,WH,a)},JH=$e("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.variant&&e[r.variant],r.align!=="inherit"&&e[`align${at(r.align)}`],r.noWrap&&e.noWrap,r.gutterBottom&&e.gutterBottom,r.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>R({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),pR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},YH={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},QH=t=>YH[t]||t,XH=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiTypography"}),s=QH(n.color),i=iF(R({},n,{color:s})),{align:a="inherit",className:o,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:f=!1,variant:h="body1",variantMapping:p=pR}=i,d=He(i,GH),m=R({},i,{align:a,color:s,className:o,component:l,gutterBottom:u,noWrap:c,paragraph:f,variant:h,variantMapping:p}),S=l||(f?"p":p[h]||pR[h])||"span",g=qH(m);return P.jsx(JH,R({as:S,ref:r,ownerState:m,className:tt(g.root,o)},d))}),Hn=XH;function Qd(t){return typeof t=="string"}function N0(t,e,r){return t===void 0||Qd(t)?e:R({},e,{ownerState:R({},e.ownerState,r)})}const ZH={disableDefaultClasses:!1},eK=N.createContext(ZH);function tK(t){const{disableDefaultClasses:e}=N.useContext(eK);return r=>e?"":t(r)}function JL(t,e=[]){if(t===void 0)return{};const r={};return Object.keys(t).filter(n=>n.match(/^on[A-Z]/)&&typeof t[n]=="function"&&!e.includes(n)).forEach(n=>{r[n]=t[n]}),r}function rK(t,e,r){return typeof t=="function"?t(e,r):t}function mR(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(r=>!(r.match(/^on[A-Z]/)&&typeof t[r]=="function")).forEach(r=>{e[r]=t[r]}),e}function nK(t){const{getSlotProps:e,additionalProps:r,externalSlotProps:n,externalForwardedProps:s,className:i}=t;if(!e){const p=tt(s==null?void 0:s.className,n==null?void 0:n.className,i,r==null?void 0:r.className),d=R({},r==null?void 0:r.style,s==null?void 0:s.style,n==null?void 0:n.style),m=R({},r,s,n);return p.length>0&&(m.className=p),Object.keys(d).length>0&&(m.style=d),{props:m,internalRef:void 0}}const a=JL(R({},s,n)),o=mR(n),l=mR(s),u=e(a),c=tt(u==null?void 0:u.className,r==null?void 0:r.className,i,s==null?void 0:s.className,n==null?void 0:n.className),f=R({},u==null?void 0:u.style,r==null?void 0:r.style,s==null?void 0:s.style,n==null?void 0:n.style),h=R({},u,r,l,o);return c.length>0&&(h.className=c),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:u.ref}}const sK=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function tf(t){var e;const{elementType:r,externalSlotProps:n,ownerState:s,skipResolvingSlotProps:i=!1}=t,a=He(t,sK),o=i?{}:rK(n,s),{props:l,internalRef:u}=nK(R({},a,{externalSlotProps:o})),c=Xr(u,o==null?void 0:o.ref,(e=t.additionalProps)==null?void 0:e.ref);return N0(r,R({},l,{ref:c}),s)}const iK=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function aK(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function oK(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=n=>t.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=e(`[name="${t.name}"]:checked`);return r||(r=e(`[name="${t.name}"]`)),r!==t}function lK(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||oK(t))}function uK(t){const e=[],r=[];return Array.from(t.querySelectorAll(iK)).forEach((n,s)=>{const i=aK(n);i===-1||!lK(n)||(i===0?e.push(n):r.push({documentOrder:s,tabIndex:i,node:n}))}),r.sort((n,s)=>n.tabIndex===s.tabIndex?n.documentOrder-s.documentOrder:n.tabIndex-s.tabIndex).map(n=>n.node).concat(e)}function cK(){return!0}function fK(t){const{children:e,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:s=!1,getTabbable:i=uK,isEnabled:a=cK,open:o}=t,l=N.useRef(!1),u=N.useRef(null),c=N.useRef(null),f=N.useRef(null),h=N.useRef(null),p=N.useRef(!1),d=N.useRef(null),m=Xr(e.ref,d),S=N.useRef(null);N.useEffect(()=>{!o||!d.current||(p.current=!r)},[r,o]),N.useEffect(()=>{if(!o||!d.current)return;const y=zn(d.current);return d.current.contains(y.activeElement)||(d.current.hasAttribute("tabIndex")||d.current.setAttribute("tabIndex","-1"),p.current&&d.current.focus()),()=>{s||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[o]),N.useEffect(()=>{if(!o||!d.current)return;const y=zn(d.current),C=T=>{S.current=T,!(n||!a()||T.key!=="Tab")&&y.activeElement===d.current&&T.shiftKey&&(l.current=!0,c.current&&c.current.focus())},E=()=>{const T=d.current;if(T===null)return;if(!y.hasFocus()||!a()||l.current){l.current=!1;return}if(T.contains(y.activeElement)||n&&y.activeElement!==u.current&&y.activeElement!==c.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let O=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(O=i(d.current)),O.length>0){var H,L;const Y=!!((H=S.current)!=null&&H.shiftKey&&((L=S.current)==null?void 0:L.key)==="Tab"),ne=O[0],z=O[O.length-1];typeof ne!="string"&&typeof z!="string"&&(Y?z.focus():ne.focus())}else T.focus()};y.addEventListener("focusin",E),y.addEventListener("keydown",C,!0);const b=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&E()},50);return()=>{clearInterval(b),y.removeEventListener("focusin",E),y.removeEventListener("keydown",C,!0)}},[r,n,s,a,o,i]);const g=y=>{f.current===null&&(f.current=y.relatedTarget),p.current=!0,h.current=y.target;const C=e.props.onFocus;C&&C(y)},v=y=>{f.current===null&&(f.current=y.relatedTarget),p.current=!0};return P.jsxs(N.Fragment,{children:[P.jsx("div",{tabIndex:o?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),N.cloneElement(e,{ref:m,onFocus:g}),P.jsx("div",{tabIndex:o?0:-1,onFocus:v,ref:c,"data-testid":"sentinelEnd"})]})}var as="top",ii="bottom",ai="right",os="left",Y2="auto",ey=[as,ii,ai,os],Xd="start",bv="end",hK="clippingParents",YL="viewport",Yp="popper",dK="reference",gR=ey.reduce(function(t,e){return t.concat([e+"-"+Xd,e+"-"+bv])},[]),QL=[].concat(ey,[Y2]).reduce(function(t,e){return t.concat([e,e+"-"+Xd,e+"-"+bv])},[]),pK="beforeRead",mK="read",gK="afterRead",vK="beforeMain",yK="main",SK="afterMain",wK="beforeWrite",CK="write",EK="afterWrite",bK=[pK,mK,gK,vK,yK,SK,wK,CK,EK];function ca(t){return t?(t.nodeName||"").toLowerCase():null}function Bs(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function rf(t){var e=Bs(t).Element;return t instanceof e||t instanceof Element}function ri(t){var e=Bs(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Q2(t){if(typeof ShadowRoot>"u")return!1;var e=Bs(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function xK(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},s=e.attributes[r]||{},i=e.elements[r];!ri(i)||!ca(i)||(Object.assign(i.style,n),Object.keys(s).forEach(function(a){var o=s[a];o===!1?i.removeAttribute(a):i.setAttribute(a,o===!0?"":o)}))})}function AK(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var s=e.elements[n],i=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),o=a.reduce(function(l,u){return l[u]="",l},{});!ri(s)||!ca(s)||(Object.assign(s.style,o),Object.keys(i).forEach(function(l){s.removeAttribute(l)}))})}}const kK={name:"applyStyles",enabled:!0,phase:"write",fn:xK,effect:AK,requires:["computeStyles"]};function aa(t){return t.split("-")[0]}var Lc=Math.max,ZS=Math.min,Zd=Math.round;function dA(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function XL(){return!/^((?!chrome|android).)*safari/i.test(dA())}function ep(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),s=1,i=1;e&&ri(t)&&(s=t.offsetWidth>0&&Zd(n.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Zd(n.height)/t.offsetHeight||1);var a=rf(t)?Bs(t):window,o=a.visualViewport,l=!XL()&&r,u=(n.left+(l&&o?o.offsetLeft:0))/s,c=(n.top+(l&&o?o.offsetTop:0))/i,f=n.width/s,h=n.height/i;return{width:f,height:h,top:c,right:u+f,bottom:c+h,left:u,x:u,y:c}}function X2(t){var e=ep(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function ZL(t,e){var r=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(r&&Q2(r)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ro(t){return Bs(t).getComputedStyle(t)}function IK(t){return["table","td","th"].indexOf(ca(t))>=0}function eu(t){return((rf(t)?t.ownerDocument:t.document)||window.document).documentElement}function PC(t){return ca(t)==="html"?t:t.assignedSlot||t.parentNode||(Q2(t)?t.host:null)||eu(t)}function vR(t){return!ri(t)||ro(t).position==="fixed"?null:t.offsetParent}function TK(t){var e=/firefox/i.test(dA()),r=/Trident/i.test(dA());if(r&&ri(t)){var n=ro(t);if(n.position==="fixed")return null}var s=PC(t);for(Q2(s)&&(s=s.host);ri(s)&&["html","body"].indexOf(ca(s))<0;){var i=ro(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function ty(t){for(var e=Bs(t),r=vR(t);r&&IK(r)&&ro(r).position==="static";)r=vR(r);return r&&(ca(r)==="html"||ca(r)==="body"&&ro(r).position==="static")?e:r||TK(t)||e}function Z2(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Fg(t,e,r){return Lc(t,ZS(e,r))}function NK(t,e,r){var n=Fg(t,e,r);return n>r?r:n}function eV(){return{top:0,right:0,bottom:0,left:0}}function tV(t){return Object.assign({},eV(),t)}function rV(t,e){return e.reduce(function(r,n){return r[n]=t,r},{})}var RK=function(e,r){return e=typeof e=="function"?e(Object.assign({},r.rects,{placement:r.placement})):e,tV(typeof e!="number"?e:rV(e,ey))};function BK(t){var e,r=t.state,n=t.name,s=t.options,i=r.elements.arrow,a=r.modifiersData.popperOffsets,o=aa(r.placement),l=Z2(o),u=[os,ai].indexOf(o)>=0,c=u?"height":"width";if(!(!i||!a)){var f=RK(s.padding,r),h=X2(i),p=l==="y"?as:os,d=l==="y"?ii:ai,m=r.rects.reference[c]+r.rects.reference[l]-a[l]-r.rects.popper[c],S=a[l]-r.rects.reference[l],g=ty(i),v=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,y=m/2-S/2,C=f[p],E=v-h[c]-f[d],b=v/2-h[c]/2+y,T=Fg(C,b,E),O=l;r.modifiersData[n]=(e={},e[O]=T,e.centerOffset=T-b,e)}}function _K(t){var e=t.state,r=t.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||ZL(e.elements.popper,s)&&(e.elements.arrow=s))}const PK={name:"arrow",enabled:!0,phase:"main",fn:BK,effect:_K,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function tp(t){return t.split("-")[1]}var OK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function LK(t,e){var r=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:Zd(r*s)/s||0,y:Zd(n*s)/s||0}}function yR(t){var e,r=t.popper,n=t.popperRect,s=t.placement,i=t.variation,a=t.offsets,o=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,h=a.x,p=h===void 0?0:h,d=a.y,m=d===void 0?0:d,S=typeof c=="function"?c({x:p,y:m}):{x:p,y:m};p=S.x,m=S.y;var g=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),y=os,C=as,E=window;if(u){var b=ty(r),T="clientHeight",O="clientWidth";if(b===Bs(r)&&(b=eu(r),ro(b).position!=="static"&&o==="absolute"&&(T="scrollHeight",O="scrollWidth")),b=b,s===as||(s===os||s===ai)&&i===bv){C=ii;var H=f&&b===E&&E.visualViewport?E.visualViewport.height:b[T];m-=H-n.height,m*=l?1:-1}if(s===os||(s===as||s===ii)&&i===bv){y=ai;var L=f&&b===E&&E.visualViewport?E.visualViewport.width:b[O];p-=L-n.width,p*=l?1:-1}}var Y=Object.assign({position:o},u&&OK),ne=c===!0?LK({x:p,y:m},Bs(r)):{x:p,y:m};if(p=ne.x,m=ne.y,l){var z;return Object.assign({},Y,(z={},z[C]=v?"0":"",z[y]=g?"0":"",z.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",z))}return Object.assign({},Y,(e={},e[C]=v?m+"px":"",e[y]=g?p+"px":"",e.transform="",e))}function VK(t){var e=t.state,r=t.options,n=r.gpuAcceleration,s=n===void 0?!0:n,i=r.adaptive,a=i===void 0?!0:i,o=r.roundOffsets,l=o===void 0?!0:o,u={placement:aa(e.placement),variation:tp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yR(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yR(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const DK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:VK,data:{}};var Ly={passive:!0};function UK(t){var e=t.state,r=t.instance,n=t.options,s=n.scroll,i=s===void 0?!0:s,a=n.resize,o=a===void 0?!0:a,l=Bs(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(c){c.addEventListener("scroll",r.update,Ly)}),o&&l.addEventListener("resize",r.update,Ly),function(){i&&u.forEach(function(c){c.removeEventListener("scroll",r.update,Ly)}),o&&l.removeEventListener("resize",r.update,Ly)}}const MK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UK,data:{}};var $K={left:"right",right:"left",bottom:"top",top:"bottom"};function F1(t){return t.replace(/left|right|bottom|top/g,function(e){return $K[e]})}var FK={start:"end",end:"start"};function SR(t){return t.replace(/start|end/g,function(e){return FK[e]})}function eI(t){var e=Bs(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function tI(t){return ep(eu(t)).left+eI(t).scrollLeft}function HK(t,e){var r=Bs(t),n=eu(t),s=r.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,l=0;if(s){i=s.width,a=s.height;var u=XL();(u||!u&&e==="fixed")&&(o=s.offsetLeft,l=s.offsetTop)}return{width:i,height:a,x:o+tI(t),y:l}}function KK(t){var e,r=eu(t),n=eI(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Lc(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=Lc(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),o=-n.scrollLeft+tI(t),l=-n.scrollTop;return ro(s||r).direction==="rtl"&&(o+=Lc(r.clientWidth,s?s.clientWidth:0)-i),{width:i,height:a,x:o,y:l}}function rI(t){var e=ro(t),r=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function nV(t){return["html","body","#document"].indexOf(ca(t))>=0?t.ownerDocument.body:ri(t)&&rI(t)?t:nV(PC(t))}function Hg(t,e){var r;e===void 0&&(e=[]);var n=nV(t),s=n===((r=t.ownerDocument)==null?void 0:r.body),i=Bs(n),a=s?[i].concat(i.visualViewport||[],rI(n)?n:[]):n,o=e.concat(a);return s?o:o.concat(Hg(PC(a)))}function pA(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function jK(t,e){var r=ep(t,!1,e==="fixed");return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function wR(t,e,r){return e===YL?pA(HK(t,r)):rf(e)?jK(e,r):pA(KK(eu(t)))}function zK(t){var e=Hg(PC(t)),r=["absolute","fixed"].indexOf(ro(t).position)>=0,n=r&&ri(t)?ty(t):t;return rf(n)?e.filter(function(s){return rf(s)&&ZL(s,n)&&ca(s)!=="body"}):[]}function WK(t,e,r,n){var s=e==="clippingParents"?zK(t):[].concat(e),i=[].concat(s,[r]),a=i[0],o=i.reduce(function(l,u){var c=wR(t,u,n);return l.top=Lc(c.top,l.top),l.right=ZS(c.right,l.right),l.bottom=ZS(c.bottom,l.bottom),l.left=Lc(c.left,l.left),l},wR(t,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function sV(t){var e=t.reference,r=t.element,n=t.placement,s=n?aa(n):null,i=n?tp(n):null,a=e.x+e.width/2-r.width/2,o=e.y+e.height/2-r.height/2,l;switch(s){case as:l={x:a,y:e.y-r.height};break;case ii:l={x:a,y:e.y+e.height};break;case ai:l={x:e.x+e.width,y:o};break;case os:l={x:e.x-r.width,y:o};break;default:l={x:e.x,y:e.y}}var u=s?Z2(s):null;if(u!=null){var c=u==="y"?"height":"width";switch(i){case Xd:l[u]=l[u]-(e[c]/2-r[c]/2);break;case bv:l[u]=l[u]+(e[c]/2-r[c]/2);break}}return l}function xv(t,e){e===void 0&&(e={});var r=e,n=r.placement,s=n===void 0?t.placement:n,i=r.strategy,a=i===void 0?t.strategy:i,o=r.boundary,l=o===void 0?hK:o,u=r.rootBoundary,c=u===void 0?YL:u,f=r.elementContext,h=f===void 0?Yp:f,p=r.altBoundary,d=p===void 0?!1:p,m=r.padding,S=m===void 0?0:m,g=tV(typeof S!="number"?S:rV(S,ey)),v=h===Yp?dK:Yp,y=t.rects.popper,C=t.elements[d?v:h],E=WK(rf(C)?C:C.contextElement||eu(t.elements.popper),l,c,a),b=ep(t.elements.reference),T=sV({reference:b,element:y,strategy:"absolute",placement:s}),O=pA(Object.assign({},y,T)),H=h===Yp?O:b,L={top:E.top-H.top+g.top,bottom:H.bottom-E.bottom+g.bottom,left:E.left-H.left+g.left,right:H.right-E.right+g.right},Y=t.modifiersData.offset;if(h===Yp&&Y){var ne=Y[s];Object.keys(L).forEach(function(z){var Z=[ai,ii].indexOf(z)>=0?1:-1,q=[as,ii].indexOf(z)>=0?"y":"x";L[z]+=ne[q]*Z})}return L}function GK(t,e){e===void 0&&(e={});var r=e,n=r.placement,s=r.boundary,i=r.rootBoundary,a=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?QL:l,c=tp(n),f=c?o?gR:gR.filter(function(d){return tp(d)===c}):ey,h=f.filter(function(d){return u.indexOf(d)>=0});h.length===0&&(h=f);var p=h.reduce(function(d,m){return d[m]=xv(t,{placement:m,boundary:s,rootBoundary:i,padding:a})[aa(m)],d},{});return Object.keys(p).sort(function(d,m){return p[d]-p[m]})}function qK(t){if(aa(t)===Y2)return[];var e=F1(t);return[SR(t),e,SR(e)]}function JK(t){var e=t.state,r=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=r.mainAxis,i=s===void 0?!0:s,a=r.altAxis,o=a===void 0?!0:a,l=r.fallbackPlacements,u=r.padding,c=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,d=p===void 0?!0:p,m=r.allowedAutoPlacements,S=e.options.placement,g=aa(S),v=g===S,y=l||(v||!d?[F1(S)]:qK(S)),C=[S].concat(y).reduce(function($,ce){return $.concat(aa(ce)===Y2?GK(e,{placement:ce,boundary:c,rootBoundary:f,padding:u,flipVariations:d,allowedAutoPlacements:m}):ce)},[]),E=e.rects.reference,b=e.rects.popper,T=new Map,O=!0,H=C[0],L=0;L<C.length;L++){var Y=C[L],ne=aa(Y),z=tp(Y)===Xd,Z=[as,ii].indexOf(ne)>=0,q=Z?"width":"height",ie=xv(e,{placement:Y,boundary:c,rootBoundary:f,altBoundary:h,padding:u}),J=Z?z?ai:os:z?ii:as;E[q]>b[q]&&(J=F1(J));var G=F1(J),re=[];if(i&&re.push(ie[ne]<=0),o&&re.push(ie[J]<=0,ie[G]<=0),re.every(function($){return $})){H=Y,O=!1;break}T.set(Y,re)}if(O)for(var D=d?3:1,ee=function(ce){var Q=C.find(function(fe){var oe=T.get(fe);if(oe)return oe.slice(0,ce).every(function(X){return X})});if(Q)return H=Q,"break"},B=D;B>0;B--){var K=ee(B);if(K==="break")break}e.placement!==H&&(e.modifiersData[n]._skip=!0,e.placement=H,e.reset=!0)}}const YK={name:"flip",enabled:!0,phase:"main",fn:JK,requiresIfExists:["offset"],data:{_skip:!1}};function CR(t,e,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-e.height-r.y,right:t.right-e.width+r.x,bottom:t.bottom-e.height+r.y,left:t.left-e.width-r.x}}function ER(t){return[as,ai,ii,os].some(function(e){return t[e]>=0})}function QK(t){var e=t.state,r=t.name,n=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,a=xv(e,{elementContext:"reference"}),o=xv(e,{altBoundary:!0}),l=CR(a,n),u=CR(o,s,i),c=ER(l),f=ER(u);e.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const XK={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QK};function ZK(t,e,r){var n=aa(t),s=[os,as].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,a=i[0],o=i[1];return a=a||0,o=(o||0)*s,[os,ai].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function ej(t){var e=t.state,r=t.options,n=t.name,s=r.offset,i=s===void 0?[0,0]:s,a=QL.reduce(function(c,f){return c[f]=ZK(f,e.rects,i),c},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}const tj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ej};function rj(t){var e=t.state,r=t.name;e.modifiersData[r]=sV({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const nj={name:"popperOffsets",enabled:!0,phase:"read",fn:rj,data:{}};function sj(t){return t==="x"?"y":"x"}function ij(t){var e=t.state,r=t.options,n=t.name,s=r.mainAxis,i=s===void 0?!0:s,a=r.altAxis,o=a===void 0?!1:a,l=r.boundary,u=r.rootBoundary,c=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,d=r.tetherOffset,m=d===void 0?0:d,S=xv(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),g=aa(e.placement),v=tp(e.placement),y=!v,C=Z2(g),E=sj(C),b=e.modifiersData.popperOffsets,T=e.rects.reference,O=e.rects.popper,H=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,L=typeof H=="number"?{mainAxis:H,altAxis:H}:Object.assign({mainAxis:0,altAxis:0},H),Y=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ne={x:0,y:0};if(b){if(i){var z,Z=C==="y"?as:os,q=C==="y"?ii:ai,ie=C==="y"?"height":"width",J=b[C],G=J+S[Z],re=J-S[q],D=p?-O[ie]/2:0,ee=v===Xd?T[ie]:O[ie],B=v===Xd?-O[ie]:-T[ie],K=e.elements.arrow,$=p&&K?X2(K):{width:0,height:0},ce=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:eV(),Q=ce[Z],fe=ce[q],oe=Fg(0,T[ie],$[ie]),X=y?T[ie]/2-D-oe-Q-L.mainAxis:ee-oe-Q-L.mainAxis,Ie=y?-T[ie]/2+D+oe+fe+L.mainAxis:B+oe+fe+L.mainAxis,be=e.elements.arrow&&ty(e.elements.arrow),Ae=be?C==="y"?be.clientTop||0:be.clientLeft||0:0,me=(z=Y==null?void 0:Y[C])!=null?z:0,Me=J+X-me-Ae,Fe=J+Ie-me,Mt=Fg(p?ZS(G,Me):G,J,p?Lc(re,Fe):re);b[C]=Mt,ne[C]=Mt-J}if(o){var mt,Yt=C==="x"?as:os,Cr=C==="x"?ii:ai,Rt=b[E],bt=E==="y"?"height":"width",Ir=Rt+S[Yt],ar=Rt-S[Cr],ve=[as,os].indexOf(g)!==-1,Pe=(mt=Y==null?void 0:Y[E])!=null?mt:0,ot=ve?Ir:Rt-T[bt]-O[bt]-Pe+L.altAxis,xt=ve?Rt+T[bt]+O[bt]-Pe-L.altAxis:ar,nt=p&&ve?NK(ot,Rt,xt):Fg(p?ot:Ir,Rt,p?xt:ar);b[E]=nt,ne[E]=nt-Rt}e.modifiersData[n]=ne}}const aj={name:"preventOverflow",enabled:!0,phase:"main",fn:ij,requiresIfExists:["offset"]};function oj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function lj(t){return t===Bs(t)||!ri(t)?eI(t):oj(t)}function uj(t){var e=t.getBoundingClientRect(),r=Zd(e.width)/t.offsetWidth||1,n=Zd(e.height)/t.offsetHeight||1;return r!==1||n!==1}function cj(t,e,r){r===void 0&&(r=!1);var n=ri(e),s=ri(e)&&uj(e),i=eu(e),a=ep(t,s,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((ca(e)!=="body"||rI(i))&&(o=lj(e)),ri(e)?(l=ep(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):i&&(l.x=tI(i))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function fj(t){var e=new Map,r=new Set,n=[];t.forEach(function(i){e.set(i.name,i)});function s(i){r.add(i.name);var a=[].concat(i.requires||[],i.requiresIfExists||[]);a.forEach(function(o){if(!r.has(o)){var l=e.get(o);l&&s(l)}}),n.push(i)}return t.forEach(function(i){r.has(i.name)||s(i)}),n}function hj(t){var e=fj(t);return bK.reduce(function(r,n){return r.concat(e.filter(function(s){return s.phase===n}))},[])}function dj(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function pj(t){var e=t.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}var bR={placement:"bottom",modifiers:[],strategy:"absolute"};function xR(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function mj(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,s=e.defaultOptions,i=s===void 0?bR:s;return function(o,l,u){u===void 0&&(u=i);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},bR,i),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:c,setOptions:function(g){var v=typeof g=="function"?g(c.options):g;m(),c.options=Object.assign({},i,c.options,v),c.scrollParents={reference:rf(o)?Hg(o):o.contextElement?Hg(o.contextElement):[],popper:Hg(l)};var y=hj(pj([].concat(n,c.options.modifiers)));return c.orderedModifiers=y.filter(function(C){return C.enabled}),d(),p.update()},forceUpdate:function(){if(!h){var g=c.elements,v=g.reference,y=g.popper;if(xR(v,y)){c.rects={reference:cj(v,ty(y),c.options.strategy==="fixed"),popper:X2(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var C=0;C<c.orderedModifiers.length;C++){if(c.reset===!0){c.reset=!1,C=-1;continue}var E=c.orderedModifiers[C],b=E.fn,T=E.options,O=T===void 0?{}:T,H=E.name;typeof b=="function"&&(c=b({state:c,options:O,name:H,instance:p})||c)}}}},update:dj(function(){return new Promise(function(S){p.forceUpdate(),S(c)})}),destroy:function(){m(),h=!0}};if(!xR(o,l))return p;p.setOptions(u).then(function(S){!h&&u.onFirstUpdate&&u.onFirstUpdate(S)});function d(){c.orderedModifiers.forEach(function(S){var g=S.name,v=S.options,y=v===void 0?{}:v,C=S.effect;if(typeof C=="function"){var E=C({state:c,name:g,instance:p,options:y}),b=function(){};f.push(E||b)}})}function m(){f.forEach(function(S){return S()}),f=[]}return p}}var gj=[MK,nj,DK,kK,tj,YK,aj,PK,XK],vj=mj({defaultModifiers:gj});function yj(t){return typeof t=="function"?t():t}const iV=N.forwardRef(function(e,r){const{children:n,container:s,disablePortal:i=!1}=e,[a,o]=N.useState(null),l=Xr(N.isValidElement(n)?n.ref:null,r);if(ua(()=>{i||o(yj(s)||document.body)},[s,i]),ua(()=>{if(a&&!i)return nA(r,a),()=>{nA(r,null)}},[r,a,i]),i){if(N.isValidElement(n)){const u={ref:l};return N.cloneElement(n,u)}return P.jsx(N.Fragment,{children:n})}return P.jsx(N.Fragment,{children:a&&Yw.createPortal(n,a)})});function Sj(t){return Vt("MuiPopper",t)}Nt("MuiPopper",["root"]);const wj=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Cj=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Ej(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function mA(t){return typeof t=="function"?t():t}function bj(t){return t.nodeType!==void 0}const xj=()=>Dt({root:["root"]},tK(Sj)),Aj={},kj=N.forwardRef(function(e,r){var n;const{anchorEl:s,children:i,direction:a,disablePortal:o,modifiers:l,open:u,placement:c,popperOptions:f,popperRef:h,slotProps:p={},slots:d={},TransitionProps:m}=e,S=He(e,wj),g=N.useRef(null),v=Xr(g,r),y=N.useRef(null),C=Xr(y,h),E=N.useRef(C);ua(()=>{E.current=C},[C]),N.useImperativeHandle(h,()=>y.current,[]);const b=Ej(c,a),[T,O]=N.useState(b),[H,L]=N.useState(mA(s));N.useEffect(()=>{y.current&&y.current.forceUpdate()}),N.useEffect(()=>{s&&L(mA(s))},[s]),ua(()=>{if(!H||!u)return;const q=G=>{O(G.placement)};let ie=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:G})=>{q(G)}}];l!=null&&(ie=ie.concat(l)),f&&f.modifiers!=null&&(ie=ie.concat(f.modifiers));const J=vj(H,g.current,R({placement:b},f,{modifiers:ie}));return E.current(J),()=>{J.destroy(),E.current(null)}},[H,o,l,u,f,b]);const Y={placement:T};m!==null&&(Y.TransitionProps=m);const ne=xj(),z=(n=d.root)!=null?n:"div",Z=tf({elementType:z,externalSlotProps:p.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:ne.root});return P.jsx(z,R({},Z,{children:typeof i=="function"?i(Y):i}))}),Ij=N.forwardRef(function(e,r){const{anchorEl:n,children:s,container:i,direction:a="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:u,open:c,placement:f="bottom",popperOptions:h=Aj,popperRef:p,style:d,transition:m=!1,slotProps:S={},slots:g={}}=e,v=He(e,Cj),[y,C]=N.useState(!0),E=()=>{C(!1)},b=()=>{C(!0)};if(!l&&!c&&(!m||y))return null;let T;if(i)T=i;else if(n){const L=mA(n);T=L&&bj(L)?zn(L).body:zn(null).body}const O=!c&&l&&(!m||y)?"none":void 0,H=m?{in:c,onEnter:E,onExited:b}:void 0;return P.jsx(iV,{disablePortal:o,container:T,children:P.jsx(kj,R({anchorEl:n,direction:a,disablePortal:o,modifiers:u,ref:r,open:m?!y:c,placement:f,popperOptions:h,popperRef:p,slotProps:S,slots:g},v,{style:R({position:"fixed",top:0,left:0,display:O},d),TransitionProps:H,children:s}))})});function Tj(t){const e=zn(t);return e.body===t?Zc(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Kg(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function AR(t){return parseInt(Zc(t).getComputedStyle(t).paddingRight,10)||0}function Nj(t){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,n=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return r||n}function kR(t,e,r,n,s){const i=[e,r,...n];[].forEach.call(t.children,a=>{const o=i.indexOf(a)===-1,l=!Nj(a);o&&l&&Kg(a,s)})}function tb(t,e){let r=-1;return t.some((n,s)=>e(n)?(r=s,!0):!1),r}function Rj(t,e){const r=[],n=t.container;if(!e.disableScrollLock){if(Tj(n)){const a=yL(zn(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${AR(n)+a}px`;const o=zn(n).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{r.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${AR(l)+a}px`})}let i;if(n.parentNode instanceof DocumentFragment)i=zn(n).body;else{const a=n.parentElement,o=Zc(n);i=(a==null?void 0:a.nodeName)==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:n}r.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{r.forEach(({value:i,el:a,property:o})=>{i?a.style.setProperty(o,i):a.style.removeProperty(o)})}}function Bj(t){const e=[];return[].forEach.call(t.children,r=>{r.getAttribute("aria-hidden")==="true"&&e.push(r)}),e}class _j{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,r){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Kg(e.modalRef,!1);const s=Bj(r);kR(r,e.mount,e.modalRef,s,!0);const i=tb(this.containers,a=>a.container===r);return i!==-1?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:r,restore:null,hiddenSiblings:s}),n)}mount(e,r){const n=tb(this.containers,i=>i.modals.indexOf(e)!==-1),s=this.containers[n];s.restore||(s.restore=Rj(s,r))}remove(e,r=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const s=tb(this.containers,a=>a.modals.indexOf(e)!==-1),i=this.containers[s];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),i.modals.length===0)i.restore&&i.restore(),e.modalRef&&Kg(e.modalRef,r),kR(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=i.modals[i.modals.length-1];a.modalRef&&Kg(a.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Pj(t){return typeof t=="function"?t():t}function Oj(t){return t?t.props.hasOwnProperty("in"):!1}const Lj=new _j;function Vj(t){const{container:e,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:s=Lj,closeAfterTransition:i=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:u,open:c,rootRef:f}=t,h=N.useRef({}),p=N.useRef(null),d=N.useRef(null),m=Xr(d,f),[S,g]=N.useState(!c),v=Oj(l);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const C=()=>zn(p.current),E=()=>(h.current.modalRef=d.current,h.current.mount=p.current,h.current),b=()=>{s.mount(E(),{disableScrollLock:n}),d.current&&(d.current.scrollTop=0)},T=Ic(()=>{const ie=Pj(e)||C().body;s.add(E(),ie),d.current&&b()}),O=N.useCallback(()=>s.isTopModal(E()),[s]),H=Ic(ie=>{p.current=ie,ie&&(c&&O()?b():d.current&&Kg(d.current,y))}),L=N.useCallback(()=>{s.remove(E(),y)},[y,s]);N.useEffect(()=>()=>{L()},[L]),N.useEffect(()=>{c?T():(!v||!i)&&L()},[c,L,v,i,T]);const Y=ie=>J=>{var G;(G=ie.onKeyDown)==null||G.call(ie,J),!(J.key!=="Escape"||!O())&&(r||(J.stopPropagation(),u&&u(J,"escapeKeyDown")))},ne=ie=>J=>{var G;(G=ie.onClick)==null||G.call(ie,J),J.target===J.currentTarget&&u&&u(J,"backdropClick")};return{getRootProps:(ie={})=>{const J=JL(t);delete J.onTransitionEnter,delete J.onTransitionExited;const G=R({},J,ie);return R({role:"presentation"},G,{onKeyDown:Y(G),ref:m})},getBackdropProps:(ie={})=>{const J=ie;return R({"aria-hidden":!0},J,{onClick:ne(J),open:c})},getTransitionProps:()=>{const ie=()=>{g(!1),a&&a()},J=()=>{g(!0),o&&o(),i&&L()};return{onEnter:DN(ie,l==null?void 0:l.props.onEnter),onExited:DN(J,l==null?void 0:l.props.onExited)}},rootRef:m,portalRef:H,isTopModal:O,exited:S,hasTransition:v}}const Dj=["onChange","maxRows","minRows","style","value"];function Vy(t){return parseInt(t,10)||0}const Uj={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function IR(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Mj=N.forwardRef(function(e,r){const{onChange:n,maxRows:s,minRows:i=1,style:a,value:o}=e,l=He(e,Dj),{current:u}=N.useRef(o!=null),c=N.useRef(null),f=Xr(r,c),h=N.useRef(null),p=N.useRef(0),[d,m]=N.useState({outerHeightStyle:0}),S=N.useCallback(()=>{const C=c.current,b=Zc(C).getComputedStyle(C);if(b.width==="0px")return{outerHeightStyle:0};const T=h.current;T.style.width=b.width,T.value=C.value||e.placeholder||"x",T.value.slice(-1)===`
`&&(T.value+=" ");const O=b.boxSizing,H=Vy(b.paddingBottom)+Vy(b.paddingTop),L=Vy(b.borderBottomWidth)+Vy(b.borderTopWidth),Y=T.scrollHeight;T.value="x";const ne=T.scrollHeight;let z=Y;i&&(z=Math.max(Number(i)*ne,z)),s&&(z=Math.min(Number(s)*ne,z)),z=Math.max(z,ne);const Z=z+(O==="border-box"?H+L:0),q=Math.abs(z-Y)<=1;return{outerHeightStyle:Z,overflow:q}},[s,i,e.placeholder]),g=(C,E)=>{const{outerHeightStyle:b,overflow:T}=E;return p.current<20&&(b>0&&Math.abs((C.outerHeightStyle||0)-b)>1||C.overflow!==T)?(p.current+=1,{overflow:T,outerHeightStyle:b}):C},v=N.useCallback(()=>{const C=S();IR(C)||m(E=>g(E,C))},[S]);ua(()=>{const C=()=>{const Y=S();IR(Y)||Yw.flushSync(()=>{m(ne=>g(ne,Y))})},E=()=>{p.current=0,C()};let b;const T=gL(E),O=c.current,H=Zc(O);H.addEventListener("resize",T);let L;return typeof ResizeObserver<"u"&&(L=new ResizeObserver(E),L.observe(O)),()=>{T.clear(),cancelAnimationFrame(b),H.removeEventListener("resize",T),L&&L.disconnect()}},[S]),ua(()=>{v()}),N.useEffect(()=>{p.current=0},[o]);const y=C=>{p.current=0,u||v(),n&&n(C)};return P.jsxs(N.Fragment,{children:[P.jsx("textarea",R({value:o,onChange:y,ref:f,rows:i,style:R({height:d.outerHeightStyle,overflow:d.overflow?"hidden":void 0},a)},l)),P.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:R({},Uj.shadow,a,{paddingTop:0,paddingBottom:0})})]})}),$j=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Fj=$e(Ij,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Hj=N.forwardRef(function(e,r){var n;const s=$L(),i=Ut({props:e,name:"MuiPopper"}),{anchorEl:a,component:o,components:l,componentsProps:u,container:c,disablePortal:f,keepMounted:h,modifiers:p,open:d,placement:m,popperOptions:S,popperRef:g,transition:v,slots:y,slotProps:C}=i,E=He(i,$j),b=(n=y==null?void 0:y.root)!=null?n:l==null?void 0:l.Root,T=R({anchorEl:a,container:c,disablePortal:f,keepMounted:h,modifiers:p,open:d,placement:m,popperOptions:S,popperRef:g,transition:v},E);return P.jsx(Fj,R({as:o,direction:s==null?void 0:s.direction,slots:{root:b},slotProps:C??u},T,{ref:r}))}),aV=Hj;function Ep({props:t,states:e,muiFormControl:r}){return e.reduce((n,s)=>(n[s]=t[s],r&&typeof t[s]>"u"&&(n[s]=r[s]),n),{})}const Kj=N.createContext(void 0),nI=Kj;function bp(){return N.useContext(nI)}function jj(t){return P.jsx(rF,R({},t,{defaultTheme:RC,themeId:lC}))}function TR(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function ew(t,e=!1){return t&&(TR(t.value)&&t.value!==""||e&&TR(t.defaultValue)&&t.defaultValue!=="")}function zj(t){return t.startAdornment}function Wj(t){return Vt("MuiInputBase",t)}const Gj=Nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),rp=Gj,qj=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],OC=(t,e)=>{const{ownerState:r}=t;return[e.root,r.formControl&&e.formControl,r.startAdornment&&e.adornedStart,r.endAdornment&&e.adornedEnd,r.error&&e.error,r.size==="small"&&e.sizeSmall,r.multiline&&e.multiline,r.color&&e[`color${at(r.color)}`],r.fullWidth&&e.fullWidth,r.hiddenLabel&&e.hiddenLabel]},LC=(t,e)=>{const{ownerState:r}=t;return[e.input,r.size==="small"&&e.inputSizeSmall,r.multiline&&e.inputMultiline,r.type==="search"&&e.inputTypeSearch,r.startAdornment&&e.inputAdornedStart,r.endAdornment&&e.inputAdornedEnd,r.hiddenLabel&&e.inputHiddenLabel]},Jj=t=>{const{classes:e,color:r,disabled:n,error:s,endAdornment:i,focused:a,formControl:o,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:f,size:h,startAdornment:p,type:d}=t,m={root:["root",`color${at(r)}`,n&&"disabled",s&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",h&&h!=="medium"&&`size${at(h)}`,c&&"multiline",p&&"adornedStart",i&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",n&&"disabled",d==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",i&&"inputAdornedEnd",f&&"readOnly"]};return Dt(m,Wj,e)},VC=$e("div",{name:"MuiInputBase",slot:"Root",overridesResolver:OC})(({theme:t,ownerState:e})=>R({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${rp.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&R({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),DC=$e("input",{name:"MuiInputBase",slot:"Input",overridesResolver:LC})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light",n=R({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),s={opacity:"0 !important"},i=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return R({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${rp.formControl} &`]:{"&::-webkit-input-placeholder":s,"&::-moz-placeholder":s,"&:-ms-input-placeholder":s,"&::-ms-input-placeholder":s,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus:-ms-input-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${rp.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Yj=P.jsx(jj,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Qj=N.forwardRef(function(e,r){var n;const s=Ut({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:a,autoFocus:o,className:l,components:u={},componentsProps:c={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:d,fullWidth:m=!1,id:S,inputComponent:g="input",inputProps:v={},inputRef:y,maxRows:C,minRows:E,multiline:b=!1,name:T,onBlur:O,onChange:H,onClick:L,onFocus:Y,onKeyDown:ne,onKeyUp:z,placeholder:Z,readOnly:q,renderSuffix:ie,rows:J,slotProps:G={},slots:re={},startAdornment:D,type:ee="text",value:B}=s,K=He(s,qj),$=v.value!=null?v.value:B,{current:ce}=N.useRef($!=null),Q=N.useRef(),fe=N.useCallback(nt=>{},[]),oe=Xr(Q,y,v.ref,fe),[X,Ie]=N.useState(!1),be=bp(),Ae=Ep({props:s,muiFormControl:be,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Ae.focused=be?be.focused:X,N.useEffect(()=>{!be&&h&&X&&(Ie(!1),O&&O())},[be,h,X,O]);const me=be&&be.onFilled,Me=be&&be.onEmpty,Fe=N.useCallback(nt=>{ew(nt)?me&&me():Me&&Me()},[me,Me]);ua(()=>{ce&&Fe({value:$})},[$,Fe,ce]);const Mt=nt=>{if(Ae.disabled){nt.stopPropagation();return}Y&&Y(nt),v.onFocus&&v.onFocus(nt),be&&be.onFocus?be.onFocus(nt):Ie(!0)},mt=nt=>{O&&O(nt),v.onBlur&&v.onBlur(nt),be&&be.onBlur?be.onBlur(nt):Ie(!1)},Yt=(nt,...je)=>{if(!ce){const qt=nt.target||Q.current;if(qt==null)throw new Error(Gl(1));Fe({value:qt.value})}v.onChange&&v.onChange(nt,...je),H&&H(nt,...je)};N.useEffect(()=>{Fe(Q.current)},[]);const Cr=nt=>{Q.current&&nt.currentTarget===nt.target&&Q.current.focus(),L&&L(nt)};let Rt=g,bt=v;b&&Rt==="input"&&(J?bt=R({type:void 0,minRows:J,maxRows:J},bt):bt=R({type:void 0,maxRows:C,minRows:E},bt),Rt=Mj);const Ir=nt=>{Fe(nt.animationName==="mui-auto-fill-cancel"?Q.current:{value:"x"})};N.useEffect(()=>{be&&be.setAdornedStart(!!D)},[be,D]);const ar=R({},s,{color:Ae.color||"primary",disabled:Ae.disabled,endAdornment:d,error:Ae.error,focused:Ae.focused,formControl:be,fullWidth:m,hiddenLabel:Ae.hiddenLabel,multiline:b,size:Ae.size,startAdornment:D,type:ee}),ve=Jj(ar),Pe=re.root||u.Root||VC,ot=G.root||c.root||{},xt=re.input||u.Input||DC;return bt=R({},bt,(n=G.input)!=null?n:c.input),P.jsxs(N.Fragment,{children:[!p&&Yj,P.jsxs(Pe,R({},ot,!Qd(Pe)&&{ownerState:R({},ar,ot.ownerState)},{ref:r,onClick:Cr},K,{className:tt(ve.root,ot.className,l,q&&"MuiInputBase-readOnly"),children:[D,P.jsx(nI.Provider,{value:null,children:P.jsx(xt,R({ownerState:ar,"aria-invalid":Ae.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:f,disabled:Ae.disabled,id:S,onAnimationStart:Ir,name:T,placeholder:Z,readOnly:q,required:Ae.required,rows:J,value:$,onKeyDown:ne,onKeyUp:z,type:ee},bt,!Qd(xt)&&{as:Rt,ownerState:R({},ar,bt.ownerState)},{ref:oe,className:tt(ve.input,bt.className,q&&"MuiInputBase-readOnly"),onBlur:mt,onChange:Yt,onFocus:Mt}))}),d,ie?ie(R({},Ae,{startAdornment:D})):null]}))]})}),sI=Qj;function Xj(t){return Vt("MuiInput",t)}const Zj=R({},rp,Nt("MuiInput",["root","underline","input"])),Qp=Zj;function e9(t){return Vt("MuiOutlinedInput",t)}const t9=R({},rp,Nt("MuiOutlinedInput",["root","notchedOutline","input"])),go=t9;function r9(t){return Vt("MuiFilledInput",t)}const n9=R({},rp,Nt("MuiFilledInput",["root","underline","input"])),iu=n9,s9=lH(P.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),i9=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],a9={entering:{opacity:1},entered:{opacity:1}},o9=N.forwardRef(function(e,r){const n=Zv(),s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:i,appear:a=!0,children:o,easing:l,in:u,onEnter:c,onEntered:f,onEntering:h,onExit:p,onExited:d,onExiting:m,style:S,timeout:g=s,TransitionComponent:v=G2}=e,y=He(e,i9),C=N.useRef(null),E=Xr(C,o.ref,r),b=Z=>q=>{if(Z){const ie=C.current;q===void 0?Z(ie):Z(ie,q)}},T=b(h),O=b((Z,q)=>{zL(Z);const ie=Yd({style:S,timeout:g,easing:l},{mode:"enter"});Z.style.webkitTransition=n.transitions.create("opacity",ie),Z.style.transition=n.transitions.create("opacity",ie),c&&c(Z,q)}),H=b(f),L=b(m),Y=b(Z=>{const q=Yd({style:S,timeout:g,easing:l},{mode:"exit"});Z.style.webkitTransition=n.transitions.create("opacity",q),Z.style.transition=n.transitions.create("opacity",q),p&&p(Z)}),ne=b(d),z=Z=>{i&&i(C.current,Z)};return P.jsx(v,R({appear:a,in:u,nodeRef:C,onEnter:O,onEntered:H,onEntering:T,onExit:Y,onExited:ne,onExiting:L,addEndListener:z,timeout:g},y,{children:(Z,q)=>N.cloneElement(o,R({style:R({opacity:0,visibility:Z==="exited"&&!u?"hidden":void 0},a9[Z],S,o.props.style),ref:E},q))}))}),l9=o9;function u9(t){return Vt("MuiBackdrop",t)}Nt("MuiBackdrop",["root","invisible"]);const c9=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],f9=t=>{const{classes:e,invisible:r}=t;return Dt({root:["root",r&&"invisible"]},u9,e)},h9=$e("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.invisible&&e.invisible]}})(({ownerState:t})=>R({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),d9=N.forwardRef(function(e,r){var n,s,i;const a=Ut({props:e,name:"MuiBackdrop"}),{children:o,className:l,component:u="div",components:c={},componentsProps:f={},invisible:h=!1,open:p,slotProps:d={},slots:m={},TransitionComponent:S=l9,transitionDuration:g}=a,v=He(a,c9),y=R({},a,{component:u,invisible:h}),C=f9(y),E=(n=d.root)!=null?n:f.root;return P.jsx(S,R({in:p,timeout:g},v,{children:P.jsx(h9,R({"aria-hidden":!0},E,{as:(s=(i=m.root)!=null?i:c.Root)!=null?s:u,className:tt(C.root,l,E==null?void 0:E.className),ownerState:R({},y,E==null?void 0:E.ownerState),classes:C,ref:r,children:o}))}))}),p9=d9;function m9(t){return Vt("MuiButton",t)}const g9=Nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Dy=g9,v9=N.createContext({}),y9=v9,S9=N.createContext(void 0),w9=S9,C9=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],E9=t=>{const{color:e,disableElevation:r,fullWidth:n,size:s,variant:i,classes:a}=t,o={root:["root",i,`${i}${at(e)}`,`size${at(s)}`,`${i}Size${at(s)}`,e==="inherit"&&"colorInherit",r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${at(s)}`],endIcon:["endIcon",`iconSize${at(s)}`]},l=Dt(o,m9,a);return R({},a,l)},oV=t=>R({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),b9=$e(qL,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`${r.variant}${at(r.color)}`],e[`size${at(r.size)}`],e[`${r.variant}Size${at(r.size)}`],r.color==="inherit"&&e.colorInherit,r.disableElevation&&e.disableElevation,r.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var r,n;const s=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],i=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return R({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":R({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:Ys(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ys(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:Ys(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:i,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":R({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Dy.focusVisible}`]:R({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Dy.disabled}`]:R({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${Ys(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(r=(n=t.palette).getContrastText)==null?void 0:r.call(n,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:s,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Dy.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Dy.disabled}`]:{boxShadow:"none"}}),x9=$e("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.startIcon,e[`iconSize${at(r.size)}`]]}})(({ownerState:t})=>R({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},oV(t))),A9=$e("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.endIcon,e[`iconSize${at(r.size)}`]]}})(({ownerState:t})=>R({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},oV(t))),k9=N.forwardRef(function(e,r){const n=N.useContext(y9),s=N.useContext(w9),i=N2(n,e),a=Ut({props:i,name:"MuiButton"}),{children:o,color:l="primary",component:u="button",className:c,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:d,focusVisibleClassName:m,fullWidth:S=!1,size:g="medium",startIcon:v,type:y,variant:C="text"}=a,E=He(a,C9),b=R({},a,{color:l,component:u,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:S,size:g,type:y,variant:C}),T=E9(b),O=v&&P.jsx(x9,{className:T.startIcon,ownerState:b,children:v}),H=d&&P.jsx(A9,{className:T.endIcon,ownerState:b,children:d}),L=s||"";return P.jsxs(b9,R({ownerState:b,className:tt(n.className,T.root,c,L),component:u,disabled:f,focusRipple:!p,focusVisibleClassName:tt(T.focusVisible,m),ref:r,type:y},E,{classes:T,children:[O,o,H]}))}),nf=k9;function I9(t){return Vt("MuiCard",t)}Nt("MuiCard",["root"]);const T9=["className","raised"],N9=t=>{const{classes:e}=t;return Dt({root:["root"]},I9,e)},R9=$e(GL,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({overflow:"hidden"})),B9=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiCard"}),{className:s,raised:i=!1}=n,a=He(n,T9),o=R({},n,{raised:i}),l=N9(o);return P.jsx(R9,R({className:tt(l.root,s),elevation:i?8:void 0,ref:r,ownerState:o},a))}),Av=B9;function _9(t){return Vt("MuiCardActions",t)}Nt("MuiCardActions",["root","spacing"]);const P9=["disableSpacing","className"],O9=t=>{const{classes:e,disableSpacing:r}=t;return Dt({root:["root",!r&&"spacing"]},_9,e)},L9=$e("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disableSpacing&&e.spacing]}})(({ownerState:t})=>R({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),V9=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiCardActions"}),{disableSpacing:s=!1,className:i}=n,a=He(n,P9),o=R({},n,{disableSpacing:s}),l=O9(o);return P.jsx(L9,R({className:tt(l.root,i),ownerState:o,ref:r},a))}),lV=V9;function D9(t){return Vt("MuiCardContent",t)}Nt("MuiCardContent",["root"]);const U9=["className","component"],M9=t=>{const{classes:e}=t;return Dt({root:["root"]},D9,e)},$9=$e("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),F9=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiCardContent"}),{className:s,component:i="div"}=n,a=He(n,U9),o=R({},n,{component:i}),l=M9(o);return P.jsx($9,R({as:i,className:tt(l.root,s),ownerState:o,ref:r},a))}),kv=F9;function H9(t){return Vt("MuiCardHeader",t)}const K9=Nt("MuiCardHeader",["root","avatar","action","content","title","subheader"]),NR=K9,j9=["action","avatar","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"],z9=t=>{const{classes:e}=t;return Dt({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},H9,e)},W9=$e("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(t,e)=>R({[`& .${NR.title}`]:e.title,[`& .${NR.subheader}`]:e.subheader},e.root)})({display:"flex",alignItems:"center",padding:16}),G9=$e("div",{name:"MuiCardHeader",slot:"Avatar",overridesResolver:(t,e)=>e.avatar})({display:"flex",flex:"0 0 auto",marginRight:16}),q9=$e("div",{name:"MuiCardHeader",slot:"Action",overridesResolver:(t,e)=>e.action})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),J9=$e("div",{name:"MuiCardHeader",slot:"Content",overridesResolver:(t,e)=>e.content})({flex:"1 1 auto"}),Y9=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiCardHeader"}),{action:s,avatar:i,className:a,component:o="div",disableTypography:l=!1,subheader:u,subheaderTypographyProps:c,title:f,titleTypographyProps:h}=n,p=He(n,j9),d=R({},n,{component:o,disableTypography:l}),m=z9(d);let S=f;S!=null&&S.type!==Hn&&!l&&(S=P.jsx(Hn,R({variant:i?"body2":"h5",className:m.title,component:"span",display:"block"},h,{children:S})));let g=u;return g!=null&&g.type!==Hn&&!l&&(g=P.jsx(Hn,R({variant:i?"body2":"body1",className:m.subheader,color:"text.secondary",component:"span",display:"block"},c,{children:g}))),P.jsxs(W9,R({className:tt(m.root,a),as:o,ref:r,ownerState:d},p,{children:[i&&P.jsx(G9,{className:m.avatar,ownerState:d,children:i}),P.jsxs(J9,{className:m.content,ownerState:d,children:[S,g]}),s&&P.jsx(q9,{className:m.action,ownerState:d,children:s})]}))}),iI=Y9;function Q9(t){return Vt("MuiCircularProgress",t)}Nt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const X9=["className","color","disableShrink","size","style","thickness","value","variant"];let UC=t=>t,RR,BR,_R,PR;const vo=44,Z9=Yv(RR||(RR=UC`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),e7=Yv(BR||(BR=UC`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),t7=t=>{const{classes:e,variant:r,color:n,disableShrink:s}=t,i={root:["root",r,`color${at(n)}`],svg:["svg"],circle:["circle",`circle${at(r)}`,s&&"circleDisableShrink"]};return Dt(i,Q9,e)},r7=$e("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],e[`color${at(r.color)}`]]}})(({ownerState:t,theme:e})=>R({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&U2(_R||(_R=UC`
      animation: ${0} 1.4s linear infinite;
    `),Z9)),n7=$e("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),s7=$e("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.circle,e[`circle${at(r.variant)}`],r.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>R({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&U2(PR||(PR=UC`
      animation: ${0} 1.4s ease-in-out infinite;
    `),e7)),i7=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiCircularProgress"}),{className:s,color:i="primary",disableShrink:a=!1,size:o=40,style:l,thickness:u=3.6,value:c=0,variant:f="indeterminate"}=n,h=He(n,X9),p=R({},n,{color:i,disableShrink:a,size:o,thickness:u,value:c,variant:f}),d=t7(p),m={},S={},g={};if(f==="determinate"){const v=2*Math.PI*((vo-u)/2);m.strokeDasharray=v.toFixed(3),g["aria-valuenow"]=Math.round(c),m.strokeDashoffset=`${((100-c)/100*v).toFixed(3)}px`,S.transform="rotate(-90deg)"}return P.jsx(r7,R({className:tt(d.root,s),style:R({width:o,height:o},S,l),ownerState:p,ref:r,role:"progressbar"},g,h,{children:P.jsx(n7,{className:d.svg,ownerState:p,viewBox:`${vo/2} ${vo/2} ${vo} ${vo}`,children:P.jsx(s7,{className:d.circle,style:m,ownerState:p,cx:vo,cy:vo,r:(vo-u)/2,fill:"none",strokeWidth:u})})}))}),a7=i7;function o7(t){return Vt("MuiModal",t)}Nt("MuiModal",["root","hidden","backdrop"]);const l7=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],u7=t=>{const{open:e,exited:r,classes:n}=t;return Dt({root:["root",!e&&r&&"hidden"],backdrop:["backdrop"]},o7,n)},c7=$e("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.open&&r.exited&&e.hidden]}})(({theme:t,ownerState:e})=>R({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),f7=$e(p9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),h7=N.forwardRef(function(e,r){var n,s,i,a,o,l;const u=Ut({name:"MuiModal",props:e}),{BackdropComponent:c=f7,BackdropProps:f,className:h,closeAfterTransition:p=!1,children:d,container:m,component:S,components:g={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:C=!1,disableEscapeKeyDown:E=!1,disablePortal:b=!1,disableRestoreFocus:T=!1,disableScrollLock:O=!1,hideBackdrop:H=!1,keepMounted:L=!1,onBackdropClick:Y,open:ne,slotProps:z,slots:Z}=u,q=He(u,l7),ie=R({},u,{closeAfterTransition:p,disableAutoFocus:y,disableEnforceFocus:C,disableEscapeKeyDown:E,disablePortal:b,disableRestoreFocus:T,disableScrollLock:O,hideBackdrop:H,keepMounted:L}),{getRootProps:J,getBackdropProps:G,getTransitionProps:re,portalRef:D,isTopModal:ee,exited:B,hasTransition:K}=Vj(R({},ie,{rootRef:r})),$=R({},ie,{exited:B}),ce=u7($),Q={};if(d.props.tabIndex===void 0&&(Q.tabIndex="-1"),K){const{onEnter:me,onExited:Me}=re();Q.onEnter=me,Q.onExited=Me}const fe=(n=(s=Z==null?void 0:Z.root)!=null?s:g.Root)!=null?n:c7,oe=(i=(a=Z==null?void 0:Z.backdrop)!=null?a:g.Backdrop)!=null?i:c,X=(o=z==null?void 0:z.root)!=null?o:v.root,Ie=(l=z==null?void 0:z.backdrop)!=null?l:v.backdrop,be=tf({elementType:fe,externalSlotProps:X,externalForwardedProps:q,getSlotProps:J,additionalProps:{ref:r,as:S},ownerState:$,className:tt(h,X==null?void 0:X.className,ce==null?void 0:ce.root,!$.open&&$.exited&&(ce==null?void 0:ce.hidden))}),Ae=tf({elementType:oe,externalSlotProps:Ie,additionalProps:f,getSlotProps:me=>G(R({},me,{onClick:Me=>{Y&&Y(Me),me!=null&&me.onClick&&me.onClick(Me)}})),className:tt(Ie==null?void 0:Ie.className,f==null?void 0:f.className,ce==null?void 0:ce.backdrop),ownerState:$});return!L&&!ne&&(!K||B)?null:P.jsx(iV,{ref:D,container:m,disablePortal:b,children:P.jsxs(fe,R({},be,{children:[!H&&c?P.jsx(oe,R({},Ae)):null,P.jsx(fK,{disableEnforceFocus:C,disableAutoFocus:y,disableRestoreFocus:T,isEnabled:ee,open:ne,children:N.cloneElement(d,Q)})]}))})}),d7=h7,p7=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],m7=t=>{const{classes:e,disableUnderline:r}=t,s=Dt({root:["root",!r&&"underline"],input:["input"]},r9,e);return R({},e,s)},g7=$e(VC,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...OC(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var r;const n=t.palette.mode==="light",s=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",i=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return R({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i}},[`&.${iu.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:i},[`&.${iu.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:o}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(r=(t.vars||t).palette[e.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${iu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${iu.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:s}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${iu.disabled}, .${iu.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${iu.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&R({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),v7=$e(DC,{name:"MuiFilledInput",slot:"Input",overridesResolver:LC})(({theme:t,ownerState:e})=>R({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9})),uV=N.forwardRef(function(e,r){var n,s,i,a;const o=Ut({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:f="input",multiline:h=!1,slotProps:p,slots:d={},type:m="text"}=o,S=He(o,p7),g=R({},o,{fullWidth:c,inputComponent:f,multiline:h,type:m}),v=m7(o),y={root:{ownerState:g},input:{ownerState:g}},C=p??u?Nn(p??u,y):y,E=(n=(s=d.root)!=null?s:l.Root)!=null?n:g7,b=(i=(a=d.input)!=null?a:l.Input)!=null?i:v7;return P.jsx(sI,R({slots:{root:E,input:b},componentsProps:C,fullWidth:c,inputComponent:f,multiline:h,ref:r,type:m},S,{classes:v}))});uV.muiName="Input";const cV=uV;function y7(t){return Vt("MuiFormControl",t)}Nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const S7=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],w7=t=>{const{classes:e,margin:r,fullWidth:n}=t,s={root:["root",r!=="none"&&`margin${at(r)}`,n&&"fullWidth"]};return Dt(s,y7,e)},C7=$e("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,e[`margin${at(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>R({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),E7=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiFormControl"}),{children:s,className:i,color:a="primary",component:o="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:d=!1,size:m="medium",variant:S="outlined"}=n,g=He(n,S7),v=R({},n,{color:a,component:o,disabled:l,error:u,fullWidth:f,hiddenLabel:h,margin:p,required:d,size:m,variant:S}),y=w7(v),[C,E]=N.useState(()=>{let z=!1;return s&&N.Children.forEach(s,Z=>{if(!V1(Z,["Input","Select"]))return;const q=V1(Z,["Select"])?Z.props.input:Z;q&&zj(q.props)&&(z=!0)}),z}),[b,T]=N.useState(()=>{let z=!1;return s&&N.Children.forEach(s,Z=>{V1(Z,["Input","Select"])&&(ew(Z.props,!0)||ew(Z.props.inputProps,!0))&&(z=!0)}),z}),[O,H]=N.useState(!1);l&&O&&H(!1);const L=c!==void 0&&!l?c:O;let Y;const ne=N.useMemo(()=>({adornedStart:C,setAdornedStart:E,color:a,disabled:l,error:u,filled:b,focused:L,fullWidth:f,hiddenLabel:h,size:m,onBlur:()=>{H(!1)},onEmpty:()=>{T(!1)},onFilled:()=>{T(!0)},onFocus:()=>{H(!0)},registerEffect:Y,required:d,variant:S}),[C,a,l,u,b,L,f,h,Y,d,m,S]);return P.jsx(nI.Provider,{value:ne,children:P.jsx(C7,R({as:o,ownerState:v,className:tt(y.root,i),ref:r},g,{children:s}))})}),b7=E7;function x7(t){return Vt("MuiFormHelperText",t)}const A7=Nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),OR=A7;var LR;const k7=["children","className","component","disabled","error","filled","focused","margin","required","variant"],I7=t=>{const{classes:e,contained:r,size:n,disabled:s,error:i,filled:a,focused:o,required:l}=t,u={root:["root",s&&"disabled",i&&"error",n&&`size${at(n)}`,r&&"contained",o&&"focused",a&&"filled",l&&"required"]};return Dt(u,x7,e)},T7=$e("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.size&&e[`size${at(r.size)}`],r.contained&&e.contained,r.filled&&e.filled]}})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${OR.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${OR.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),N7=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiFormHelperText"}),{children:s,className:i,component:a="p"}=n,o=He(n,k7),l=bp(),u=Ep({props:n,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=R({},n,{component:a,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=I7(c);return P.jsx(T7,R({as:a,ownerState:c,className:tt(f.root,i),ref:r},o,{children:s===" "?LR||(LR=P.jsx("span",{className:"notranslate",children:"​"})):s}))}),R7=N7;function B7(t){return Vt("MuiFormLabel",t)}const _7=Nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),jg=_7,P7=["children","className","color","component","disabled","error","filled","focused","required"],O7=t=>{const{classes:e,color:r,focused:n,disabled:s,error:i,filled:a,required:o}=t,l={root:["root",`color${at(r)}`,s&&"disabled",i&&"error",a&&"filled",n&&"focused",o&&"required"],asterisk:["asterisk",i&&"error"]};return Dt(l,B7,e)},L7=$e("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${jg.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${jg.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${jg.error}`]:{color:(t.vars||t).palette.error.main}})),V7=$e("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${jg.error}`]:{color:(t.vars||t).palette.error.main}})),D7=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiFormLabel"}),{children:s,className:i,component:a="label"}=n,o=He(n,P7),l=bp(),u=Ep({props:n,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=R({},n,{color:u.color||"primary",component:a,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=O7(c);return P.jsxs(L7,R({as:a,ownerState:c,className:tt(f.root,i),ref:r},o,{children:[s,u.required&&P.jsxs(V7,{ownerState:c,"aria-hidden":!0,className:f.asterisk,children:[" ","*"]})]}))}),U7=D7,M7=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function gA(t){return`scale(${t}, ${t**2})`}const $7={entering:{opacity:1,transform:gA(1)},entered:{opacity:1,transform:"none"}},rb=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),fV=N.forwardRef(function(e,r){const{addEndListener:n,appear:s=!0,children:i,easing:a,in:o,onEnter:l,onEntered:u,onEntering:c,onExit:f,onExited:h,onExiting:p,style:d,timeout:m="auto",TransitionComponent:S=G2}=e,g=He(e,M7),v=N.useRef(),y=N.useRef(),C=Zv(),E=N.useRef(null),b=Xr(E,i.ref,r),T=q=>ie=>{if(q){const J=E.current;ie===void 0?q(J):q(J,ie)}},O=T(c),H=T((q,ie)=>{zL(q);const{duration:J,delay:G,easing:re}=Yd({style:d,timeout:m,easing:a},{mode:"enter"});let D;m==="auto"?(D=C.transitions.getAutoHeightDuration(q.clientHeight),y.current=D):D=J,q.style.transition=[C.transitions.create("opacity",{duration:D,delay:G}),C.transitions.create("transform",{duration:rb?D:D*.666,delay:G,easing:re})].join(","),l&&l(q,ie)}),L=T(u),Y=T(p),ne=T(q=>{const{duration:ie,delay:J,easing:G}=Yd({style:d,timeout:m,easing:a},{mode:"exit"});let re;m==="auto"?(re=C.transitions.getAutoHeightDuration(q.clientHeight),y.current=re):re=ie,q.style.transition=[C.transitions.create("opacity",{duration:re,delay:J}),C.transitions.create("transform",{duration:rb?re:re*.666,delay:rb?J:J||re*.333,easing:G})].join(","),q.style.opacity=0,q.style.transform=gA(.75),f&&f(q)}),z=T(h),Z=q=>{m==="auto"&&(v.current=setTimeout(q,y.current||0)),n&&n(E.current,q)};return N.useEffect(()=>()=>{clearTimeout(v.current)},[]),P.jsx(S,R({appear:s,in:o,nodeRef:E,onEnter:H,onEntered:L,onEntering:O,onExit:ne,onExited:z,onExiting:Y,addEndListener:Z,timeout:m==="auto"?null:m},g,{children:(q,ie)=>N.cloneElement(i,R({style:R({opacity:0,transform:gA(.75),visibility:q==="exited"&&!o?"hidden":void 0},$7[q],d,i.props.style),ref:b},ie))}))});fV.muiSupportAuto=!0;const vA=fV,F7=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],H7=t=>{const{classes:e,disableUnderline:r}=t,s=Dt({root:["root",!r&&"underline"],input:["input"]},Xj,e);return R({},e,s)},K7=$e(VC,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[...OC(t,e),!r.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),R({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Qp.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Qp.error}`]:{"&:before, &:after":{borderBottomColor:(t.vars||t).palette.error.main}},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Qp.disabled}, .${Qp.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Qp.disabled}:before`]:{borderBottomStyle:"dotted"}})}),j7=$e(DC,{name:"MuiInput",slot:"Input",overridesResolver:LC})({}),hV=N.forwardRef(function(e,r){var n,s,i,a;const o=Ut({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:h="input",multiline:p=!1,slotProps:d,slots:m={},type:S="text"}=o,g=He(o,F7),v=H7(o),C={root:{ownerState:{disableUnderline:l}}},E=d??c?Nn(d??c,C):C,b=(n=(s=m.root)!=null?s:u.Root)!=null?n:K7,T=(i=(a=m.input)!=null?a:u.Input)!=null?i:j7;return P.jsx(sI,R({slots:{root:b,input:T},slotProps:E,fullWidth:f,inputComponent:h,multiline:p,ref:r,type:S},g,{classes:v}))});hV.muiName="Input";const dV=hV;function z7(t){return Vt("MuiInputLabel",t)}Nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const W7=["disableAnimation","margin","shrink","variant","className"],G7=t=>{const{classes:e,formControl:r,size:n,shrink:s,disableAnimation:i,variant:a,required:o}=t,l={root:["root",r&&"formControl",!i&&"animated",s&&"shrink",n&&n!=="normal"&&`size${at(n)}`,a],asterisk:[o&&"asterisk"]},u=Dt(l,z7,e);return R({},e,u)},q7=$e(U7,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${jg.asterisk}`]:e.asterisk},e.root,r.formControl&&e.formControl,r.size==="small"&&e.sizeSmall,r.shrink&&e.shrink,!r.disableAnimation&&e.animated,r.focused&&e.focused,e[r.variant]]}})(({theme:t,ownerState:e})=>R({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&R({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&R({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&R({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),J7=N.forwardRef(function(e,r){const n=Ut({name:"MuiInputLabel",props:e}),{disableAnimation:s=!1,shrink:i,className:a}=n,o=He(n,W7),l=bp();let u=i;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=Ep({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),f=R({},n,{disableAnimation:s,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=G7(f);return P.jsx(q7,R({"data-shrink":u,ownerState:f,ref:r,className:tt(h.root,a)},o,{classes:h}))}),Y7=J7,Q7=N.createContext({}),Pd=Q7;function X7(t){return Vt("MuiList",t)}Nt("MuiList",["root","padding","dense","subheader"]);const Z7=["children","className","component","dense","disablePadding","subheader"],ez=t=>{const{classes:e,disablePadding:r,dense:n,subheader:s}=t;return Dt({root:["root",!r&&"padding",n&&"dense",s&&"subheader"]},X7,e)},tz=$e("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,!r.disablePadding&&e.padding,r.dense&&e.dense,r.subheader&&e.subheader]}})(({ownerState:t})=>R({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),rz=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiList"}),{children:s,className:i,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:u}=n,c=He(n,Z7),f=N.useMemo(()=>({dense:o}),[o]),h=R({},n,{component:a,dense:o,disablePadding:l}),p=ez(h);return P.jsx(Pd.Provider,{value:f,children:P.jsxs(tz,R({as:a,className:tt(p.root,i),ref:r,ownerState:h},c,{children:[u,s]}))})}),pV=rz;function nz(t){return Vt("MuiListItem",t)}const sz=Nt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),Mf=sz,iz=Nt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),az=iz;function oz(t){return Vt("MuiListItemSecondaryAction",t)}Nt("MuiListItemSecondaryAction",["root","disableGutters"]);const lz=["className"],uz=t=>{const{disableGutters:e,classes:r}=t;return Dt({root:["root",e&&"disableGutters"]},oz,r)},cz=$e("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.disableGutters&&e.disableGutters]}})(({ownerState:t})=>R({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),mV=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiListItemSecondaryAction"}),{className:s}=n,i=He(n,lz),a=N.useContext(Pd),o=R({},n,{disableGutters:a.disableGutters}),l=uz(o);return P.jsx(cz,R({className:tt(l.root,s),ownerState:o,ref:r},i))});mV.muiName="ListItemSecondaryAction";const fz=mV,hz=["className"],dz=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],pz=(t,e)=>{const{ownerState:r}=t;return[e.root,r.dense&&e.dense,r.alignItems==="flex-start"&&e.alignItemsFlexStart,r.divider&&e.divider,!r.disableGutters&&e.gutters,!r.disablePadding&&e.padding,r.button&&e.button,r.hasSecondaryAction&&e.secondaryAction]},mz=t=>{const{alignItems:e,button:r,classes:n,dense:s,disabled:i,disableGutters:a,disablePadding:o,divider:l,hasSecondaryAction:u,selected:c}=t;return Dt({root:["root",s&&"dense",!a&&"gutters",!o&&"padding",l&&"divider",i&&"disabled",r&&"button",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},nz,n)},gz=$e("div",{name:"MuiListItem",slot:"Root",overridesResolver:pz})(({theme:t,ownerState:e})=>R({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&R({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${az.root}`]:{paddingRight:48}},{[`&.${Mf.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Mf.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ys(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Mf.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:Ys(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Mf.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Mf.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:Ys(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:Ys(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),vz=$e("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),yz=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiListItem"}),{alignItems:s="center",autoFocus:i=!1,button:a=!1,children:o,className:l,component:u,components:c={},componentsProps:f={},ContainerComponent:h="li",ContainerProps:{className:p}={},dense:d=!1,disabled:m=!1,disableGutters:S=!1,disablePadding:g=!1,divider:v=!1,focusVisibleClassName:y,secondaryAction:C,selected:E=!1,slotProps:b={},slots:T={}}=n,O=He(n.ContainerProps,hz),H=He(n,dz),L=N.useContext(Pd),Y=N.useMemo(()=>({dense:d||L.dense||!1,alignItems:s,disableGutters:S}),[s,L.dense,d,S]),ne=N.useRef(null);ua(()=>{i&&ne.current&&ne.current.focus()},[i]);const z=N.Children.toArray(o),Z=z.length&&V1(z[z.length-1],["ListItemSecondaryAction"]),q=R({},n,{alignItems:s,autoFocus:i,button:a,dense:Y.dense,disabled:m,disableGutters:S,disablePadding:g,divider:v,hasSecondaryAction:Z,selected:E}),ie=mz(q),J=Xr(ne,r),G=T.root||c.Root||gz,re=b.root||f.root||{},D=R({className:tt(ie.root,re.className,l),disabled:m},H);let ee=u||"li";return a&&(D.component=u||"div",D.focusVisibleClassName=tt(Mf.focusVisible,y),ee=qL),Z?(ee=!D.component&&!u?"div":ee,h==="li"&&(ee==="li"?ee="div":D.component==="li"&&(D.component="div")),P.jsx(Pd.Provider,{value:Y,children:P.jsxs(vz,R({as:h,className:tt(ie.container,p),ref:J,ownerState:q},O,{children:[P.jsx(G,R({},re,!Qd(G)&&{as:ee,ownerState:R({},q,re.ownerState)},D,{children:z})),z.pop()]}))})):P.jsx(Pd.Provider,{value:Y,children:P.jsxs(G,R({},re,{as:ee,ref:J},!Qd(G)&&{ownerState:R({},q,re.ownerState)},D,{children:[z,C&&P.jsx(fz,{children:C})]}))})}),Sz=yz;function wz(t){return Vt("MuiListItemText",t)}const Cz=Nt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),VR=Cz,Ez=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],bz=t=>{const{classes:e,inset:r,primary:n,secondary:s,dense:i}=t;return Dt({root:["root",r&&"inset",i&&"dense",n&&s&&"multiline"],primary:["primary"],secondary:["secondary"]},wz,e)},xz=$e("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`& .${VR.primary}`]:e.primary},{[`& .${VR.secondary}`]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>R({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Az=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiListItemText"}),{children:s,className:i,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:f}=n,h=He(n,Ez),{dense:p}=N.useContext(Pd);let d=l??s,m=c;const S=R({},n,{disableTypography:a,inset:o,primary:!!d,secondary:!!m,dense:p}),g=bz(S);return d!=null&&d.type!==Hn&&!a&&(d=P.jsx(Hn,R({variant:p?"body2":"body1",className:g.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:d}))),m!=null&&m.type!==Hn&&!a&&(m=P.jsx(Hn,R({variant:"body2",className:g.secondary,color:"text.secondary",display:"block"},f,{children:m}))),P.jsxs(xz,R({className:tt(g.root,i),ownerState:S,ref:r},h,{children:[d,m]}))}),kz=Az,Iz=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nb(t,e,r){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r?null:t.firstChild}function DR(t,e,r){return t===e?r?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r?null:t.lastChild}function gV(t,e){if(e===void 0)return!0;let r=t.innerText;return r===void 0&&(r=t.textContent),r=r.trim().toLowerCase(),r.length===0?!1:e.repeating?r[0]===e.keys[0]:r.indexOf(e.keys.join(""))===0}function Xp(t,e,r,n,s,i){let a=!1,o=s(t,e,e?r:!1);for(;o;){if(o===t.firstChild){if(a)return!1;a=!0}const l=n?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!gV(o,i)||l)o=s(t,o,r);else return o.focus(),!0}return!1}const Tz=N.forwardRef(function(e,r){const{actions:n,autoFocus:s=!1,autoFocusItem:i=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:f="selectedMenu"}=e,h=He(e,Iz),p=N.useRef(null),d=N.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});ua(()=>{s&&p.current.focus()},[s]),N.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(y,C)=>{const E=!p.current.style.width;if(y.clientHeight<p.current.clientHeight&&E){const b=`${yL(zn(y))}px`;p.current.style[C.direction==="rtl"?"paddingLeft":"paddingRight"]=b,p.current.style.width=`calc(100% + ${b})`}return p.current}}),[]);const m=y=>{const C=p.current,E=y.key,b=zn(C).activeElement;if(E==="ArrowDown")y.preventDefault(),Xp(C,b,u,l,nb);else if(E==="ArrowUp")y.preventDefault(),Xp(C,b,u,l,DR);else if(E==="Home")y.preventDefault(),Xp(C,null,u,l,nb);else if(E==="End")y.preventDefault(),Xp(C,null,u,l,DR);else if(E.length===1){const T=d.current,O=E.toLowerCase(),H=performance.now();T.keys.length>0&&(H-T.lastTime>500?(T.keys=[],T.repeating=!0,T.previousKeyMatched=!0):T.repeating&&O!==T.keys[0]&&(T.repeating=!1)),T.lastTime=H,T.keys.push(O);const L=b&&!T.repeating&&gV(b,T);T.previousKeyMatched&&(L||Xp(C,b,!1,l,nb,T))?y.preventDefault():T.previousKeyMatched=!1}c&&c(y)},S=Xr(p,r);let g=-1;N.Children.forEach(a,(y,C)=>{if(!N.isValidElement(y)){g===C&&(g+=1,g>=a.length&&(g=-1));return}y.props.disabled||(f==="selectedMenu"&&y.props.selected||g===-1)&&(g=C),g===C&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(g+=1,g>=a.length&&(g=-1))});const v=N.Children.map(a,(y,C)=>{if(C===g){const E={};return i&&(E.autoFocus=!0),y.props.tabIndex===void 0&&f==="selectedMenu"&&(E.tabIndex=0),N.cloneElement(y,E)}return y});return P.jsx(pV,R({role:"menu",ref:S,className:o,onKeyDown:m,tabIndex:s?0:-1},h,{children:v}))}),Nz=Tz;function Rz(t){return Vt("MuiPopover",t)}Nt("MuiPopover",["root","paper"]);const Bz=["onEntering"],_z=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Pz=["slotProps"];function UR(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.height/2:e==="bottom"&&(r=t.height),r}function MR(t,e){let r=0;return typeof e=="number"?r=e:e==="center"?r=t.width/2:e==="right"&&(r=t.width),r}function $R(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function sb(t){return typeof t=="function"?t():t}const Oz=t=>{const{classes:e}=t;return Dt({root:["root"],paper:["paper"]},Rz,e)},Lz=$e(d7,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),vV=$e(GL,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Vz=N.forwardRef(function(e,r){var n,s,i;const a=Ut({props:e,name:"MuiPopover"}),{action:o,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:f="anchorEl",children:h,className:p,container:d,elevation:m=8,marginThreshold:S=16,open:g,PaperProps:v={},slots:y,slotProps:C,transformOrigin:E={vertical:"top",horizontal:"left"},TransitionComponent:b=vA,transitionDuration:T="auto",TransitionProps:{onEntering:O}={},disableScrollLock:H=!1}=a,L=He(a.TransitionProps,Bz),Y=He(a,_z),ne=(n=C==null?void 0:C.paper)!=null?n:v,z=N.useRef(),Z=Xr(z,ne.ref),q=R({},a,{anchorOrigin:u,anchorReference:f,elevation:m,marginThreshold:S,externalPaperSlotProps:ne,transformOrigin:E,TransitionComponent:b,transitionDuration:T,TransitionProps:L}),ie=Oz(q),J=N.useCallback(()=>{if(f==="anchorPosition")return c;const me=sb(l),Fe=(me&&me.nodeType===1?me:zn(z.current).body).getBoundingClientRect();return{top:Fe.top+UR(Fe,u.vertical),left:Fe.left+MR(Fe,u.horizontal)}},[l,u.horizontal,u.vertical,c,f]),G=N.useCallback(me=>({vertical:UR(me,E.vertical),horizontal:MR(me,E.horizontal)}),[E.horizontal,E.vertical]),re=N.useCallback(me=>{const Me={width:me.offsetWidth,height:me.offsetHeight},Fe=G(Me);if(f==="none")return{top:null,left:null,transformOrigin:$R(Fe)};const Mt=J();let mt=Mt.top-Fe.vertical,Yt=Mt.left-Fe.horizontal;const Cr=mt+Me.height,Rt=Yt+Me.width,bt=Zc(sb(l)),Ir=bt.innerHeight-S,ar=bt.innerWidth-S;if(S!==null&&mt<S){const ve=mt-S;mt-=ve,Fe.vertical+=ve}else if(S!==null&&Cr>Ir){const ve=Cr-Ir;mt-=ve,Fe.vertical+=ve}if(S!==null&&Yt<S){const ve=Yt-S;Yt-=ve,Fe.horizontal+=ve}else if(Rt>ar){const ve=Rt-ar;Yt-=ve,Fe.horizontal+=ve}return{top:`${Math.round(mt)}px`,left:`${Math.round(Yt)}px`,transformOrigin:$R(Fe)}},[l,f,J,G,S]),[D,ee]=N.useState(g),B=N.useCallback(()=>{const me=z.current;if(!me)return;const Me=re(me);Me.top!==null&&(me.style.top=Me.top),Me.left!==null&&(me.style.left=Me.left),me.style.transformOrigin=Me.transformOrigin,ee(!0)},[re]);N.useEffect(()=>(H&&window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)),[l,H,B]);const K=(me,Me)=>{O&&O(me,Me),B()},$=()=>{ee(!1)};N.useEffect(()=>{g&&B()}),N.useImperativeHandle(o,()=>g?{updatePosition:()=>{B()}}:null,[g,B]),N.useEffect(()=>{if(!g)return;const me=gL(()=>{B()}),Me=Zc(l);return Me.addEventListener("resize",me),()=>{me.clear(),Me.removeEventListener("resize",me)}},[l,g,B]);let ce=T;T==="auto"&&!b.muiSupportAuto&&(ce=void 0);const Q=d||(l?zn(sb(l)).body:void 0),fe=(s=y==null?void 0:y.root)!=null?s:Lz,oe=(i=y==null?void 0:y.paper)!=null?i:vV,X=tf({elementType:oe,externalSlotProps:R({},ne,{style:D?ne.style:R({},ne.style,{opacity:0})}),additionalProps:{elevation:m,ref:Z},ownerState:q,className:tt(ie.paper,ne==null?void 0:ne.className)}),Ie=tf({elementType:fe,externalSlotProps:(C==null?void 0:C.root)||{},externalForwardedProps:Y,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:Q,open:g},ownerState:q,className:tt(ie.root,p)}),{slotProps:be}=Ie,Ae=He(Ie,Pz);return P.jsx(fe,R({},Ae,!Qd(fe)&&{slotProps:be,disableScrollLock:H},{children:P.jsx(b,R({appear:!0,in:g,onEntering:K,onExited:$,timeout:ce},L,{children:P.jsx(oe,R({},X,{children:h}))}))}))}),Dz=Vz;function Uz(t){return Vt("MuiMenu",t)}Nt("MuiMenu",["root","paper","list"]);const Mz=["onEntering"],$z=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Fz={vertical:"top",horizontal:"right"},Hz={vertical:"top",horizontal:"left"},Kz=t=>{const{classes:e}=t;return Dt({root:["root"],paper:["paper"],list:["list"]},Uz,e)},jz=$e(Dz,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),zz=$e(vV,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Wz=$e(Nz,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Gz=N.forwardRef(function(e,r){var n,s;const i=Ut({props:e,name:"MuiMenu"}),{autoFocus:a=!0,children:o,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:f,open:h,PaperProps:p={},PopoverClasses:d,transitionDuration:m="auto",TransitionProps:{onEntering:S}={},variant:g="selectedMenu",slots:v={},slotProps:y={}}=i,C=He(i.TransitionProps,Mz),E=He(i,$z),b=Zv(),T=b.direction==="rtl",O=R({},i,{autoFocus:a,disableAutoFocusItem:u,MenuListProps:c,onEntering:S,PaperProps:p,transitionDuration:m,TransitionProps:C,variant:g}),H=Kz(O),L=a&&!u&&h,Y=N.useRef(null),ne=(re,D)=>{Y.current&&Y.current.adjustStyleForScrollbar(re,b),S&&S(re,D)},z=re=>{re.key==="Tab"&&(re.preventDefault(),f&&f(re,"tabKeyDown"))};let Z=-1;N.Children.map(o,(re,D)=>{N.isValidElement(re)&&(re.props.disabled||(g==="selectedMenu"&&re.props.selected||Z===-1)&&(Z=D))});const q=(n=v.paper)!=null?n:zz,ie=(s=y.paper)!=null?s:p,J=tf({elementType:v.root,externalSlotProps:y.root,ownerState:O,className:[H.root,l]}),G=tf({elementType:q,externalSlotProps:ie,ownerState:O,className:H.paper});return P.jsx(jz,R({onClose:f,anchorOrigin:{vertical:"bottom",horizontal:T?"right":"left"},transformOrigin:T?Fz:Hz,slots:{paper:q,root:v.root},slotProps:{root:J,paper:G},open:h,ref:r,transitionDuration:m,TransitionProps:R({onEntering:ne},C),ownerState:O},E,{classes:d,children:P.jsx(Wz,R({onKeyDown:z,actions:Y,autoFocus:a&&(Z===-1||u),autoFocusItem:L,variant:g},c,{className:tt(H.list,c.className),children:o}))}))}),qz=Gz;function Jz(t){return Vt("MuiNativeSelect",t)}const Yz=Nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),aI=Yz,Qz=["className","disabled","error","IconComponent","inputRef","variant"],Xz=t=>{const{classes:e,variant:r,disabled:n,multiple:s,open:i,error:a}=t,o={select:["select",r,n&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${at(r)}`,i&&"iconOpen",n&&"disabled"]};return Dt(o,Jz,e)},yV=({ownerState:t,theme:e})=>R({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":R({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${aI.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Zz=$e("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:io,overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.select,e[r.variant],r.error&&e.error,{[`&.${aI.multiple}`]:e.multiple}]}})(yV),SV=({ownerState:t,theme:e})=>R({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${aI.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),eW=$e("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${at(r.variant)}`],r.open&&e.iconOpen]}})(SV),tW=N.forwardRef(function(e,r){const{className:n,disabled:s,error:i,IconComponent:a,inputRef:o,variant:l="standard"}=e,u=He(e,Qz),c=R({},e,{disabled:s,variant:l,error:i}),f=Xz(c);return P.jsxs(N.Fragment,{children:[P.jsx(Zz,R({ownerState:c,className:tt(f.select,n),disabled:s,ref:o||r},u)),e.multiple?null:P.jsx(eW,{as:a,ownerState:c,className:f.icon})]})}),rW=tW;var FR;const nW=["children","classes","className","label","notched"],sW=$e("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),iW=$e("legend")(({ownerState:t,theme:e})=>R({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&R({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function aW(t){const{className:e,label:r,notched:n}=t,s=He(t,nW),i=r!=null&&r!=="",a=R({},t,{notched:n,withLabel:i});return P.jsx(sW,R({"aria-hidden":!0,className:e,ownerState:a},s,{children:P.jsx(iW,{ownerState:a,children:i?P.jsx("span",{children:r}):FR||(FR=P.jsx("span",{className:"notranslate",children:"​"}))})}))}const oW=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],lW=t=>{const{classes:e}=t,n=Dt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},e9,e);return R({},e,n)},uW=$e(VC,{shouldForwardProp:t=>io(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:OC})(({theme:t,ownerState:e})=>{const r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return R({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${go.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${go.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${go.focused} .${go.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${go.error} .${go.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${go.disabled} .${go.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&R({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),cW=$e(aW,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),fW=$e(DC,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:LC})(({theme:t,ownerState:e})=>R({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),wV=N.forwardRef(function(e,r){var n,s,i,a,o;const l=Ut({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:f="input",label:h,multiline:p=!1,notched:d,slots:m={},type:S="text"}=l,g=He(l,oW),v=lW(l),y=bp(),C=Ep({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E=R({},l,{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:y,fullWidth:c,hiddenLabel:C.hiddenLabel,multiline:p,size:C.size,type:S}),b=(n=(s=m.root)!=null?s:u.Root)!=null?n:uW,T=(i=(a=m.input)!=null?a:u.Input)!=null?i:fW;return P.jsx(sI,R({slots:{root:b,input:T},renderSuffix:O=>P.jsx(cW,{ownerState:E,className:v.notchedOutline,label:h!=null&&h!==""&&C.required?o||(o=P.jsxs(N.Fragment,{children:[h," ","*"]})):h,notched:typeof d<"u"?d:!!(O.startAdornment||O.filled||O.focused)}),fullWidth:c,inputComponent:f,multiline:p,ref:r,type:S},g,{classes:R({},v,{notchedOutline:null})}))});wV.muiName="Input";const CV=wV;function hW(t){return Vt("MuiSelect",t)}const dW=Nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Zp=dW;var HR;const pW=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],mW=$e("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{[`&.${Zp.select}`]:e.select},{[`&.${Zp.select}`]:e[r.variant]},{[`&.${Zp.error}`]:e.error},{[`&.${Zp.multiple}`]:e.multiple}]}})(yV,{[`&.${Zp.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),gW=$e("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.icon,r.variant&&e[`icon${at(r.variant)}`],r.open&&e.iconOpen]}})(SV),vW=$e("input",{shouldForwardProp:t=>tH(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function KR(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function yW(t){return t==null||typeof t=="string"&&!t.trim()}const SW=t=>{const{classes:e,variant:r,disabled:n,multiple:s,open:i,error:a}=t,o={select:["select",r,n&&"disabled",s&&"multiple",a&&"error"],icon:["icon",`icon${at(r)}`,i&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Dt(o,hW,e)},wW=N.forwardRef(function(e,r){var n;const{"aria-describedby":s,"aria-label":i,autoFocus:a,autoWidth:o,children:l,className:u,defaultOpen:c,defaultValue:f,disabled:h,displayEmpty:p,error:d=!1,IconComponent:m,inputRef:S,labelId:g,MenuProps:v={},multiple:y,name:C,onBlur:E,onChange:b,onClose:T,onFocus:O,onOpen:H,open:L,readOnly:Y,renderValue:ne,SelectDisplayProps:z={},tabIndex:Z,value:q,variant:ie="standard"}=e,J=He(e,pW),[G,re]=sA({controlled:q,default:f,name:"Select"}),[D,ee]=sA({controlled:L,default:c,name:"Select"}),B=N.useRef(null),K=N.useRef(null),[$,ce]=N.useState(null),{current:Q}=N.useRef(L!=null),[fe,oe]=N.useState(),X=Xr(r,S),Ie=N.useCallback(Ke=>{K.current=Ke,Ke&&ce(Ke)},[]),be=$==null?void 0:$.parentNode;N.useImperativeHandle(X,()=>({focus:()=>{K.current.focus()},node:B.current,value:G}),[G]),N.useEffect(()=>{c&&D&&$&&!Q&&(oe(o?null:be.clientWidth),K.current.focus())},[$,o]),N.useEffect(()=>{a&&K.current.focus()},[a]),N.useEffect(()=>{if(!g)return;const Ke=zn(K.current).getElementById(g);if(Ke){const At=()=>{getSelection().isCollapsed&&K.current.focus()};return Ke.addEventListener("click",At),()=>{Ke.removeEventListener("click",At)}}},[g]);const Ae=(Ke,At)=>{Ke?H&&H(At):T&&T(At),Q||(oe(o?null:be.clientWidth),ee(Ke))},me=Ke=>{Ke.button===0&&(Ke.preventDefault(),K.current.focus(),Ae(!0,Ke))},Me=Ke=>{Ae(!1,Ke)},Fe=N.Children.toArray(l),Mt=Ke=>{const At=Fe.find(j=>j.props.value===Ke.target.value);At!==void 0&&(re(At.props.value),b&&b(Ke,At))},mt=Ke=>At=>{let j;if(At.currentTarget.hasAttribute("tabindex")){if(y){j=Array.isArray(G)?G.slice():[];const F=G.indexOf(Ke.props.value);F===-1?j.push(Ke.props.value):j.splice(F,1)}else j=Ke.props.value;if(Ke.props.onClick&&Ke.props.onClick(At),G!==j&&(re(j),b)){const F=At.nativeEvent||At,ye=new F.constructor(F.type,F);Object.defineProperty(ye,"target",{writable:!0,value:{value:j,name:C}}),b(ye,Ke)}y||Ae(!1,At)}},Yt=Ke=>{Y||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ke.key)!==-1&&(Ke.preventDefault(),Ae(!0,Ke))},Cr=$!==null&&D,Rt=Ke=>{!Cr&&E&&(Object.defineProperty(Ke,"target",{writable:!0,value:{value:G,name:C}}),E(Ke))};delete J["aria-invalid"];let bt,Ir;const ar=[];let ve=!1;(ew({value:G})||p)&&(ne?bt=ne(G):ve=!0);const Pe=Fe.map(Ke=>{if(!N.isValidElement(Ke))return null;let At;if(y){if(!Array.isArray(G))throw new Error(Gl(2));At=G.some(j=>KR(j,Ke.props.value)),At&&ve&&ar.push(Ke.props.children)}else At=KR(G,Ke.props.value),At&&ve&&(Ir=Ke.props.children);return N.cloneElement(Ke,{"aria-selected":At?"true":"false",onClick:mt(Ke),onKeyUp:j=>{j.key===" "&&j.preventDefault(),Ke.props.onKeyUp&&Ke.props.onKeyUp(j)},role:"option",selected:At,value:void 0,"data-value":Ke.props.value})});ve&&(y?ar.length===0?bt=null:bt=ar.reduce((Ke,At,j)=>(Ke.push(At),j<ar.length-1&&Ke.push(", "),Ke),[]):bt=Ir);let ot=fe;!o&&Q&&$&&(ot=be.clientWidth);let xt;typeof Z<"u"?xt=Z:xt=h?null:0;const nt=z.id||(C?`mui-component-select-${C}`:void 0),je=R({},e,{variant:ie,value:G,open:Cr,error:d}),qt=SW(je),Bn=R({},v.PaperProps,(n=v.slotProps)==null?void 0:n.paper),Zr=T2();return P.jsxs(N.Fragment,{children:[P.jsx(mW,R({ref:Ie,tabIndex:xt,role:"combobox","aria-controls":Zr,"aria-disabled":h?"true":void 0,"aria-expanded":Cr?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,nt].filter(Boolean).join(" ")||void 0,"aria-describedby":s,onKeyDown:Yt,onMouseDown:h||Y?null:me,onBlur:Rt,onFocus:O},z,{ownerState:je,className:tt(z.className,qt.select,u),id:nt,children:yW(bt)?HR||(HR=P.jsx("span",{className:"notranslate",children:"​"})):bt})),P.jsx(vW,R({"aria-invalid":d,value:Array.isArray(G)?G.join(","):G,name:C,ref:B,"aria-hidden":!0,onChange:Mt,tabIndex:-1,disabled:h,className:qt.nativeInput,autoFocus:a,ownerState:je},J)),P.jsx(gW,{as:m,className:qt.icon,ownerState:je}),P.jsx(qz,R({id:`menu-${C||""}`,anchorEl:be,open:Cr,onClose:Me,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:R({"aria-labelledby":g,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:Zr},v.MenuListProps),slotProps:R({},v.slotProps,{paper:R({},Bn,{style:R({minWidth:ot},Bn!=null?Bn.style:null)})}),children:Pe}))]})}),CW=wW,EW=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],bW=["root"],xW=t=>{const{classes:e}=t;return e},oI={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>io(t)&&t!=="variant",slot:"Root"},AW=$e(dV,oI)(""),kW=$e(CV,oI)(""),IW=$e(cV,oI)(""),EV=N.forwardRef(function(e,r){const n=Ut({name:"MuiSelect",props:e}),{autoWidth:s=!1,children:i,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=s9,id:f,input:h,inputProps:p,label:d,labelId:m,MenuProps:S,multiple:g=!1,native:v=!1,onClose:y,onOpen:C,open:E,renderValue:b,SelectDisplayProps:T,variant:O="outlined"}=n,H=He(n,EW),L=v?rW:CW,Y=bp(),ne=Ep({props:n,muiFormControl:Y,states:["variant","error"]}),z=ne.variant||O,Z=R({},n,{variant:z,classes:a}),q=xW(Z),ie=He(q,bW),J=h||{standard:P.jsx(AW,{ownerState:Z}),outlined:P.jsx(kW,{label:d,ownerState:Z}),filled:P.jsx(IW,{ownerState:Z})}[z],G=Xr(r,J.ref);return P.jsx(N.Fragment,{children:N.cloneElement(J,R({inputComponent:L,inputProps:R({children:i,error:ne.error,IconComponent:c,variant:z,type:void 0,multiple:g},v?{id:f}:{autoWidth:s,defaultOpen:l,displayEmpty:u,labelId:m,MenuProps:S,onClose:y,onOpen:C,open:E,renderValue:b,SelectDisplayProps:R({id:f},T)},p,{classes:p?Nn(ie,p.classes):ie},h?h.props.inputProps:{})},g&&v&&z==="outlined"?{notched:!0}:{},{ref:G,className:tt(J.props.className,o,q.root)},!h&&{variant:z},H))})});EV.muiName="Select";const TW=EV;function NW(t){return Vt("MuiTooltip",t)}const RW=Nt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),yl=RW,BW=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function _W(t){return Math.round(t*1e5)/1e5}const PW=t=>{const{classes:e,disableInteractive:r,arrow:n,touch:s,placement:i}=t,a={popper:["popper",!r&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",s&&"touch",`tooltipPlacement${at(i.split("-")[0])}`],arrow:["arrow"]};return Dt(a,NW,e)},OW=$e(aV,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.popper,!r.disableInteractive&&e.popperInteractive,r.arrow&&e.popperArrow,!r.open&&e.popperClose]}})(({theme:t,ownerState:e,open:r})=>R({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!r&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${yl.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${yl.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${yl.arrow}`]:R({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${yl.arrow}`]:R({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),LW=$e("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.tooltip,r.touch&&e.touch,r.arrow&&e.tooltipArrow,e[`tooltipPlacement${at(r.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>R({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:Ys(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${_W(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${yl.popper}[data-popper-placement*="left"] &`]:R({transformOrigin:"right center"},e.isRtl?R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):R({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${yl.popper}[data-popper-placement*="right"] &`]:R({transformOrigin:"left center"},e.isRtl?R({marginRight:"14px"},e.touch&&{marginRight:"24px"}):R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${yl.popper}[data-popper-placement*="top"] &`]:R({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${yl.popper}[data-popper-placement*="bottom"] &`]:R({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),VW=$e("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:Ys(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Uy=!1,ib=null,e0={x:0,y:0};function My(t,e){return r=>{e&&e(r),t(r)}}const DW=N.forwardRef(function(e,r){var n,s,i,a,o,l,u,c,f,h,p,d,m,S,g,v,y,C,E;const b=Ut({props:e,name:"MuiTooltip"}),{arrow:T=!1,children:O,components:H={},componentsProps:L={},describeChild:Y=!1,disableFocusListener:ne=!1,disableHoverListener:z=!1,disableInteractive:Z=!1,disableTouchListener:q=!1,enterDelay:ie=100,enterNextDelay:J=0,enterTouchDelay:G=700,followCursor:re=!1,id:D,leaveDelay:ee=0,leaveTouchDelay:B=1500,onClose:K,onOpen:$,open:ce,placement:Q="bottom",PopperComponent:fe,PopperProps:oe={},slotProps:X={},slots:Ie={},title:be,TransitionComponent:Ae=vA,TransitionProps:me}=b,Me=He(b,BW),Fe=N.isValidElement(O)?O:P.jsx("span",{children:O}),Mt=Zv(),mt=Mt.direction==="rtl",[Yt,Cr]=N.useState(),[Rt,bt]=N.useState(null),Ir=N.useRef(!1),ar=Z||re,ve=N.useRef(),Pe=N.useRef(),ot=N.useRef(),xt=N.useRef(),[nt,je]=sA({controlled:ce,default:!1,name:"Tooltip",state:"open"});let qt=nt;const Bn=T2(D),Zr=N.useRef(),Ke=N.useCallback(()=>{Zr.current!==void 0&&(document.body.style.WebkitUserSelect=Zr.current,Zr.current=void 0),clearTimeout(xt.current)},[]);N.useEffect(()=>()=>{clearTimeout(ve.current),clearTimeout(Pe.current),clearTimeout(ot.current),Ke()},[Ke]);const At=wt=>{clearTimeout(ib),Uy=!0,je(!0),$&&!qt&&$(wt)},j=Ic(wt=>{clearTimeout(ib),ib=setTimeout(()=>{Uy=!1},800+ee),je(!1),K&&qt&&K(wt),clearTimeout(ve.current),ve.current=setTimeout(()=>{Ir.current=!1},Mt.transitions.duration.shortest)}),F=wt=>{Ir.current&&wt.type!=="touchstart"||(Yt&&Yt.removeAttribute("title"),clearTimeout(Pe.current),clearTimeout(ot.current),ie||Uy&&J?Pe.current=setTimeout(()=>{At(wt)},Uy?J:ie):At(wt))},ye=wt=>{clearTimeout(Pe.current),clearTimeout(ot.current),ot.current=setTimeout(()=>{j(wt)},ee)},{isFocusVisibleRef:Te,onBlur:Ne,onFocus:De,ref:et}=vL(),[,Qe]=N.useState(!1),Xe=wt=>{Ne(wt),Te.current===!1&&(Qe(!1),ye(wt))},ct=wt=>{Yt||Cr(wt.currentTarget),De(wt),Te.current===!0&&(Qe(!0),F(wt))},Qt=wt=>{Ir.current=!0;const ps=Fe.props;ps.onTouchStart&&ps.onTouchStart(wt)},fn=F,Vr=ye,Yn=wt=>{Qt(wt),clearTimeout(ot.current),clearTimeout(ve.current),Ke(),Zr.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",xt.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Zr.current,F(wt)},G)},ds=wt=>{Fe.props.onTouchEnd&&Fe.props.onTouchEnd(wt),Ke(),clearTimeout(ot.current),ot.current=setTimeout(()=>{j(wt)},B)};N.useEffect(()=>{if(!qt)return;function wt(ps){(ps.key==="Escape"||ps.key==="Esc")&&j(ps)}return document.addEventListener("keydown",wt),()=>{document.removeEventListener("keydown",wt)}},[j,qt]);const ho=Xr(Fe.ref,et,Cr,r);!be&&be!==0&&(qt=!1);const po=N.useRef(),su=wt=>{const ps=Fe.props;ps.onMouseMove&&ps.onMouseMove(wt),e0={x:wt.clientX,y:wt.clientY},po.current&&po.current.update()},li={},xE=typeof be=="string";Y?(li.title=!qt&&xE&&!z?be:null,li["aria-describedby"]=qt?Bn:null):(li["aria-label"]=xE?be:null,li["aria-labelledby"]=qt&&!xE?Bn:null);const ui=R({},li,Me,Fe.props,{className:tt(Me.className,Fe.props.className),onTouchStart:Qt,ref:ho},re?{onMouseMove:su}:{}),Up={};q||(ui.onTouchStart=Yn,ui.onTouchEnd=ds),z||(ui.onMouseOver=My(fn,ui.onMouseOver),ui.onMouseLeave=My(Vr,ui.onMouseLeave),ar||(Up.onMouseOver=fn,Up.onMouseLeave=Vr)),ne||(ui.onFocus=My(ct,ui.onFocus),ui.onBlur=My(Xe,ui.onBlur),ar||(Up.onFocus=ct,Up.onBlur=Xe));const Z5=N.useMemo(()=>{var wt;let ps=[{name:"arrow",enabled:!!Rt,options:{element:Rt,padding:4}}];return(wt=oe.popperOptions)!=null&&wt.modifiers&&(ps=ps.concat(oe.popperOptions.modifiers)),R({},oe.popperOptions,{modifiers:ps})},[Rt,oe]),Mp=R({},b,{isRtl:mt,arrow:T,disableInteractive:ar,placement:Q,PopperComponentProp:fe,touch:Ir.current}),AE=PW(Mp),xT=(n=(s=Ie.popper)!=null?s:H.Popper)!=null?n:OW,AT=(i=(a=(o=Ie.transition)!=null?o:H.Transition)!=null?a:Ae)!=null?i:vA,kT=(l=(u=Ie.tooltip)!=null?u:H.Tooltip)!=null?l:LW,IT=(c=(f=Ie.arrow)!=null?f:H.Arrow)!=null?c:VW,e8=N0(xT,R({},oe,(h=X.popper)!=null?h:L.popper,{className:tt(AE.popper,oe==null?void 0:oe.className,(p=(d=X.popper)!=null?d:L.popper)==null?void 0:p.className)}),Mp),t8=N0(AT,R({},me,(m=X.transition)!=null?m:L.transition),Mp),r8=N0(kT,R({},(S=X.tooltip)!=null?S:L.tooltip,{className:tt(AE.tooltip,(g=(v=X.tooltip)!=null?v:L.tooltip)==null?void 0:g.className)}),Mp),n8=N0(IT,R({},(y=X.arrow)!=null?y:L.arrow,{className:tt(AE.arrow,(C=(E=X.arrow)!=null?E:L.arrow)==null?void 0:C.className)}),Mp);return P.jsxs(N.Fragment,{children:[N.cloneElement(Fe,ui),P.jsx(xT,R({as:fe??aV,placement:Q,anchorEl:re?{getBoundingClientRect:()=>({top:e0.y,left:e0.x,right:e0.x,bottom:e0.y,width:0,height:0})}:Yt,popperRef:po,open:Yt?qt:!1,id:Bn,transition:!0},Up,e8,{popperOptions:Z5,children:({TransitionProps:wt})=>P.jsx(AT,R({timeout:Mt.transitions.duration.shorter},wt,t8,{children:P.jsxs(kT,R({},r8,{children:[be,T?P.jsx(IT,R({},n8,{ref:bt})):null]}))}))}))]})}),lI=DW;function UW(t){return Vt("MuiTextField",t)}Nt("MuiTextField",["root"]);const MW=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],$W={standard:dV,filled:cV,outlined:CV},FW=t=>{const{classes:e}=t;return Dt({root:["root"]},UW,e)},HW=$e(b7,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),KW=N.forwardRef(function(e,r){const n=Ut({props:e,name:"MuiTextField"}),{autoComplete:s,autoFocus:i=!1,children:a,className:o,color:l="primary",defaultValue:u,disabled:c=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:d,id:m,InputLabelProps:S,inputProps:g,InputProps:v,inputRef:y,label:C,maxRows:E,minRows:b,multiline:T=!1,name:O,onBlur:H,onChange:L,onFocus:Y,placeholder:ne,required:z=!1,rows:Z,select:q=!1,SelectProps:ie,type:J,value:G,variant:re="outlined"}=n,D=He(n,MW),ee=R({},n,{autoFocus:i,color:l,disabled:c,error:f,fullWidth:p,multiline:T,required:z,select:q,variant:re}),B=FW(ee),K={};re==="outlined"&&(S&&typeof S.shrink<"u"&&(K.notched=S.shrink),K.label=C),q&&((!ie||!ie.native)&&(K.id=void 0),K["aria-describedby"]=void 0);const $=T2(m),ce=d&&$?`${$}-helper-text`:void 0,Q=C&&$?`${$}-label`:void 0,fe=$W[re],oe=P.jsx(fe,R({"aria-describedby":ce,autoComplete:s,autoFocus:i,defaultValue:u,fullWidth:p,multiline:T,name:O,rows:Z,maxRows:E,minRows:b,type:J,value:G,id:$,inputRef:y,onBlur:H,onChange:L,onFocus:Y,placeholder:ne,inputProps:g},K,v));return P.jsxs(HW,R({className:tt(B.root,o),disabled:c,error:f,fullWidth:p,ref:r,required:z,color:l,variant:re,ownerState:ee},D,{children:[C!=null&&C!==""&&P.jsx(Y7,R({htmlFor:$,id:Q},S,{children:C})),q?P.jsx(TW,R({"aria-describedby":ce,id:$,labelId:Q,value:G,input:oe},ie,{children:a})):oe,d&&P.jsx(R7,R({id:ce},h,{children:d}))]}))}),jW=KW;var pt={options:{usePureJavaScript:!1}},uI={},zW=uI,jR={};uI.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=WW(t,e);else{var s=0,i=e.length,a=e.charAt(0),o=[0];for(s=0;s<t.length;++s){for(var l=0,u=t[s];l<o.length;++l)u+=o[l]<<8,o[l]=u%i,u=u/i|0;for(;u>0;)o.push(u%i),u=u/i|0}for(s=0;t[s]===0&&s<t.length-1;++s)n+=a;for(s=o.length-1;s>=0;--s)n+=e[o[s]]}if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join(`\r
`)}return n};uI.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=jR[e];if(!r){r=jR[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var s=e.length,i=e.charAt(0),a=[0],n=0;n<t.length;n++){var o=r[t.charCodeAt(n)];if(o===void 0)return;for(var l=0,u=o;l<a.length;++l)u+=a[l]*s,a[l]=u&255,u>>=8;for(;u>0;)a.push(u&255),u>>=8}for(var c=0;t[c]===i&&c<t.length-1;++c)a.push(0);return typeof Buffer<"u"?Buffer.from(a.reverse()):new Uint8Array(a.reverse())};function WW(t,e){var r=0,n=e.length,s=e.charAt(0),i=[0];for(r=0;r<t.length();++r){for(var a=0,o=t.at(r);a<i.length;++a)o+=i[a]<<8,i[a]=o%n,o=o/n|0;for(;o>0;)i.push(o%n),o=o/n|0}var l="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)l+=s;for(r=i.length-1;r>=0;--r)l+=e[i[r]];return l}var zR=pt,WR=zW,M=zR.util=zR.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){M.nextTick=process.nextTick,typeof setImmediate=="function"?M.setImmediate=setImmediate:M.setImmediate=M.nextTick;return}if(typeof setImmediate=="function"){M.setImmediate=function(){return setImmediate.apply(void 0,arguments)},M.nextTick=function(a){return setImmediate(a)};return}if(M.setImmediate=function(a){setTimeout(a,0)},typeof window<"u"&&typeof window.postMessage=="function"){let a=function(o){if(o.source===window&&o.data===t){o.stopPropagation();var l=e.slice();e.length=0,l.forEach(function(u){u()})}};var t="forge.setImmediate",e=[];M.setImmediate=function(o){e.push(o),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,s=document.createElement("div"),e=[];new MutationObserver(function(){var o=e.slice();e.length=0,o.forEach(function(l){l()})}).observe(s,{attributes:!0});var i=M.setImmediate;M.setImmediate=function(o){Date.now()-r>15?(r=Date.now(),i(o)):(e.push(o),e.length===1&&s.setAttribute("a",n=!n))}}M.nextTick=M.setImmediate})();M.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;M.globalScope=function(){return M.isNodejs?Ya:typeof self>"u"?window:self}();M.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};M.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};M.isArrayBufferView=function(t){return t&&M.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function ry(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}M.ByteBuffer=cI;function cI(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(M.isArrayBuffer(t)||M.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof cI||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}M.ByteStringBuffer=cI;var GW=4096;M.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>GW&&(this.data.substr(0,1),this._constructedStringLength=0)};M.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};M.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};M.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};M.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};M.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};M.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(M.encodeUtf8(t))};M.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};M.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};M.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};M.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};M.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};M.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};M.ByteStringBuffer.prototype.putInt=function(t,e){ry(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};M.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};M.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};M.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};M.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};M.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};M.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};M.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};M.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};M.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};M.ByteStringBuffer.prototype.getInt=function(t){ry(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};M.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};M.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};M.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};M.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};M.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};M.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};M.ByteStringBuffer.prototype.copy=function(){var t=M.createBuffer(this.data);return t.read=this.read,t};M.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};M.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};M.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};M.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};M.ByteStringBuffer.prototype.toString=function(){return M.decodeUtf8(this.bytes())};function qW(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=M.isArrayBuffer(t),n=M.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}M.DataBuffer=qW;M.DataBuffer.prototype.length=function(){return this.write-this.read};M.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};M.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};M.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};M.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};M.DataBuffer.prototype.putBytes=function(t,e){if(M.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var s=new Uint8Array(this.data.buffer,this.write);return s.set(r),this.write+=n,this}if(M.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var s=new Uint8Array(this.data.buffer);return s.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof M.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&M.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var s=new Uint8Array(t.data.byteLength,this.write);return s.set(r),this.write+=r.byteLength,this}if(t instanceof M.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var i;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=M.binary.hex.decode(t,i,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),i=new Uint8Array(this.data.buffer,this.write),this.write+=M.binary.base64.decode(t,i,this.write),this;if(e==="utf8"&&(t=M.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=M.binary.raw.decode(i),this;if(e==="utf16")return this.accommodate(t.length*2),i=new Uint16Array(this.data.buffer,this.write),this.write+=M.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};M.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};M.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};M.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};M.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};M.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};M.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};M.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};M.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};M.DataBuffer.prototype.putInt=function(t,e){ry(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};M.DataBuffer.prototype.putSignedInt=function(t,e){return ry(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};M.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};M.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};M.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};M.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};M.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};M.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};M.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};M.DataBuffer.prototype.getInt=function(t){ry(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};M.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};M.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};M.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};M.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};M.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};M.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};M.DataBuffer.prototype.copy=function(){return new M.DataBuffer(this)};M.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};M.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};M.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};M.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};M.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return M.binary.raw.encode(e);if(t==="hex")return M.binary.hex.encode(e);if(t==="base64")return M.binary.base64.encode(e);if(t==="utf8")return M.text.utf8.decode(e);if(t==="utf16")return M.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};M.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=M.encodeUtf8(t)),new M.ByteBuffer(t)};M.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};M.xorBytes=function(t,e,r){for(var n="",s="",i="",a=0,o=0;r>0;--r,++a)s=t.charCodeAt(a)^e.charCodeAt(a),o>=10&&(n+=i,i="",o=0),i+=String.fromCharCode(s),++o;return n+=i,n};M.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};M.bytesToHex=function(t){return M.createBuffer(t).toHex()};M.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",wl=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],bV="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";M.encode64=function(t,e){for(var r="",n="",s,i,a,o=0;o<t.length;)s=t.charCodeAt(o++),i=t.charCodeAt(o++),a=t.charCodeAt(o++),r+=Sl.charAt(s>>2),r+=Sl.charAt((s&3)<<4|i>>4),isNaN(i)?r+="==":(r+=Sl.charAt((i&15)<<2|a>>6),r+=isNaN(a)?"=":Sl.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};M.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,s,i,a=0;a<t.length;)r=wl[t.charCodeAt(a++)-43],n=wl[t.charCodeAt(a++)-43],s=wl[t.charCodeAt(a++)-43],i=wl[t.charCodeAt(a++)-43],e+=String.fromCharCode(r<<2|n>>4),s!==64&&(e+=String.fromCharCode((n&15)<<4|s>>2),i!==64&&(e+=String.fromCharCode((s&3)<<6|i)));return e};M.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};M.decodeUtf8=function(t){return decodeURIComponent(escape(t))};M.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:WR.encode,decode:WR.decode}};M.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};M.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var s=r,i=0;i<t.length;++i)n[s++]=t.charCodeAt(i);return e?s-r:n};M.binary.hex.encode=M.bytesToHex;M.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var s=0,i=r;for(t.length&1&&(s=1,n[i++]=parseInt(t[0],16));s<t.length;s+=2)n[i++]=parseInt(t.substr(s,2),16);return e?i-r:n};M.binary.base64.encode=function(t,e){for(var r="",n="",s,i,a,o=0;o<t.byteLength;)s=t[o++],i=t[o++],a=t[o++],r+=Sl.charAt(s>>2),r+=Sl.charAt((s&3)<<4|i>>4),isNaN(i)?r+="==":(r+=Sl.charAt((i&15)<<2|a>>6),r+=isNaN(a)?"=":Sl.charAt(a&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};M.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var s,i,a,o,l=0,u=r;l<t.length;)s=wl[t.charCodeAt(l++)-43],i=wl[t.charCodeAt(l++)-43],a=wl[t.charCodeAt(l++)-43],o=wl[t.charCodeAt(l++)-43],n[u++]=s<<2|i>>4,a!==64&&(n[u++]=(i&15)<<4|a>>2,o!==64&&(n[u++]=(a&3)<<6|o));return e?u-r:n.subarray(0,u)};M.binary.base58.encode=function(t,e){return M.binary.baseN.encode(t,bV,e)};M.binary.base58.decode=function(t,e){return M.binary.baseN.decode(t,bV,e)};M.text={utf8:{},utf16:{}};M.text.utf8.encode=function(t,e,r){t=M.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var s=r,i=0;i<t.length;++i)n[s++]=t.charCodeAt(i);return e?s-r:n};M.text.utf8.decode=function(t){return M.decodeUtf8(String.fromCharCode.apply(null,t))};M.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var s=new Uint16Array(n.buffer);r=r||0;for(var i=r,a=r,o=0;o<t.length;++o)s[a++]=t.charCodeAt(o),i+=2;return e?i-r:n};M.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};M.deflate=function(t,e,r){if(e=M.decode64(t.deflate(M.encode64(e)).rval),r){var n=2,s=e.charCodeAt(1);s&32&&(n=6),e=e.substring(n,e.length-4)}return e};M.inflate=function(t,e,r){var n=t.inflate(M.encode64(e)).rval;return n===null?null:M.decode64(n)};var fI=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=M.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var s=new Error(n.error.message);throw s.id=n.error.id,s.name=n.error.name,s}},hI=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(M.decode64(r))),r},JW=function(t,e,r,n){var s=hI(t,e);s===null&&(s={}),s[r]=n,fI(t,e,s)},YW=function(t,e,r){var n=hI(t,e);return n!==null&&(n=r in n?n[r]:null),n},QW=function(t,e,r){var n=hI(t,e);if(n!==null&&r in n){delete n[r];var s=!0;for(var i in n){s=!1;break}s&&(n=null),fI(t,e,n)}},XW=function(t,e){fI(t,e,null)},MC=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var s,i=!1,a=null;for(var o in r){s=r[o];try{if(s==="flash"||s==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),i=s==="flash"}(s==="web"||s==="both")&&(e[0]=localStorage,n=t.apply(this,e),i=!0)}catch(l){a=l}if(i)break}if(!i)throw a;return n};M.setItem=function(t,e,r,n,s){MC(JW,arguments,s)};M.getItem=function(t,e,r,n){return MC(YW,arguments,n)};M.removeItem=function(t,e,r,n){MC(QW,arguments,n)};M.clearItems=function(t,e,r){MC(XW,arguments,r)};M.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};M.format=function(t){for(var e=/%./g,r,n,s=0,i=[],a=0;r=e.exec(t);){n=t.substring(a,e.lastIndex-2),n.length>0&&i.push(n),a=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":s<arguments.length?i.push(arguments[s+++1]):i.push("<?>");break;case"%":i.push("%");break;default:i.push("<%"+o+"?>")}}return i.push(t.substring(a)),i.join("")};M.formatNumber=function(t,e,r,n){var s=t,i=isNaN(e=Math.abs(e))?2:e,a=r===void 0?",":r,o=n===void 0?".":n,l=s<0?"-":"",u=parseInt(s=Math.abs(+s||0).toFixed(i),10)+"",c=u.length>3?u.length%3:0;return l+(c?u.substr(0,c)+o:"")+u.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+o)+(i?a+Math.abs(s-u).toFixed(i).slice(2):"")};M.formatSize=function(t){return t>=1073741824?t=M.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=M.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=M.formatNumber(t/1024,0)+" KiB":t=M.formatNumber(t,0)+" bytes",t};M.bytesFromIP=function(t){return t.indexOf(".")!==-1?M.bytesFromIPv4(t):t.indexOf(":")!==-1?M.bytesFromIPv6(t):null};M.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=M.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};M.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(a){return a.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=M.createBuffer(),s=0;s<8;++s){if(!t[s]||t[s].length===0){n.fillWithByte(0,r),r=0;continue}var i=M.hexToBytes(t[s]);i.length<2&&n.putByte(0),n.putBytes(i)}return n.getBytes()};M.bytesToIP=function(t){return t.length===4?M.bytesToIPv4(t):t.length===16?M.bytesToIPv6(t):null};M.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};M.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,s=0;s<t.length;s+=2){for(var i=M.bytesToHex(t[s]+t[s+1]);i[0]==="0"&&i!=="0";)i=i.substr(1);if(i==="0"){var a=r[r.length-1],o=e.length;!a||o!==a.end+1?r.push({start:o,end:o}):(a.end=o,a.end-a.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(i)}if(r.length>0){var l=r[n];l.end-l.start>0&&(e.splice(l.start,l.end-l.start+1,""),l.start===0&&e.unshift(""),l.end===7&&e.push(""))}return e.join(":")};M.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in M&&!t.update)return e(null,M.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return M.cores=navigator.hardwareConcurrency,e(null,M.cores);if(typeof Worker>"u")return M.cores=1,e(null,M.cores);if(typeof Blob>"u")return M.cores=2,e(null,M.cores);var r=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(a){var o=Date.now(),l=o+4;self.postMessage({st:o,et:l})})}).toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(a,o,l){if(o===0){var u=Math.floor(a.reduce(function(c,f){return c+f},0)/a.length);return M.cores=Math.max(1,u),URL.revokeObjectURL(r),e(null,M.cores)}s(l,function(c,f){a.push(i(l,f)),n(a,o-1,l)})}function s(a,o){for(var l=[],u=[],c=0;c<a;++c){var f=new Worker(r);f.addEventListener("message",function(h){if(u.push(h.data),u.length===a){for(var p=0;p<a;++p)l[p].terminate();o(null,u)}}),l.push(f)}for(var c=0;c<a;++c)l[c].postMessage(c)}function i(a,o){for(var l=[],u=0;u<a;++u)for(var c=o[u],f=l[u]=[],h=0;h<a;++h)if(u!==h){var p=o[h];(c.st>p.st&&c.st<p.et||p.st>c.st&&p.st<c.et)&&f.push(h)}return l.reduce(function(d,m){return Math.max(d,m.length)},0)}};var un=pt;un.cipher=un.cipher||{};un.cipher.algorithms=un.cipher.algorithms||{};un.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=un.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new un.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};un.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=un.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new un.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};un.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),un.cipher.algorithms[t]=e};un.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in un.cipher.algorithms?un.cipher.algorithms[t]:null};var dI=un.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};dI.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=un.util.createBuffer(),this.output=t.output||un.util.createBuffer(),this.mode.start(e)};dI.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};dI.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))};var on=pt;on.cipher=on.cipher||{};var St=on.cipher.modes=on.cipher.modes||{};St.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};St.ecb.prototype.start=function(t){};St.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};St.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};St.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};St.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};St.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};St.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=$C(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};St.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};St.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};St.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};St.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};St.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=on.util.createBuffer(),this._partialBytes=0};St.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=$C(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};St.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=t.getInt32()^this._outBlock[s],e.putInt32(this._inBlock[s]);return}var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=t.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(i>0)t.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};St.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=t.getInt32(),e.putInt32(this._inBlock[s]^this._outBlock[s]);return}var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(i>0)t.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};St.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=on.util.createBuffer(),this._partialBytes=0};St.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=$C(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};St.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)e.putInt32(t.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];return}var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(t.getInt32()^this._outBlock[s]);if(i>0)t.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};St.ofb.prototype.decrypt=St.ofb.prototype.encrypt;St.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=on.util.createBuffer(),this._partialBytes=0};St.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=$C(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};St.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var s=0;s<this._ints;++s)e.putInt32(t.getInt32()^this._outBlock[s]);else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(t.getInt32()^this._outBlock[s]);if(i>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}FC(this._inBlock)};St.ctr.prototype.decrypt=St.ctr.prototype.encrypt;St.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=on.util.createBuffer(),this._partialBytes=0,this._R=3774873600};St.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=on.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=on.util.createBuffer(t.additionalData):r=on.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=on.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(yA(n*8)))}this._inBlock=this._j0.slice(0),FC(this._inBlock),this._partialBytes=0,r=on.util.createBuffer(r),this._aDataLength=yA(r.length()*8);var s=r.length()%this.blockSize;for(s&&r.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};St.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)e.putInt32(this._outBlock[s]^=t.getInt32());this._cipherLength+=this.blockSize}else{var i=(this.blockSize-n)%this.blockSize;i>0&&(i=this.blockSize-i),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(t.getInt32()^this._outBlock[s]);if(i<=0||r){if(r){var a=n%this.blockSize;this._cipherLength+=a,this._partialOutput.truncate(this.blockSize-a)}else this._cipherLength+=this.blockSize;for(var s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),i>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=i,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),FC(this._inBlock)};St.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),FC(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)e.putInt32(this._outBlock[s]^this._hashBlock[s]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};St.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=on.util.createBuffer();var n=this._aDataLength.concat(yA(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var s=[];this.cipher.encrypt(this._j0,s);for(var i=0;i<this._ints;++i)this.tag.putInt32(this._s[i]^s[i]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};St.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),s=0;s<128;++s){var i=t[s/32|0]&1<<31-s%32;i&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};St.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};St.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,s=t[n]>>>(7-r%8)*4&15,i=this._m[r][s];e[0]^=i[0],e[1]^=i[1],e[2]^=i[2],e[3]^=i[3]}return e};St.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};St.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,s=16*r,i=new Array(s),a=0;a<s;++a){var o=[0,0,0,0],l=a/n|0,u=(n-1-a%n)*e;o[l]=1<<e-1<<u,i[a]=this.generateSubHashTable(this.multiply(o,t),e)}return i};St.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,s=new Array(r);s[n]=t.slice(0);for(var i=n>>>1;i>0;)this.pow(s[2*i],s[i]=[]),i>>=1;for(i=2;i<n;){for(var a=1;a<i;++a){var o=s[i],l=s[a];s[i+a]=[o[0]^l[0],o[1]^l[1],o[2]^l[2],o[3]^l[3]]}i*=2}for(s[0]=[0,0,0,0],i=n+1;i<r;++i){var u=s[i^n];s[i]=[t[0]^u[0],t[1]^u[1],t[2]^u[2],t[3]^u[3]]}return s};function $C(t,e){if(typeof t=="string"&&(t=on.util.createBuffer(t)),on.util.isArray(t)&&t.length>4){var r=t;t=on.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!on.util.isArray(t)){for(var s=[],i=e/4,n=0;n<i;++n)s.push(t.getInt32());t=s}return t}function FC(t){t[t.length-1]=t[t.length-1]+1&4294967295}function yA(t){return[t/4294967296|0,t&4294967295]}var nr=pt;nr.aes=nr.aes||{};nr.aes.startEncrypting=function(t,e,r,n){var s=HC({key:t,output:r,decrypt:!1,mode:n});return s.start(e),s};nr.aes.createEncryptionCipher=function(t,e){return HC({key:t,output:null,decrypt:!1,mode:e})};nr.aes.startDecrypting=function(t,e,r,n){var s=HC({key:t,output:r,decrypt:!0,mode:n});return s.start(e),s};nr.aes.createDecryptionCipher=function(t,e){return HC({key:t,output:null,decrypt:!0,mode:e})};nr.aes.Algorithm=function(t,e){pI||AV();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,s){return wA(r._w,n,s,!1)},decrypt:function(n,s){return wA(r._w,n,s,!0)}}}),r._init=!1};nr.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=nr.util.createBuffer(e);else if(nr.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=nr.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!nr.util.isArray(e)){r=e,e=[];var s=r.length();if(s===16||s===24||s===32){s=s>>>2;for(var n=0;n<s;++n)e.push(r.getInt32())}}if(!nr.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var i=this.mode.name,a=["CFB","OFB","CTR","GCM"].indexOf(i)!==-1;this._w=kV(e,t.decrypt&&!a),this._init=!0}};nr.aes._expandKey=function(t,e){return pI||AV(),kV(t,e)};nr.aes._updateBlock=wA;xp("AES-ECB",nr.cipher.modes.ecb);xp("AES-CBC",nr.cipher.modes.cbc);xp("AES-CFB",nr.cipher.modes.cfb);xp("AES-OFB",nr.cipher.modes.ofb);xp("AES-CTR",nr.cipher.modes.ctr);xp("AES-GCM",nr.cipher.modes.gcm);function xp(t,e){var r=function(){return new nr.aes.Algorithm(t,e)};nr.cipher.registerAlgorithm(t,r)}var pI=!1,kf=4,_n,SA,xV,Nc,Ai;function AV(){pI=!0,xV=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;_n=new Array(256),SA=new Array(256),Nc=new Array(4),Ai=new Array(4);for(var e=0;e<4;++e)Nc[e]=new Array(256),Ai[e]=new Array(256);for(var r=0,n=0,s,i,a,o,l,u,c,e=0;e<256;++e){o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^o&255^99,_n[r]=o,SA[o]=r,l=t[o],s=t[r],i=t[s],a=t[i],u=l<<24^o<<16^o<<8^(o^l),c=(s^i^a)<<24^(r^a)<<16^(r^i^a)<<8^(r^s^a);for(var f=0;f<4;++f)Nc[f][r]=u,Ai[f][o]=c,u=u<<24|u>>>8,c=c<<24|c>>>8;r===0?r=n=1:(r=s^t[t[t[s^a]]],n^=t[t[n]])}}function kV(t,e){for(var r=t.slice(0),n,s=1,i=r.length,a=i+6+1,o=kf*a,l=i;l<o;++l)n=r[l-1],l%i===0?(n=_n[n>>>16&255]<<24^_n[n>>>8&255]<<16^_n[n&255]<<8^_n[n>>>24]^xV[s]<<24,s++):i>6&&l%i===4&&(n=_n[n>>>24]<<24^_n[n>>>16&255]<<16^_n[n>>>8&255]<<8^_n[n&255]),r[l]=r[l-i]^n;if(e){var u,c=Ai[0],f=Ai[1],h=Ai[2],p=Ai[3],d=r.slice(0);o=r.length;for(var l=0,m=o-kf;l<o;l+=kf,m-=kf)if(l===0||l===o-kf)d[l]=r[m],d[l+1]=r[m+3],d[l+2]=r[m+2],d[l+3]=r[m+1];else for(var S=0;S<kf;++S)u=r[m+S],d[l+(3&-S)]=c[_n[u>>>24]]^f[_n[u>>>16&255]]^h[_n[u>>>8&255]]^p[_n[u&255]];r=d}return r}function wA(t,e,r,n){var s=t.length/4-1,i,a,o,l,u;n?(i=Ai[0],a=Ai[1],o=Ai[2],l=Ai[3],u=SA):(i=Nc[0],a=Nc[1],o=Nc[2],l=Nc[3],u=_n);var c,f,h,p,d,m,S;c=e[0]^t[0],f=e[n?3:1]^t[1],h=e[2]^t[2],p=e[n?1:3]^t[3];for(var g=3,v=1;v<s;++v)d=i[c>>>24]^a[f>>>16&255]^o[h>>>8&255]^l[p&255]^t[++g],m=i[f>>>24]^a[h>>>16&255]^o[p>>>8&255]^l[c&255]^t[++g],S=i[h>>>24]^a[p>>>16&255]^o[c>>>8&255]^l[f&255]^t[++g],p=i[p>>>24]^a[c>>>16&255]^o[f>>>8&255]^l[h&255]^t[++g],c=d,f=m,h=S;r[0]=u[c>>>24]<<24^u[f>>>16&255]<<16^u[h>>>8&255]<<8^u[p&255]^t[++g],r[n?3:1]=u[f>>>24]<<24^u[h>>>16&255]<<16^u[p>>>8&255]<<8^u[c&255]^t[++g],r[2]=u[h>>>24]<<24^u[p>>>16&255]<<16^u[c>>>8&255]<<8^u[f&255]^t[++g],r[n?1:3]=u[p>>>24]<<24^u[c>>>16&255]<<16^u[f>>>8&255]<<8^u[h&255]^t[++g]}function HC(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=nr.cipher.createDecipher(r,t.key):n=nr.cipher.createCipher(r,t.key);var s=n.start;return n.start=function(i,a){var o=null;a instanceof nr.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=i,s.call(n,a)},n}var zg=pt;zg.pki=zg.pki||{};var CA=zg.pki.oids=zg.oids=zg.oids||{};function Ee(t,e){CA[t]=e,CA[e]=t}function zt(t,e){CA[t]=e}Ee("1.2.840.113549.1.1.1","rsaEncryption");Ee("1.2.840.113549.1.1.4","md5WithRSAEncryption");Ee("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Ee("1.2.840.113549.1.1.7","RSAES-OAEP");Ee("1.2.840.113549.1.1.8","mgf1");Ee("1.2.840.113549.1.1.9","pSpecified");Ee("1.2.840.113549.1.1.10","RSASSA-PSS");Ee("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Ee("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Ee("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Ee("1.3.101.112","EdDSA25519");Ee("1.2.840.10040.4.3","dsa-with-sha1");Ee("1.3.14.3.2.7","desCBC");Ee("1.3.14.3.2.26","sha1");Ee("1.3.14.3.2.29","sha1WithRSASignature");Ee("2.16.840.1.101.3.4.2.1","sha256");Ee("2.16.840.1.101.3.4.2.2","sha384");Ee("2.16.840.1.101.3.4.2.3","sha512");Ee("2.16.840.1.101.3.4.2.4","sha224");Ee("2.16.840.1.101.3.4.2.5","sha512-224");Ee("2.16.840.1.101.3.4.2.6","sha512-256");Ee("1.2.840.113549.2.2","md2");Ee("1.2.840.113549.2.5","md5");Ee("1.2.840.113549.1.7.1","data");Ee("1.2.840.113549.1.7.2","signedData");Ee("1.2.840.113549.1.7.3","envelopedData");Ee("1.2.840.113549.1.7.4","signedAndEnvelopedData");Ee("1.2.840.113549.1.7.5","digestedData");Ee("1.2.840.113549.1.7.6","encryptedData");Ee("1.2.840.113549.1.9.1","emailAddress");Ee("1.2.840.113549.1.9.2","unstructuredName");Ee("1.2.840.113549.1.9.3","contentType");Ee("1.2.840.113549.1.9.4","messageDigest");Ee("1.2.840.113549.1.9.5","signingTime");Ee("1.2.840.113549.1.9.6","counterSignature");Ee("1.2.840.113549.1.9.7","challengePassword");Ee("1.2.840.113549.1.9.8","unstructuredAddress");Ee("1.2.840.113549.1.9.14","extensionRequest");Ee("1.2.840.113549.1.9.20","friendlyName");Ee("1.2.840.113549.1.9.21","localKeyId");Ee("1.2.840.113549.1.9.22.1","x509Certificate");Ee("1.2.840.113549.1.12.10.1.1","keyBag");Ee("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Ee("1.2.840.113549.1.12.10.1.3","certBag");Ee("1.2.840.113549.1.12.10.1.4","crlBag");Ee("1.2.840.113549.1.12.10.1.5","secretBag");Ee("1.2.840.113549.1.12.10.1.6","safeContentsBag");Ee("1.2.840.113549.1.5.13","pkcs5PBES2");Ee("1.2.840.113549.1.5.12","pkcs5PBKDF2");Ee("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Ee("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Ee("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Ee("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Ee("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Ee("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Ee("1.2.840.113549.2.7","hmacWithSHA1");Ee("1.2.840.113549.2.8","hmacWithSHA224");Ee("1.2.840.113549.2.9","hmacWithSHA256");Ee("1.2.840.113549.2.10","hmacWithSHA384");Ee("1.2.840.113549.2.11","hmacWithSHA512");Ee("1.2.840.113549.3.7","des-EDE3-CBC");Ee("2.16.840.1.101.3.4.1.2","aes128-CBC");Ee("2.16.840.1.101.3.4.1.22","aes192-CBC");Ee("2.16.840.1.101.3.4.1.42","aes256-CBC");Ee("2.5.4.3","commonName");Ee("2.5.4.4","surname");Ee("2.5.4.5","serialNumber");Ee("2.5.4.6","countryName");Ee("2.5.4.7","localityName");Ee("2.5.4.8","stateOrProvinceName");Ee("2.5.4.9","streetAddress");Ee("2.5.4.10","organizationName");Ee("2.5.4.11","organizationalUnitName");Ee("2.5.4.12","title");Ee("2.5.4.13","description");Ee("2.5.4.15","businessCategory");Ee("2.5.4.17","postalCode");Ee("2.5.4.42","givenName");Ee("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Ee("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Ee("2.16.840.1.113730.1.1","nsCertType");Ee("2.16.840.1.113730.1.13","nsComment");zt("2.5.29.1","authorityKeyIdentifier");zt("2.5.29.2","keyAttributes");zt("2.5.29.3","certificatePolicies");zt("2.5.29.4","keyUsageRestriction");zt("2.5.29.5","policyMapping");zt("2.5.29.6","subtreesConstraint");zt("2.5.29.7","subjectAltName");zt("2.5.29.8","issuerAltName");zt("2.5.29.9","subjectDirectoryAttributes");zt("2.5.29.10","basicConstraints");zt("2.5.29.11","nameConstraints");zt("2.5.29.12","policyConstraints");zt("2.5.29.13","basicConstraints");Ee("2.5.29.14","subjectKeyIdentifier");Ee("2.5.29.15","keyUsage");zt("2.5.29.16","privateKeyUsagePeriod");Ee("2.5.29.17","subjectAltName");Ee("2.5.29.18","issuerAltName");Ee("2.5.29.19","basicConstraints");zt("2.5.29.20","cRLNumber");zt("2.5.29.21","cRLReason");zt("2.5.29.22","expirationDate");zt("2.5.29.23","instructionCode");zt("2.5.29.24","invalidityDate");zt("2.5.29.25","cRLDistributionPoints");zt("2.5.29.26","issuingDistributionPoint");zt("2.5.29.27","deltaCRLIndicator");zt("2.5.29.28","issuingDistributionPoint");zt("2.5.29.29","certificateIssuer");zt("2.5.29.30","nameConstraints");Ee("2.5.29.31","cRLDistributionPoints");Ee("2.5.29.32","certificatePolicies");zt("2.5.29.33","policyMappings");zt("2.5.29.34","policyConstraints");Ee("2.5.29.35","authorityKeyIdentifier");zt("2.5.29.36","policyConstraints");Ee("2.5.29.37","extKeyUsage");zt("2.5.29.46","freshestCRL");zt("2.5.29.54","inhibitAnyPolicy");Ee("1.3.6.1.4.1.11129.2.4.2","timestampList");Ee("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Ee("1.3.6.1.5.5.7.3.1","serverAuth");Ee("1.3.6.1.5.5.7.3.2","clientAuth");Ee("1.3.6.1.5.5.7.3.3","codeSigning");Ee("1.3.6.1.5.5.7.3.4","emailProtection");Ee("1.3.6.1.5.5.7.3.8","timeStamping");var lr=pt,Be=lr.asn1=lr.asn1||{};Be.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Be.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Be.create=function(t,e,r,n,s){if(lr.util.isArray(n)){for(var i=[],a=0;a<n.length;++a)n[a]!==void 0&&i.push(n[a]);n=i}var o={tagClass:t,type:e,constructed:r,composed:r||lr.util.isArray(n),value:n};return s&&"bitStringContents"in s&&(o.bitStringContents=s.bitStringContents,o.original=Be.copy(o)),o};Be.copy=function(t,e){var r;if(lr.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(Be.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:Be.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};Be.equals=function(t,e,r){if(lr.util.isArray(t)){if(!lr.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Be.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var s=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&Be.equals(t.value,e.value);return r&&r.includeBitStringContents&&(s=s&&t.bitStringContents===e.bitStringContents),s};Be.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function R0(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var ZW=function(t,e){var r=t.getByte();if(e--,r!==128){var n,s=r&128;if(!s)n=r;else{var i=r&127;R0(t,e,i),n=t.getInt(i<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};Be.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=lr.util.createBuffer(t));var r=t.length(),n=H1(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=t.length(),s}return n};function H1(t,e,r,n){var s;R0(t,e,2);var i=t.getByte();e--;var a=i&192,o=i&31;s=t.length();var l=ZW(t,e);if(e-=s-t.length(),l!==void 0&&l>e){if(n.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=t.length(),u.remaining=e,u.requested=l,u}l=e}var c,f,h=(i&32)===32;if(h)if(c=[],l===void 0)for(;;){if(R0(t,e,2),t.bytes(2)==="\0\0"){t.getBytes(2),e-=2;break}s=t.length(),c.push(H1(t,e,r+1,n)),e-=s-t.length()}else for(;l>0;)s=t.length(),c.push(H1(t,l,r+1,n)),e-=s-t.length(),l-=s-t.length();if(c===void 0&&a===Be.Class.UNIVERSAL&&o===Be.Type.BITSTRING&&(f=t.bytes(l)),c===void 0&&n.decodeBitStrings&&a===Be.Class.UNIVERSAL&&o===Be.Type.BITSTRING&&l>1){var p=t.read,d=e,m=0;if(o===Be.Type.BITSTRING&&(R0(t,e,1),m=t.getByte(),e--),m===0)try{s=t.length();var S={strict:!0,decodeBitStrings:!0},g=H1(t,e,r+1,S),v=s-t.length();e-=v,o==Be.Type.BITSTRING&&v++;var y=g.tagClass;v===l&&(y===Be.Class.UNIVERSAL||y===Be.Class.CONTEXT_SPECIFIC)&&(c=[g])}catch{}c===void 0&&(t.read=p,e=d)}if(c===void 0){if(l===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");l=e}if(o===Be.Type.BMPSTRING)for(c="";l>0;l-=2)R0(t,e,2),c+=String.fromCharCode(t.getInt16()),e-=2;else c=t.getBytes(l),e-=l}var C=f===void 0?null:{bitStringContents:f};return Be.create(a,o,h,c,C)}Be.toDer=function(t){var e=lr.util.createBuffer(),r=t.tagClass|t.type,n=lr.util.createBuffer(),s=!1;if("bitStringContents"in t&&(s=!0,t.original&&(s=Be.equals(t,t.original))),s)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var i=0;i<t.value.length;++i)t.value[i]!==void 0&&n.putBuffer(Be.toDer(t.value[i]))}else if(t.type===Be.Type.BMPSTRING)for(var i=0;i<t.value.length;++i)n.putInt16(t.value.charCodeAt(i));else t.type===Be.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var a=n.length(),o="";do o+=String.fromCharCode(a&255),a=a>>>8;while(a>0);e.putByte(o.length|128);for(var i=o.length-1;i>=0;--i)e.putByte(o.charCodeAt(i))}return e.putBuffer(n),e};Be.oidToDer=function(t){var e=t.split("."),r=lr.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,s,i,a,o=2;o<e.length;++o){n=!0,s=[],i=parseInt(e[o],10);do a=i&127,i=i>>>7,n||(a|=128),s.push(a),n=!1;while(i>0);for(var l=s.length-1;l>=0;--l)r.putByte(s[l])}return r};Be.derToOid=function(t){var e;typeof t=="string"&&(t=lr.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};Be.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,s=parseInt(t.substr(4,2),10),i=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var l=t.charAt(10),u=10;l!=="+"&&l!=="-"&&(o=parseInt(t.substr(10,2),10),u+=2)}if(e.setUTCFullYear(r,n,s),e.setUTCHours(i,a,o,0),u&&(l=t.charAt(u),l==="+"||l==="-")){var c=parseInt(t.substr(u+1,2),10),f=parseInt(t.substr(u+4,2),10),h=c*60+f;h*=6e4,l==="+"?e.setTime(+e-h):e.setTime(+e+h)}return e};Be.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,s=parseInt(t.substr(6,2),10),i=parseInt(t.substr(8,2),10),a=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),l=0,u=0,c=!1;t.charAt(t.length-1)==="Z"&&(c=!0);var f=t.length-5,h=t.charAt(f);if(h==="+"||h==="-"){var p=parseInt(t.substr(f+1,2),10),d=parseInt(t.substr(f+4,2),10);u=p*60+d,u*=6e4,h==="+"&&(u*=-1),c=!0}return t.charAt(14)==="."&&(l=parseFloat(t.substr(14),10)*1e3),c?(e.setUTCFullYear(r,n,s),e.setUTCHours(i,a,o,l),e.setTime(+e+u)):(e.setFullYear(r,n,s),e.setHours(i,a,o,l)),e};Be.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Be.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};Be.integerToDer=function(t){var e=lr.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};Be.derToInteger=function(t){typeof t=="string"&&(t=lr.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};Be.validate=function(t,e,r,n){var s=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(s=!0,e.value&&lr.util.isArray(e.value))for(var i=0,a=0;s&&a<e.value.length;++a)s=e.value[a].optional||!1,t.value[i]&&(s=Be.validate(t.value[i],e.value[a],r,n),s?++i:e.value[a].optional&&(s=!0)),!s&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(s&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t))if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var o=t.bitStringContents.charCodeAt(0);if(o!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return s};var GR=/[^\\u0000-\\u00ff]/;Be.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var s="",i=0;i<e*r;++i)s+=" ";switch(n+=s+"Tag: ",t.tagClass){case Be.Class.UNIVERSAL:n+="Universal:";break;case Be.Class.APPLICATION:n+="Application:";break;case Be.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Be.Class.PRIVATE:n+="Private:";break}if(t.tagClass===Be.Class.UNIVERSAL)switch(n+=t.type,t.type){case Be.Type.NONE:n+=" (None)";break;case Be.Type.BOOLEAN:n+=" (Boolean)";break;case Be.Type.INTEGER:n+=" (Integer)";break;case Be.Type.BITSTRING:n+=" (Bit string)";break;case Be.Type.OCTETSTRING:n+=" (Octet string)";break;case Be.Type.NULL:n+=" (Null)";break;case Be.Type.OID:n+=" (Object Identifier)";break;case Be.Type.ODESC:n+=" (Object Descriptor)";break;case Be.Type.EXTERNAL:n+=" (External or Instance of)";break;case Be.Type.REAL:n+=" (Real)";break;case Be.Type.ENUMERATED:n+=" (Enumerated)";break;case Be.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Be.Type.UTF8:n+=" (UTF8)";break;case Be.Type.ROID:n+=" (Relative Object Identifier)";break;case Be.Type.SEQUENCE:n+=" (Sequence)";break;case Be.Type.SET:n+=" (Set)";break;case Be.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Be.Type.IA5String:n+=" (IA5String (ASCII))";break;case Be.Type.UTCTIME:n+=" (UTC time)";break;case Be.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Be.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=s+"Constructed: "+t.constructed+`
`,t.composed){for(var a=0,o="",i=0;i<t.value.length;++i)t.value[i]!==void 0&&(a+=1,o+=Be.prettyPrint(t.value[i],e+1,r),i+1<t.value.length&&(o+=","));n+=s+"Sub values: "+a+o}else{if(n+=s+"Value: ",t.type===Be.Type.OID){var l=Be.derToOid(t.value);n+=l,lr.pki&&lr.pki.oids&&l in lr.pki.oids&&(n+=" ("+lr.pki.oids[l]+") ")}if(t.type===Be.Type.INTEGER)try{n+=Be.derToInteger(t.value)}catch{n+="0x"+lr.util.bytesToHex(t.value)}else if(t.type===Be.Type.BITSTRING){if(t.value.length>1?n+="0x"+lr.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var u=t.value.charCodeAt(0);u==1?n+=" (1 unused bit shown)":u>1&&(n+=" ("+u+" unused bits shown)")}}else if(t.type===Be.Type.OCTETSTRING)GR.test(t.value)||(n+="("+t.value+") "),n+="0x"+lr.util.bytesToHex(t.value);else if(t.type===Be.Type.UTF8)try{n+=lr.util.decodeUtf8(t.value)}catch(c){if(c.message==="URI malformed")n+="0x"+lr.util.bytesToHex(t.value)+" (malformed UTF8)";else throw c}else t.type===Be.Type.PRINTABLESTRING||t.type===Be.Type.IA5String?n+=t.value:GR.test(t.value)?n+="0x"+lr.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n};var tw=pt;tw.md=tw.md||{};tw.md.algorithms=tw.md.algorithms||{};var Ra=pt,eG=Ra.hmac=Ra.hmac||{};eG.create=function(){var t=null,e=null,r=null,n=null,s={};return s.start=function(i,a){if(i!==null)if(typeof i=="string")if(i=i.toLowerCase(),i in Ra.md.algorithms)e=Ra.md.algorithms[i].create();else throw new Error('Unknown hash algorithm "'+i+'"');else e=i;if(a===null)a=t;else{if(typeof a=="string")a=Ra.util.createBuffer(a);else if(Ra.util.isArray(a)){var o=a;a=Ra.util.createBuffer();for(var l=0;l<o.length;++l)a.putByte(o[l])}var u=a.length();u>e.blockLength&&(e.start(),e.update(a.bytes()),a=e.digest()),r=Ra.util.createBuffer(),n=Ra.util.createBuffer(),u=a.length();for(var l=0;l<u;++l){var o=a.at(l);r.putByte(54^o),n.putByte(92^o)}if(u<e.blockLength)for(var o=e.blockLength-u,l=0;l<o;++l)r.putByte(54),n.putByte(92);t=a,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},s.update=function(i){e.update(i)},s.getMac=function(){var i=e.digest().bytes();return e.start(),e.update(n),e.update(i),e.digest()},s.digest=s.getMac,s};var Ji=pt,IV=Ji.md5=Ji.md5||{};Ji.md.md5=Ji.md.algorithms.md5=IV;IV.create=function(){TV||tG();var t=null,e=Ji.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,i=0;i<s;++i)n.fullMessageLength.push(0);return e=Ji.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(s,i){i==="utf8"&&(s=Ji.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=a[1],a[1]=a[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(s),qR(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var s=Ji.util.createBuffer();s.putBytes(e.bytes());var i=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=i&n.blockLength-1;s.putBytes(EA.substr(0,n.blockLength-a));for(var o,l=0,u=n.fullMessageLength.length-1;u>=0;--u)o=n.fullMessageLength[u]*8+l,l=o/4294967296>>>0,s.putInt32Le(o>>>0);var c={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3};qR(c,r,s);var f=Ji.util.createBuffer();return f.putInt32Le(c.h0),f.putInt32Le(c.h1),f.putInt32Le(c.h2),f.putInt32Le(c.h3),f},n};var EA=null,K1=null,B0=null,Sd=null,TV=!1;function tG(){EA="",EA+=Ji.util.fillString("\0",64),K1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],B0=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],Sd=new Array(64);for(var t=0;t<64;++t)Sd[t]=Math.floor(Math.abs(Math.sin(t+1))*4294967296);TV=!0}function qR(t,e,r){for(var n,s,i,a,o,l,u,c,f=r.length();f>=64;){for(s=t.h0,i=t.h1,a=t.h2,o=t.h3,c=0;c<16;++c)e[c]=r.getInt32Le(),l=o^i&(a^o),n=s+l+Sd[c]+e[c],u=B0[c],s=o,o=a,a=i,i+=n<<u|n>>>32-u;for(;c<32;++c)l=a^o&(i^a),n=s+l+Sd[c]+e[K1[c]],u=B0[c],s=o,o=a,a=i,i+=n<<u|n>>>32-u;for(;c<48;++c)l=i^a^o,n=s+l+Sd[c]+e[K1[c]],u=B0[c],s=o,o=a,a=i,i+=n<<u|n>>>32-u;for(;c<64;++c)l=a^(i|~o),n=s+l+Sd[c]+e[K1[c]],u=B0[c],s=o,o=a,a=i,i+=n<<u|n>>>32-u;t.h0=t.h0+s|0,t.h1=t.h1+i|0,t.h2=t.h2+a|0,t.h3=t.h3+o|0,f-=64}}var rw=pt,NV=rw.pem=rw.pem||{};NV.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=$y(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=$y(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=$y(n)),t.headers)for(var s=0;s<t.headers.length;++s)r+=$y(t.headers[s]);return t.procType&&(r+=`\r
`),r+=rw.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};NV.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/,i;i=r.exec(t),!!i;){var a=i[1];a==="NEW CERTIFICATE REQUEST"&&(a="CERTIFICATE REQUEST");var o={type:a,procType:null,contentDomain:null,dekInfo:null,headers:[],body:rw.util.decode64(i[3])};if(e.push(o),!!i[2]){for(var l=i[2].split(s),u=0;i&&u<l.length;){for(var c=l[u].replace(/\s+$/,""),f=u+1;f<l.length;++f){var h=l[f];if(!/\s/.test(h[0]))break;c+=h,u=f}if(i=c.match(n),i){for(var p={name:i[1],values:[]},d=i[2].split(","),m=0;m<d.length;++m)p.values.push(rG(d[m]));if(o.procType)if(!o.contentDomain&&p.name==="Content-Domain")o.contentDomain=d[0]||"";else if(!o.dekInfo&&p.name==="DEK-Info"){if(p.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:d[0],parameters:d[1]||null}}else o.headers.push(p);else{if(p.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(p.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:d[0],type:d[1]}}}++u}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function $y(t){for(var e=t.name+": ",r=[],n=function(l,u){return" "+u},s=0;s<t.values.length;++s)r.push(t.values[s].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var i=0,a=-1,s=0;s<e.length;++s,++i)if(i>65&&a!==-1){var o=e[a];o===","?(++a,e=e.substr(0,a)+`\r
 `+e.substr(a)):e=e.substr(0,a)+`\r
`+o+e.substr(a+1),i=s-a-1,a=-1,++s}else(e[s]===" "||e[s]==="	"||e[s]===",")&&(a=s);return e}function rG(t){return t.replace(/^\s+/,"")}var wr=pt;wr.des=wr.des||{};wr.des.startEncrypting=function(t,e,r,n){var s=KC({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return s.start(e),s};wr.des.createEncryptionCipher=function(t,e){return KC({key:t,output:null,decrypt:!1,mode:e})};wr.des.startDecrypting=function(t,e,r,n){var s=KC({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return s.start(e),s};wr.des.createDecryptionCipher=function(t,e){return KC({key:t,output:null,decrypt:!0,mode:e})};wr.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,s){return JR(r._keys,n,s,!1)},decrypt:function(n,s){return JR(r._keys,n,s,!0)}}}),r._init=!1};wr.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=wr.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=fG(e),this._init=!0}};ha("DES-ECB",wr.cipher.modes.ecb);ha("DES-CBC",wr.cipher.modes.cbc);ha("DES-CFB",wr.cipher.modes.cfb);ha("DES-OFB",wr.cipher.modes.ofb);ha("DES-CTR",wr.cipher.modes.ctr);ha("3DES-ECB",wr.cipher.modes.ecb);ha("3DES-CBC",wr.cipher.modes.cbc);ha("3DES-CFB",wr.cipher.modes.cfb);ha("3DES-OFB",wr.cipher.modes.ofb);ha("3DES-CTR",wr.cipher.modes.ctr);function ha(t,e){var r=function(){return new wr.des.Algorithm(t,e)};wr.cipher.registerAlgorithm(t,r)}var nG=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],sG=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],iG=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],aG=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],oG=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],lG=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],uG=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],cG=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function fG(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],i=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],a=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],l=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],c=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],d=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=t.length()>8?3:1,S=[],g=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,y,C=0;C<m;C++){var E=t.getInt32(),b=t.getInt32();y=(E>>>4^b)&252645135,b^=y,E^=y<<4,y=(b>>>-16^E)&65535,E^=y,b^=y<<-16,y=(E>>>2^b)&858993459,b^=y,E^=y<<2,y=(b>>>-16^E)&65535,E^=y,b^=y<<-16,y=(E>>>1^b)&1431655765,b^=y,E^=y<<1,y=(b>>>8^E)&16711935,E^=y,b^=y<<8,y=(E>>>1^b)&1431655765,b^=y,E^=y<<1,y=E<<8|b>>>20&240,E=b<<24|b<<8&16711680|b>>>8&65280|b>>>24&240,b=y;for(var T=0;T<g.length;++T){g[T]?(E=E<<2|E>>>26,b=b<<2|b>>>26):(E=E<<1|E>>>27,b=b<<1|b>>>27),E&=-15,b&=-15;var O=e[E>>>28]|r[E>>>24&15]|n[E>>>20&15]|s[E>>>16&15]|i[E>>>12&15]|a[E>>>8&15]|o[E>>>4&15],H=l[b>>>28]|u[b>>>24&15]|c[b>>>20&15]|f[b>>>16&15]|h[b>>>12&15]|p[b>>>8&15]|d[b>>>4&15];y=(H>>>16^O)&65535,S[v++]=O^y,S[v++]=H^y<<16}}return S}function JR(t,e,r,n){var s=t.length===32?3:9,i;s===3?i=n?[30,-2,-2]:[0,32,2]:i=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var a,o=e[0],l=e[1];a=(o>>>4^l)&252645135,l^=a,o^=a<<4,a=(o>>>16^l)&65535,l^=a,o^=a<<16,a=(l>>>2^o)&858993459,o^=a,l^=a<<2,a=(l>>>8^o)&16711935,o^=a,l^=a<<8,a=(o>>>1^l)&1431655765,l^=a,o^=a<<1,o=o<<1|o>>>31,l=l<<1|l>>>31;for(var u=0;u<s;u+=3){for(var c=i[u+1],f=i[u+2],h=i[u];h!=c;h+=f){var p=l^t[h],d=(l>>>4|l<<28)^t[h+1];a=o,o=l,l=a^(sG[p>>>24&63]|aG[p>>>16&63]|lG[p>>>8&63]|cG[p&63]|nG[d>>>24&63]|iG[d>>>16&63]|oG[d>>>8&63]|uG[d&63])}a=o,o=l,l=a}o=o>>>1|o<<31,l=l>>>1|l<<31,a=(o>>>1^l)&1431655765,l^=a,o^=a<<1,a=(l>>>8^o)&16711935,o^=a,l^=a<<8,a=(l>>>2^o)&858993459,o^=a,l^=a<<2,a=(o>>>16^l)&65535,l^=a,o^=a<<16,a=(o>>>4^l)&252645135,l^=a,o^=a<<4,r[0]=o,r[1]=l}function KC(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=wr.cipher.createDecipher(r,t.key):n=wr.cipher.createCipher(r,t.key);var s=n.start;return n.start=function(i,a){var o=null;a instanceof wr.util.ByteBuffer&&(o=a,a={}),a=a||{},a.output=o,a.iv=i,s.call(n,a)},n}const hG={},dG=Object.freeze(Object.defineProperty({__proto__:null,default:hG},Symbol.toStringTag,{value:"Module"})),mI=i8(dG);var Pn=pt,pG=Pn.pkcs5=Pn.pkcs5||{},ga;Pn.util.isNodejs&&!Pn.options.usePureJavaScript&&(ga=mI);Pn.pbkdf2=pG.pbkdf2=function(t,e,r,n,s,i){if(typeof s=="function"&&(i=s,s=null),Pn.util.isNodejs&&!Pn.options.usePureJavaScript&&ga.pbkdf2&&(s===null||typeof s!="object")&&(ga.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),i?ga.pbkdf2Sync.length===4?ga.pbkdf2(t,e,r,n,function(y,C){if(y)return i(y);i(null,C.toString("binary"))}):ga.pbkdf2(t,e,r,n,s,function(y,C){if(y)return i(y);i(null,C.toString("binary"))}):ga.pbkdf2Sync.length===4?ga.pbkdf2Sync(t,e,r,n).toString("binary"):ga.pbkdf2Sync(t,e,r,n,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in Pn.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=Pn.md[s].create()}var a=s.digestLength;if(n>4294967295*a){var o=new Error("Derived key is too long.");if(i)return i(o);throw o}var l=Math.ceil(n/a),u=n-(l-1)*a,c=Pn.hmac.create();c.start(s,t);var f="",h,p,d;if(!i){for(var m=1;m<=l;++m){c.start(null,null),c.update(e),c.update(Pn.util.int32ToBytes(m)),h=d=c.digest().getBytes();for(var S=2;S<=r;++S)c.start(null,null),c.update(d),p=c.digest().getBytes(),h=Pn.util.xorBytes(h,p,a),d=p;f+=m<l?h:h.substr(0,u)}return f}var m=1,S;function g(){if(m>l)return i(null,f);c.start(null,null),c.update(e),c.update(Pn.util.int32ToBytes(m)),h=d=c.digest().getBytes(),S=2,v()}function v(){if(S<=r)return c.start(null,null),c.update(d),p=c.digest().getBytes(),h=Pn.util.xorBytes(h,p,a),d=p,++S,Pn.util.setImmediate(v);f+=m<l?h:h.substr(0,u),++m,g()}g()};var Yi=pt,RV=Yi.sha256=Yi.sha256||{};Yi.md.sha256=Yi.md.algorithms.sha256=RV;RV.create=function(){BV||mG();var t=null,e=Yi.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,i=0;i<s;++i)n.fullMessageLength.push(0);return e=Yi.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(s,i){i==="utf8"&&(s=Yi.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=a[1],a[1]=a[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(s),YR(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var s=Yi.util.createBuffer();s.putBytes(e.bytes());var i=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=i&n.blockLength-1;s.putBytes(bA.substr(0,n.blockLength-a));for(var o,l,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)o=n.fullMessageLength[c+1]*8,l=o/4294967296>>>0,u+=l,s.putInt32(u>>>0),u=o>>>0;s.putInt32(u);var f={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};YR(f,r,s);var h=Yi.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h.putInt32(f.h5),h.putInt32(f.h6),h.putInt32(f.h7),h},n};var bA=null,BV=!1,_V=null;function mG(){bA="",bA+=Yi.util.fillString("\0",64),_V=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],BV=!0}function YR(t,e,r){for(var n,s,i,a,o,l,u,c,f,h,p,d,m,S,g,v=r.length();v>=64;){for(u=0;u<16;++u)e[u]=r.getInt32();for(;u<64;++u)n=e[u-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,s=e[u-15],s=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,e[u]=n+e[u-7]+s+e[u-16]|0;for(c=t.h0,f=t.h1,h=t.h2,p=t.h3,d=t.h4,m=t.h5,S=t.h6,g=t.h7,u=0;u<64;++u)a=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7),o=S^d&(m^S),i=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),l=c&f|h&(c^f),n=g+a+o+_V[u]+e[u],s=i+l,g=S,S=m,m=d,d=p+n>>>0,p=h,h=f,f=c,c=n+s>>>0;t.h0=t.h0+c|0,t.h1=t.h1+f|0,t.h2=t.h2+h|0,t.h3=t.h3+p|0,t.h4=t.h4+d|0,t.h5=t.h5+m|0,t.h6=t.h6+S|0,t.h7=t.h7+g|0,v-=64}}var zi=pt,j1=null;zi.util.isNodejs&&!zi.options.usePureJavaScript&&!process.versions["node-webkit"]&&(j1=mI);var gG=zi.prng=zi.prng||{};gG.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),s=0;s<32;++s)n[s]=r.create();e.pools=n,e.pool=0,e.generate=function(u,c){if(!c)return e.generateSync(u);var f=e.plugin.cipher,h=e.plugin.increment,p=e.plugin.formatKey,d=e.plugin.formatSeed,m=zi.util.createBuffer();e.key=null,S();function S(g){if(g)return c(g);if(m.length()>=u)return c(null,m.getBytes(u));if(e.generated>1048575&&(e.key=null),e.key===null)return zi.util.nextTick(function(){i(S)});var v=f(e.key,e.seed);e.generated+=v.length,m.putBytes(v),e.key=p(f(e.key,h(e.seed))),e.seed=d(f(e.key,e.seed)),zi.util.setImmediate(S)}},e.generateSync=function(u){var c=e.plugin.cipher,f=e.plugin.increment,h=e.plugin.formatKey,p=e.plugin.formatSeed;e.key=null;for(var d=zi.util.createBuffer();d.length()<u;){e.generated>1048575&&(e.key=null),e.key===null&&a();var m=c(e.key,e.seed);e.generated+=m.length,d.putBytes(m),e.key=h(c(e.key,f(e.seed))),e.seed=p(c(e.key,e.seed))}return d.getBytes(u)};function i(u){if(e.pools[0].messageLength>=32)return o(),u();var c=32-e.pools[0].messageLength<<5;e.seedFile(c,function(f,h){if(f)return u(f);e.collect(h),o(),u()})}function a(){if(e.pools[0].messageLength>=32)return o();var u=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(u)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var c=1,f=0;f<32;++f)e.reseeds%c===0&&(u.update(e.pools[f].digest().getBytes()),e.pools[f].start()),c=c<<1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var h=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(h),e.generated=0}function l(u){var c=null,f=zi.util.globalScope,h=f.crypto||f.msCrypto;h&&h.getRandomValues&&(c=function(E){return h.getRandomValues(E)});var p=zi.util.createBuffer();if(c)for(;p.length()<u;){var d=Math.max(1,Math.min(u-p.length(),65536)/4),m=new Uint32Array(Math.floor(d));try{c(m);for(var S=0;S<m.length;++S)p.putInt32(m[S])}catch(E){if(!(typeof QuotaExceededError<"u"&&E instanceof QuotaExceededError))throw E}}if(p.length()<u)for(var g,v,y,C=Math.floor(Math.random()*65536);p.length()<u;){v=16807*(C&65535),g=16807*(C>>16),v+=(g&32767)<<16,v+=g>>15,v=(v&2147483647)+(v>>31),C=v&4294967295;for(var S=0;S<3;++S)y=C>>>(S<<3),y^=Math.floor(Math.random()*256),p.putByte(y&255)}return p.getBytes(u)}return j1?(e.seedFile=function(u,c){j1.randomBytes(u,function(f,h){if(f)return c(f);c(null,h.toString())})},e.seedFileSync=function(u){return j1.randomBytes(u).toString()}):(e.seedFile=function(u,c){try{c(null,l(u))}catch(f){c(f)}},e.seedFileSync=l),e.collect=function(u){for(var c=u.length,f=0;f<c;++f)e.pools[e.pool].update(u.substr(f,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(u,c){for(var f="",h=0;h<c;h+=8)f+=String.fromCharCode(u>>h&255);e.collect(f)},e.registerWorker=function(u){if(u===self)e.seedFile=function(f,h){function p(d){var m=d.data;m.forge&&m.forge.prng&&(self.removeEventListener("message",p),h(m.forge.prng.err,m.forge.prng.bytes))}self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:f}}})};else{var c=function(f){var h=f.data;h.forge&&h.forge.prng&&e.seedFile(h.forge.prng.needed,function(p,d){u.postMessage({forge:{prng:{err:p,bytes:d}}})})};u.addEventListener("message",c)}},e};var en=pt;(function(){if(en.random&&en.random.getBytes){en.random;return}(function(t){var e={},r=new Array(4),n=en.util.createBuffer();e.formatKey=function(f){var h=en.util.createBuffer(f);return f=new Array(4),f[0]=h.getInt32(),f[1]=h.getInt32(),f[2]=h.getInt32(),f[3]=h.getInt32(),en.aes._expandKey(f,!1)},e.formatSeed=function(f){var h=en.util.createBuffer(f);return f=new Array(4),f[0]=h.getInt32(),f[1]=h.getInt32(),f[2]=h.getInt32(),f[3]=h.getInt32(),f},e.cipher=function(f,h){return en.aes._updateBlock(f,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(f){return++f[3],f},e.md=en.md.sha256;function s(){var f=en.prng.create(e);return f.getBytes=function(h,p){return f.generate(h,p)},f.getBytesSync=function(h){return f.generate(h)},f}var i=s(),a=null,o=en.util.globalScope,l=o.crypto||o.msCrypto;if(l&&l.getRandomValues&&(a=function(f){return l.getRandomValues(f)}),en.options.usePureJavaScript||!en.util.isNodejs&&!a){if(i.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var c in navigator)try{typeof navigator[c]=="string"&&(u+=navigator[c])}catch{}i.collect(u),u=null}t&&(t().mousemove(function(f){i.collectInt(f.clientX,16),i.collectInt(f.clientY,16)}),t().keypress(function(f){i.collectInt(f.charCode,8)}))}if(!en.random)en.random=i;else for(var c in i)en.random[c]=i[c];en.random.createInstance=s,en.random})(typeof jQuery<"u"?jQuery:null)})();var rs=pt,ab=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],QR=[1,2,3,5],vG=function(t,e){return t<<e&65535|(t&65535)>>16-e},yG=function(t,e){return(t&65535)>>e|t<<16-e&65535};rs.rc2=rs.rc2||{};rs.rc2.expandKey=function(t,e){typeof t=="string"&&(t=rs.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),s=e,i=Math.ceil(s/8),a=255>>(s&7),o;for(o=n;o<128;o++)r.putByte(ab[r.at(o-1)+r.at(o-n)&255]);for(r.setAt(128-i,ab[r.at(128-i)&a]),o=127-i;o>=0;o--)r.setAt(o,ab[r.at(o+1)^r.at(o+i)]);return r};var PV=function(t,e,r){var n=!1,s=null,i=null,a=null,o,l,u,c,f=[];for(t=rs.rc2.expandKey(t,e),u=0;u<64;u++)f.push(t.getInt16Le());r?(o=function(d){for(u=0;u<4;u++)d[u]+=f[c]+(d[(u+3)%4]&d[(u+2)%4])+(~d[(u+3)%4]&d[(u+1)%4]),d[u]=vG(d[u],QR[u]),c++},l=function(d){for(u=0;u<4;u++)d[u]+=f[d[(u+3)%4]&63]}):(o=function(d){for(u=3;u>=0;u--)d[u]=yG(d[u],QR[u]),d[u]-=f[c]+(d[(u+3)%4]&d[(u+2)%4])+(~d[(u+3)%4]&d[(u+1)%4]),c--},l=function(d){for(u=3;u>=0;u--)d[u]-=f[d[(u+3)%4]&63]});var h=function(d){var m=[];for(u=0;u<4;u++){var S=s.getInt16Le();a!==null&&(r?S^=a.getInt16Le():a.putInt16Le(S)),m.push(S&65535)}c=r?0:63;for(var g=0;g<d.length;g++)for(var v=0;v<d[g][0];v++)d[g][1](m);for(u=0;u<4;u++)a!==null&&(r?a.putInt16Le(m[u]):m[u]^=a.getInt16Le()),i.putInt16Le(m[u])},p=null;return p={start:function(d,m){d&&typeof d=="string"&&(d=rs.util.createBuffer(d)),n=!1,s=rs.util.createBuffer(),i=m||new rs.util.createBuffer,a=d,p.output=i},update:function(d){for(n||s.putBuffer(d);s.length()>=8;)h([[5,o],[1,l],[6,o],[1,l],[5,o]])},finish:function(d){var m=!0;if(r)if(d)m=d(8,s,!r);else{var S=s.length()===8?8:8-s.length();s.fillWithByte(S,S)}if(m&&(n=!0,p.update()),!r&&(m=s.length()===0,m))if(d)m=d(8,i,!r);else{var g=i.length(),v=i.at(g-1);v>g?m=!1:i.truncate(v)}return m}},p};rs.rc2.startEncrypting=function(t,e,r){var n=rs.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};rs.rc2.createEncryptionCipher=function(t,e){return PV(t,e,!0)};rs.rc2.startDecrypting=function(t,e,r){var n=rs.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};rs.rc2.createDecryptionCipher=function(t,e){return PV(t,e,!1)};var xA=pt;xA.jsbn=xA.jsbn||{};var Va;function we(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}xA.jsbn.BigInteger=we;function Lt(){return new we(null)}function SG(t,e,r,n,s,i){for(;--i>=0;){var a=e*this.data[t++]+r.data[n]+s;s=Math.floor(a/67108864),r.data[n++]=a&67108863}return s}function wG(t,e,r,n,s,i){for(var a=e&32767,o=e>>15;--i>=0;){var l=this.data[t]&32767,u=this.data[t++]>>15,c=o*l+u*a;l=a*l+((c&32767)<<15)+r.data[n]+(s&1073741823),s=(l>>>30)+(c>>>15)+o*u+(s>>>30),r.data[n++]=l&1073741823}return s}function XR(t,e,r,n,s,i){for(var a=e&16383,o=e>>14;--i>=0;){var l=this.data[t]&16383,u=this.data[t++]>>14,c=o*l+u*a;l=a*l+((c&16383)<<14)+r.data[n]+s,s=(l>>28)+(c>>14)+o*u,r.data[n++]=l&268435455}return s}typeof navigator>"u"?(we.prototype.am=XR,Va=28):navigator.appName=="Microsoft Internet Explorer"?(we.prototype.am=wG,Va=30):navigator.appName!="Netscape"?(we.prototype.am=SG,Va=26):(we.prototype.am=XR,Va=28);we.prototype.DB=Va;we.prototype.DM=(1<<Va)-1;we.prototype.DV=1<<Va;var gI=52;we.prototype.FV=Math.pow(2,gI);we.prototype.F1=gI-Va;we.prototype.F2=2*Va-gI;var CG="0123456789abcdefghijklmnopqrstuvwxyz",jC=new Array,Ap,Qs;Ap=48;for(Qs=0;Qs<=9;++Qs)jC[Ap++]=Qs;Ap=97;for(Qs=10;Qs<36;++Qs)jC[Ap++]=Qs;Ap=65;for(Qs=10;Qs<36;++Qs)jC[Ap++]=Qs;function ZR(t){return CG.charAt(t)}function OV(t,e){var r=jC[t.charCodeAt(e)];return r??-1}function EG(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function bG(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function Cl(t){var e=Lt();return e.fromInt(t),e}function xG(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,s=!1,i=0;--n>=0;){var a=r==8?t[n]&255:OV(t,n);if(a<0){t.charAt(n)=="-"&&(s=!0);continue}s=!1,i==0?this.data[this.t++]=a:i+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this.data[this.t++]=a>>this.DB-i):this.data[this.t-1]|=a<<i,i+=r,i>=this.DB&&(i-=this.DB)}r==8&&t[0]&128&&(this.s=-1,i>0&&(this.data[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),s&&we.ZERO.subTo(this,this)}function AG(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function kG(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,s=!1,i="",a=this.t,o=this.DB-a*this.DB%e;if(a-- >0)for(o<this.DB&&(n=this.data[a]>>o)>0&&(s=!0,i=ZR(n));a>=0;)o<e?(n=(this.data[a]&(1<<o)-1)<<e-o,n|=this.data[--a]>>(o+=this.DB-e)):(n=this.data[a]>>(o-=e)&r,o<=0&&(o+=this.DB,--a)),n>0&&(s=!0),s&&(i+=ZR(n));return s?i:"0"}function IG(){var t=Lt();return we.ZERO.subTo(this,t),t}function TG(){return this.s<0?this.negate():this}function NG(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function zC(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function RG(){return this.t<=0?0:this.DB*(this.t-1)+zC(this.data[this.t-1]^this.s&this.DM)}function BG(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function _G(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function PG(t,e){var r=t%this.DB,n=this.DB-r,s=(1<<n)-1,i=Math.floor(t/this.DB),a=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+i+1]=this.data[o]>>n|a,a=(this.data[o]&s)<<r;for(o=i-1;o>=0;--o)e.data[o]=0;e.data[i]=a,e.t=this.t+i+1,e.s=this.s,e.clamp()}function OG(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,s=this.DB-n,i=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)e.data[a-r-1]|=(this.data[a]&i)<<s,e.data[a-r]=this.data[a]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&i)<<s),e.t=this.t-r,e.clamp()}function LG(t,e){for(var r=0,n=0,s=Math.min(t.t,this.t);r<s;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function VG(t,e){var r=this.abs(),n=t.abs(),s=r.t;for(e.t=s+n.t;--s>=0;)e.data[s]=0;for(s=0;s<n.t;++s)e.data[s+r.t]=r.am(0,n.data[s],e,s,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&we.ZERO.subTo(e,e)}function DG(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function UG(t,e,r){var n=t.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t){e!=null&&e.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=Lt());var i=Lt(),a=this.s,o=t.s,l=this.DB-zC(n.data[n.t-1]);l>0?(n.lShiftTo(l,i),s.lShiftTo(l,r)):(n.copyTo(i),s.copyTo(r));var u=i.t,c=i.data[u-1];if(c!=0){var f=c*(1<<this.F1)+(u>1?i.data[u-2]>>this.F2:0),h=this.FV/f,p=(1<<this.F1)/f,d=1<<this.F2,m=r.t,S=m-u,g=e??Lt();for(i.dlShiftTo(S,g),r.compareTo(g)>=0&&(r.data[r.t++]=1,r.subTo(g,r)),we.ONE.dlShiftTo(u,g),g.subTo(i,i);i.t<u;)i.data[i.t++]=0;for(;--S>=0;){var v=r.data[--m]==c?this.DM:Math.floor(r.data[m]*h+(r.data[m-1]+d)*p);if((r.data[m]+=i.am(0,v,r,S,0,u))<v)for(i.dlShiftTo(S,g),r.subTo(g,r);r.data[m]<--v;)r.subTo(g,r)}e!=null&&(r.drShiftTo(u,e),a!=o&&we.ZERO.subTo(e,e)),r.t=u,r.clamp(),l>0&&r.rShiftTo(l,r),a<0&&we.ZERO.subTo(r,r)}}}function MG(t){var e=Lt();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(we.ZERO)>0&&t.subTo(e,e),e}function ff(t){this.m=t}function $G(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function FG(t){return t}function HG(t){t.divRemTo(this.m,null,t)}function KG(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function jG(t,e){t.squareTo(e),this.reduce(e)}ff.prototype.convert=$G;ff.prototype.revert=FG;ff.prototype.reduce=HG;ff.prototype.mulTo=KG;ff.prototype.sqrTo=jG;function zG(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function hf(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function WG(t){var e=Lt();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(we.ZERO)>0&&this.m.subTo(e,e),e}function GG(t){var e=Lt();return t.copyTo(e),this.reduce(e),e}function qG(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function JG(t,e){t.squareTo(e),this.reduce(e)}function YG(t,e,r){t.multiplyTo(e,r),this.reduce(r)}hf.prototype.convert=WG;hf.prototype.revert=GG;hf.prototype.reduce=qG;hf.prototype.mulTo=YG;hf.prototype.sqrTo=JG;function QG(){return(this.t>0?this.data[0]&1:this.s)==0}function XG(t,e){if(t>4294967295||t<1)return we.ONE;var r=Lt(),n=Lt(),s=e.convert(this),i=zC(t)-1;for(s.copyTo(r);--i>=0;)if(e.sqrTo(r,n),(t&1<<i)>0)e.mulTo(n,s,r);else{var a=r;r=n,n=a}return e.revert(r)}function ZG(t,e){var r;return t<256||e.isEven()?r=new ff(e):r=new hf(e),this.exp(t,r)}we.prototype.copyTo=EG;we.prototype.fromInt=bG;we.prototype.fromString=xG;we.prototype.clamp=AG;we.prototype.dlShiftTo=BG;we.prototype.drShiftTo=_G;we.prototype.lShiftTo=PG;we.prototype.rShiftTo=OG;we.prototype.subTo=LG;we.prototype.multiplyTo=VG;we.prototype.squareTo=DG;we.prototype.divRemTo=UG;we.prototype.invDigit=zG;we.prototype.isEven=QG;we.prototype.exp=XG;we.prototype.toString=kG;we.prototype.negate=IG;we.prototype.abs=TG;we.prototype.compareTo=NG;we.prototype.bitLength=RG;we.prototype.mod=MG;we.prototype.modPowInt=ZG;we.ZERO=Cl(0);we.ONE=Cl(1);function eq(){var t=Lt();return this.copyTo(t),t}function tq(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function rq(){return this.t==0?this.s:this.data[0]<<24>>24}function nq(){return this.t==0?this.s:this.data[0]<<16>>16}function sq(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function iq(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function aq(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=Cl(r),s=Lt(),i=Lt(),a="";for(this.divRemTo(n,s,i);s.signum()>0;)a=(r+i.intValue()).toString(t).substr(1)+a,s.divRemTo(n,s,i);return i.intValue().toString(t)+a}function oq(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),s=!1,i=0,a=0,o=0;o<t.length;++o){var l=OV(t,o);if(l<0){t.charAt(o)=="-"&&this.signum()==0&&(s=!0);continue}a=e*a+l,++i>=r&&(this.dMultiply(n),this.dAddOffset(a,0),i=0,a=0)}i>0&&(this.dMultiply(Math.pow(e,i)),this.dAddOffset(a,0)),s&&we.ZERO.subTo(this,this)}function lq(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(we.ONE.shiftLeft(t-1),vI,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(we.ONE.shiftLeft(t-1),this);else{var n=new Array,s=t&7;n.length=(t>>3)+1,e.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}}function uq(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,s=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[s++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),s==0&&(this.s&128)!=(n&128)&&++s,(s>0||n!=this.s)&&(e[s++]=n);return e}function cq(t){return this.compareTo(t)==0}function fq(t){return this.compareTo(t)<0?this:t}function hq(t){return this.compareTo(t)>0?this:t}function dq(t,e,r){var n,s,i=Math.min(t.t,this.t);for(n=0;n<i;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(s=t.s&this.DM,n=i;n<this.t;++n)r.data[n]=e(this.data[n],s);r.t=this.t}else{for(s=this.s&this.DM,n=i;n<t.t;++n)r.data[n]=e(s,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function pq(t,e){return t&e}function mq(t){var e=Lt();return this.bitwiseTo(t,pq,e),e}function vI(t,e){return t|e}function gq(t){var e=Lt();return this.bitwiseTo(t,vI,e),e}function LV(t,e){return t^e}function vq(t){var e=Lt();return this.bitwiseTo(t,LV,e),e}function VV(t,e){return t&~e}function yq(t){var e=Lt();return this.bitwiseTo(t,VV,e),e}function Sq(){for(var t=Lt(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function wq(t){var e=Lt();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Cq(t){var e=Lt();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Eq(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function bq(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Eq(this.data[t]);return this.s<0?this.t*this.DB:-1}function xq(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Aq(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=xq(this.data[r]^e);return t}function kq(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function Iq(t,e){var r=we.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Tq(t){return this.changeBit(t,vI)}function Nq(t){return this.changeBit(t,VV)}function Rq(t){return this.changeBit(t,LV)}function Bq(t,e){for(var r=0,n=0,s=Math.min(t.t,this.t);r<s;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function _q(t){var e=Lt();return this.addTo(t,e),e}function Pq(t){var e=Lt();return this.subTo(t,e),e}function Oq(t){var e=Lt();return this.multiplyTo(t,e),e}function Lq(t){var e=Lt();return this.divRemTo(t,e,null),e}function Vq(t){var e=Lt();return this.divRemTo(t,null,e),e}function Dq(t){var e=Lt(),r=Lt();return this.divRemTo(t,e,r),new Array(e,r)}function Uq(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Mq(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function ny(){}function DV(t){return t}function $q(t,e,r){t.multiplyTo(e,r)}function Fq(t,e){t.squareTo(e)}ny.prototype.convert=DV;ny.prototype.revert=DV;ny.prototype.mulTo=$q;ny.prototype.sqrTo=Fq;function Hq(t){return this.exp(t,new ny)}function Kq(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var s;for(s=r.t-this.t;n<s;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(s=Math.min(t.t,e);n<s;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function jq(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function kp(t){this.r2=Lt(),this.q3=Lt(),we.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function zq(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=Lt();return t.copyTo(e),this.reduce(e),e}function Wq(t){return t}function Gq(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function qq(t,e){t.squareTo(e),this.reduce(e)}function Jq(t,e,r){t.multiplyTo(e,r),this.reduce(r)}kp.prototype.convert=zq;kp.prototype.revert=Wq;kp.prototype.reduce=Gq;kp.prototype.mulTo=Jq;kp.prototype.sqrTo=qq;function Yq(t,e){var r=t.bitLength(),n,s=Cl(1),i;if(r<=0)return s;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?i=new ff(e):e.isEven()?i=new kp(e):i=new hf(e);var a=new Array,o=3,l=n-1,u=(1<<n)-1;if(a[1]=i.convert(this),n>1){var c=Lt();for(i.sqrTo(a[1],c);o<=u;)a[o]=Lt(),i.mulTo(c,a[o-2],a[o]),o+=2}var f=t.t-1,h,p=!0,d=Lt(),m;for(r=zC(t.data[f])-1;f>=0;){for(r>=l?h=t.data[f]>>r-l&u:(h=(t.data[f]&(1<<r+1)-1)<<l-r,f>0&&(h|=t.data[f-1]>>this.DB+r-l)),o=n;!(h&1);)h>>=1,--o;if((r-=o)<0&&(r+=this.DB,--f),p)a[h].copyTo(s),p=!1;else{for(;o>1;)i.sqrTo(s,d),i.sqrTo(d,s),o-=2;o>0?i.sqrTo(s,d):(m=s,s=d,d=m),i.mulTo(d,a[h],s)}for(;f>=0&&!(t.data[f]&1<<r);)i.sqrTo(s,d),m=s,s=d,d=m,--r<0&&(r=this.DB-1,--f)}return i.revert(s)}function Qq(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var s=e.getLowestSetBit(),i=r.getLowestSetBit();if(i<0)return e;for(s<i&&(i=s),i>0&&(e.rShiftTo(i,e),r.rShiftTo(i,r));e.signum()>0;)(s=e.getLowestSetBit())>0&&e.rShiftTo(s,e),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return i>0&&r.lShiftTo(i,r),r}function Xq(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function Zq(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return we.ZERO;for(var r=t.clone(),n=this.clone(),s=Cl(1),i=Cl(0),a=Cl(0),o=Cl(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!s.isEven()||!i.isEven())&&(s.addTo(this,s),i.subTo(t,i)),s.rShiftTo(1,s)):i.isEven()||i.subTo(t,i),i.rShiftTo(1,i);for(;n.isEven();)n.rShiftTo(1,n),e?((!a.isEven()||!o.isEven())&&(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),e&&s.subTo(a,s),i.subTo(o,i)):(n.subTo(r,n),e&&a.subTo(s,a),o.subTo(i,o))}if(n.compareTo(we.ONE)!=0)return we.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var gi=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],eJ=(1<<26)/gi[gi.length-1];function tJ(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=gi[gi.length-1]){for(e=0;e<gi.length;++e)if(r.data[0]==gi[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<gi.length;){for(var n=gi[e],s=e+1;s<gi.length&&n<eJ;)n*=gi[s++];for(n=r.modInt(n);e<s;)if(n%gi[e++]==0)return!1}return r.millerRabin(t)}function rJ(t){var e=this.subtract(we.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),s=nJ(),i,a=0;a<t;++a){do i=new we(this.bitLength(),s);while(i.compareTo(we.ONE)<=0||i.compareTo(e)>=0);var o=i.modPow(n,this);if(o.compareTo(we.ONE)!=0&&o.compareTo(e)!=0){for(var l=1;l++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(we.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function nJ(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}we.prototype.chunkSize=sq;we.prototype.toRadix=aq;we.prototype.fromRadix=oq;we.prototype.fromNumber=lq;we.prototype.bitwiseTo=dq;we.prototype.changeBit=Iq;we.prototype.addTo=Bq;we.prototype.dMultiply=Uq;we.prototype.dAddOffset=Mq;we.prototype.multiplyLowerTo=Kq;we.prototype.multiplyUpperTo=jq;we.prototype.modInt=Xq;we.prototype.millerRabin=rJ;we.prototype.clone=eq;we.prototype.intValue=tq;we.prototype.byteValue=rq;we.prototype.shortValue=nq;we.prototype.signum=iq;we.prototype.toByteArray=uq;we.prototype.equals=cq;we.prototype.min=fq;we.prototype.max=hq;we.prototype.and=mq;we.prototype.or=gq;we.prototype.xor=vq;we.prototype.andNot=yq;we.prototype.not=Sq;we.prototype.shiftLeft=wq;we.prototype.shiftRight=Cq;we.prototype.getLowestSetBit=bq;we.prototype.bitCount=Aq;we.prototype.testBit=kq;we.prototype.setBit=Tq;we.prototype.clearBit=Nq;we.prototype.flipBit=Rq;we.prototype.add=_q;we.prototype.subtract=Pq;we.prototype.multiply=Oq;we.prototype.divide=Lq;we.prototype.remainder=Vq;we.prototype.divideAndRemainder=Dq;we.prototype.modPow=Yq;we.prototype.modInverse=Zq;we.prototype.pow=Hq;we.prototype.gcd=Qq;we.prototype.isProbablePrime=tJ;var Qi=pt,UV=Qi.sha1=Qi.sha1||{};Qi.md.sha1=Qi.md.algorithms.sha1=UV;UV.create=function(){MV||sJ();var t=null,e=Qi.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,i=0;i<s;++i)n.fullMessageLength.push(0);return e=Qi.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(s,i){i==="utf8"&&(s=Qi.util.encodeUtf8(s));var a=s.length;n.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=a[1],a[1]=a[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,a[0]=a[1]/4294967296>>>0;return e.putBytes(s),eB(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var s=Qi.util.createBuffer();s.putBytes(e.bytes());var i=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,a=i&n.blockLength-1;s.putBytes(AA.substr(0,n.blockLength-a));for(var o,l,u=n.fullMessageLength[0]*8,c=0;c<n.fullMessageLength.length-1;++c)o=n.fullMessageLength[c+1]*8,l=o/4294967296>>>0,u+=l,s.putInt32(u>>>0),u=o>>>0;s.putInt32(u);var f={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};eB(f,r,s);var h=Qi.util.createBuffer();return h.putInt32(f.h0),h.putInt32(f.h1),h.putInt32(f.h2),h.putInt32(f.h3),h.putInt32(f.h4),h},n};var AA=null,MV=!1;function sJ(){AA="",AA+=Qi.util.fillString("\0",64),MV=!0}function eB(t,e,r){for(var n,s,i,a,o,l,u,c,f=r.length();f>=64;){for(s=t.h0,i=t.h1,a=t.h2,o=t.h3,l=t.h4,c=0;c<16;++c)n=r.getInt32(),e[c]=n,u=o^i&(a^o),n=(s<<5|s>>>27)+u+l+1518500249+n,l=o,o=a,a=(i<<30|i>>>2)>>>0,i=s,s=n;for(;c<20;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,u=o^i&(a^o),n=(s<<5|s>>>27)+u+l+1518500249+n,l=o,o=a,a=(i<<30|i>>>2)>>>0,i=s,s=n;for(;c<32;++c)n=e[c-3]^e[c-8]^e[c-14]^e[c-16],n=n<<1|n>>>31,e[c]=n,u=i^a^o,n=(s<<5|s>>>27)+u+l+1859775393+n,l=o,o=a,a=(i<<30|i>>>2)>>>0,i=s,s=n;for(;c<40;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=i^a^o,n=(s<<5|s>>>27)+u+l+1859775393+n,l=o,o=a,a=(i<<30|i>>>2)>>>0,i=s,s=n;for(;c<60;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=i&a|o&(i^a),n=(s<<5|s>>>27)+u+l+2400959708+n,l=o,o=a,a=(i<<30|i>>>2)>>>0,i=s,s=n;for(;c<80;++c)n=e[c-6]^e[c-16]^e[c-28]^e[c-32],n=n<<2|n>>>30,e[c]=n,u=i^a^o,n=(s<<5|s>>>27)+u+l+3395469782+n,l=o,o=a,a=(i<<30|i>>>2)>>>0,i=s,s=n;t.h0=t.h0+s|0,t.h1=t.h1+i|0,t.h2=t.h2+a|0,t.h3=t.h3+o|0,t.h4=t.h4+l|0,f-=64}}var Zi=pt,$V=Zi.pkcs1=Zi.pkcs1||{};$V.encode_rsa_oaep=function(t,e,r){var n,s,i,a;typeof r=="string"?(n=r,s=arguments[3]||void 0,i=arguments[4]||void 0):r&&(n=r.label||void 0,s=r.seed||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md)),i?i.start():i=Zi.md.sha1.create(),a||(a=i);var o=Math.ceil(t.n.bitLength()/8),l=o-2*i.digestLength-2;if(e.length>l){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=e.length,u.maxLength=l,u}n||(n=""),i.update(n,"raw");for(var c=i.digest(),f="",h=l-e.length,p=0;p<h;p++)f+="\0";var d=c.getBytes()+f+""+e;if(!s)s=Zi.random.getBytes(i.digestLength);else if(s.length!==i.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=s.length,u.digestLength=i.digestLength,u}var m=nw(s,o-i.digestLength-1,a),S=Zi.util.xorBytes(d,m,d.length),g=nw(S,i.digestLength,a),v=Zi.util.xorBytes(s,g,s.length);return"\0"+v+S};$V.decode_rsa_oaep=function(t,e,r){var n,s,i;typeof r=="string"?(n=r,s=arguments[3]||void 0):r&&(n=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(i=r.mgf1.md));var a=Math.ceil(t.n.bitLength()/8);if(e.length!==a){var S=new Error("RSAES-OAEP encoded message length is invalid.");throw S.length=e.length,S.expectedLength=a,S}if(s===void 0?s=Zi.md.sha1.create():s.start(),i||(i=s),a<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),s.update(n,"raw");for(var o=s.digest().getBytes(),l=e.charAt(0),u=e.substring(1,s.digestLength+1),c=e.substring(1+s.digestLength),f=nw(c,s.digestLength,i),h=Zi.util.xorBytes(u,f,u.length),p=nw(h,a-s.digestLength-1,i),d=Zi.util.xorBytes(c,p,c.length),m=d.substring(0,s.digestLength),S=l!=="\0",g=0;g<s.digestLength;++g)S|=o.charAt(g)!==m.charAt(g);for(var v=1,y=s.digestLength,C=s.digestLength;C<d.length;C++){var E=d.charCodeAt(C),b=E&1^1,T=v?65534:0;S|=E&T,v=v&b,y+=v}if(S||d.charCodeAt(y)!==1)throw new Error("Invalid RSAES-OAEP padding.");return d.substring(y+1)};function nw(t,e,r){r||(r=Zi.md.sha1.create());for(var n="",s=Math.ceil(e/r.digestLength),i=0;i<s;++i){var a=String.fromCharCode(i>>24&255,i>>16&255,i>>8&255,i&255);r.start(),r.update(t+a),n+=r.digest().getBytes()}return n.substring(0,e)}var yo=pt;(function(){if(yo.prime){yo.prime;return}var t=yo.prime=yo.prime||{},e=yo.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var s=function(f,h){return f|h};t.generateProbablePrime=function(f,h,p){typeof h=="function"&&(p=h,h={}),h=h||{};var d=h.algorithm||"PRIMEINC";typeof d=="string"&&(d={name:d}),d.options=d.options||{};var m=h.prng||yo.random,S={nextBytes:function(g){for(var v=m.getBytesSync(g.length),y=0;y<g.length;++y)g[y]=v.charCodeAt(y)}};if(d.name==="PRIMEINC")return i(f,S,d.options,p);throw new Error("Invalid prime generation algorithm: "+d.name)};function i(f,h,p,d){return"workers"in p?l(f,h,p,d):a(f,h,p,d)}function a(f,h,p,d){var m=u(f,h),S=0,g=c(m.bitLength());"millerRabinTests"in p&&(g=p.millerRabinTests);var v=10;"maxBlockTime"in p&&(v=p.maxBlockTime),o(m,f,h,S,g,v,d)}function o(f,h,p,d,m,S,g){var v=+new Date;do{if(f.bitLength()>h&&(f=u(h,p)),f.isProbablePrime(m))return g(null,f);f.dAddOffset(r[d++%8],0)}while(S<0||+new Date-v<S);yo.util.setImmediate(function(){o(f,h,p,d,m,S,g)})}function l(f,h,p,d){if(typeof Worker>"u")return a(f,h,p,d);var m=u(f,h),S=p.workers,g=p.workLoad||100,v=g*30/8,y=p.workerScript||"forge/prime.worker.js";if(S===-1)return yo.util.estimateCores(function(E,b){E&&(b=2),S=b-1,C()});C();function C(){S=Math.max(1,S);for(var E=[],b=0;b<S;++b)E[b]=new Worker(y);for(var b=0;b<S;++b)E[b].addEventListener("message",O);var T=!1;function O(H){if(!T){var L=H.data;if(L.found){for(var Y=0;Y<E.length;++Y)E[Y].terminate();return T=!0,d(null,new e(L.prime,16))}m.bitLength()>f&&(m=u(f,h));var ne=m.toString(16);H.target.postMessage({hex:ne,workLoad:g}),m.dAddOffset(v,0)}}}}function u(f,h){var p=new e(f,h),d=f-1;return p.testBit(d)||p.bitwiseTo(e.ONE.shiftLeft(d),s,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}function c(f){return f<=100?27:f<=150?18:f<=200?15:f<=250?12:f<=300?9:f<=350?8:f<=400?7:f<=500?6:f<=600?5:f<=800?4:f<=1250?3:2}})();var Ge=pt;if(typeof _t>"u")var _t=Ge.jsbn.BigInteger;var kA=Ge.util.isNodejs?mI:null,te=Ge.asn1,Xs=Ge.util;Ge.pki=Ge.pki||{};Ge.pki.rsa=Ge.rsa=Ge.rsa||{};var it=Ge.pki,iJ=[6,4,2,4,2,4,6,2],aJ={name:"PrivateKeyInfo",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:te.Class.UNIVERSAL,type:te.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:te.Class.UNIVERSAL,type:te.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},oJ={name:"RSAPrivateKey",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},lJ={name:"RSAPublicKey",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:te.Class.UNIVERSAL,type:te.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},uJ=Ge.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:te.Class.UNIVERSAL,type:te.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:te.Class.UNIVERSAL,type:te.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},cJ={name:"DigestInfo",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:te.Class.UNIVERSAL,type:te.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:te.Class.UNIVERSAL,type:te.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:te.Class.UNIVERSAL,type:te.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:te.Class.UNIVERSAL,type:te.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},fJ=function(t){var e;if(t.algorithm in it.oids)e=it.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=te.oidToDer(e).getBytes(),s=te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[]),i=te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[]);i.value.push(te.create(te.Class.UNIVERSAL,te.Type.OID,!1,n)),i.value.push(te.create(te.Class.UNIVERSAL,te.Type.NULL,!1,""));var a=te.create(te.Class.UNIVERSAL,te.Type.OCTETSTRING,!1,t.digest().getBytes());return s.value.push(i),s.value.push(a),te.toDer(s).getBytes()},FV=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(_t.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(_t.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new _t(Ge.util.bytesToHex(Ge.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(_t.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var s=t.mod(e.p).modPow(e.dP,e.p),i=t.mod(e.q).modPow(e.dQ,e.q);s.compareTo(i)<0;)s=s.add(e.p);var a=s.subtract(i).multiply(e.qInv).mod(e.p).multiply(e.q).add(i);return a=a.multiply(n.modInverse(e.n)).mod(e.n),a};it.rsa.encrypt=function(t,e,r){var n=r,s,i=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,s=HV(t,e,r)):(s=Ge.util.createBuffer(),s.putBytes(t));for(var a=new _t(s.toHex(),16),o=FV(a,e,n),l=o.toString(16),u=Ge.util.createBuffer(),c=i-Math.ceil(l.length/2);c>0;)u.putByte(0),--c;return u.putBytes(Ge.util.hexToBytes(l)),u.getBytes()};it.rsa.decrypt=function(t,e,r,n){var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s){var i=new Error("Encrypted message length is invalid.");throw i.length=t.length,i.expected=s,i}var a=new _t(Ge.util.createBuffer(t).toHex(),16);if(a.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=FV(a,e,r),l=o.toString(16),u=Ge.util.createBuffer(),c=s-Math.ceil(l.length/2);c>0;)u.putByte(0),--c;return u.putBytes(Ge.util.hexToBytes(l)),n!==!1?sw(u.getBytes(),e,r):u.getBytes()};it.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||Ge.random,s={nextBytes:function(o){for(var l=n.getBytesSync(o.length),u=0;u<o.length;++u)o[u]=l.charCodeAt(u)}},i=r.algorithm||"PRIMEINC",a;if(i==="PRIMEINC")a={algorithm:i,state:0,bits:t,rng:s,eInt:e||65537,e:new _t(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},a.e.fromInt(a.eInt);else throw new Error("Invalid key generation algorithm: "+i);return a};it.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new _t(null);r.fromInt(30);for(var n=0,s=function(f,h){return f|h},i=+new Date,a,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var l=t.p===null?t.pBits:t.qBits,u=l-1;t.pqState===0?(t.num=new _t(l,t.rng),t.num.testBit(u)||t.num.bitwiseTo(_t.ONE.shiftLeft(u),s,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>l?t.pqState=0:t.num.isProbablePrime(dJ(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(iJ[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(_t.ONE).gcd(t.e).compareTo(_t.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(_t.ONE),t.q1=t.q.subtract(_t.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(_t.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var c=t.e.modInverse(t.phi);t.keys={privateKey:it.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:it.rsa.setPublicKey(t.n,t.e)}}a=+new Date,o+=a-i,i=a}return t.keys!==null};it.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!Ge.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(tB("generateKeyPair"))return kA.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,l,u){if(o)return n(o);n(null,{privateKey:it.privateKeyFromPem(u),publicKey:it.publicKeyFromPem(l)})});if(rB("generateKey")&&rB("exportKey"))return Xs.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:sB(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return Xs.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){n(o)}).then(function(o){if(o){var l=it.privateKeyFromAsn1(te.fromDer(Ge.util.createBuffer(o)));n(null,{privateKey:l,publicKey:it.setRsaPublicKey(l.n,l.e)})}});if(nB("generateKey")&&nB("exportKey")){var s=Xs.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:sB(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);s.oncomplete=function(o){var l=o.target.result,u=Xs.globalScope.msCrypto.subtle.exportKey("pkcs8",l.privateKey);u.oncomplete=function(c){var f=c.target.result,h=it.privateKeyFromAsn1(te.fromDer(Ge.util.createBuffer(f)));n(null,{privateKey:h,publicKey:it.setRsaPublicKey(h.n,h.e)})},u.onerror=function(c){n(c)}},s.onerror=function(o){n(o)};return}}else if(tB("generateKeyPairSync")){var i=kA.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:it.privateKeyFromPem(i.privateKey),publicKey:it.publicKeyFromPem(i.publicKey)}}}var a=it.rsa.createKeyPairGenerationState(t,e,r);if(!n)return it.rsa.stepKeyPairGenerationState(a,0),a.keys;hJ(a,r,n)};it.setRsaPublicKey=it.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,s,i){if(typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSAES-PKCS1-V1_5"),s==="RSAES-PKCS1-V1_5")s={encode:function(o,l,u){return HV(o,l,2).getBytes()}};else if(s==="RSA-OAEP"||s==="RSAES-OAEP")s={encode:function(o,l){return Ge.pkcs1.encode_rsa_oaep(l,o,i)}};else if(["RAW","NONE","NULL",null].indexOf(s)!==-1)s={encode:function(o){return o}};else if(typeof s=="string")throw new Error('Unsupported encryption scheme: "'+s+'".');var a=s.encode(n,r,!0);return it.rsa.encrypt(a,r,!0)},r.verify=function(n,s,i,a){typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSASSA-PKCS1-V1_5"),a===void 0&&(a={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in a||(a._parseAllDigestBytes=!0),i==="RSASSA-PKCS1-V1_5"?i={verify:function(l,u){u=sw(u,r,!0);var c=te.fromDer(u,{parseAllBytes:a._parseAllDigestBytes}),f={},h=[];if(!te.validate(c,cJ,f,h)){var p=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw p.errors=h,p}var d=te.derToOid(f.algorithmIdentifier);if(!(d===Ge.oids.md2||d===Ge.oids.md5||d===Ge.oids.sha1||d===Ge.oids.sha224||d===Ge.oids.sha256||d===Ge.oids.sha384||d===Ge.oids.sha512||d===Ge.oids["sha512-224"]||d===Ge.oids["sha512-256"])){var p=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw p.oid=d,p}if((d===Ge.oids.md2||d===Ge.oids.md5)&&!("parameters"in f))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return l===f.digest}}:(i==="NONE"||i==="NULL"||i===null)&&(i={verify:function(l,u){return u=sw(u,r,!0),l===u}});var o=it.rsa.decrypt(s,r,!0,!1);return i.verify(n,o,r.n.bitLength())},r};it.setRsaPrivateKey=it.rsa.setPrivateKey=function(t,e,r,n,s,i,a,o){var l={n:t,e,d:r,p:n,q:s,dP:i,dQ:a,qInv:o};return l.decrypt=function(u,c,f){typeof c=="string"?c=c.toUpperCase():c===void 0&&(c="RSAES-PKCS1-V1_5");var h=it.rsa.decrypt(u,l,!1,!1);if(c==="RSAES-PKCS1-V1_5")c={decode:sw};else if(c==="RSA-OAEP"||c==="RSAES-OAEP")c={decode:function(p,d){return Ge.pkcs1.decode_rsa_oaep(d,p,f)}};else if(["RAW","NONE","NULL",null].indexOf(c)!==-1)c={decode:function(p){return p}};else throw new Error('Unsupported encryption scheme: "'+c+'".');return c.decode(h,l,!1)},l.sign=function(u,c){var f=!1;typeof c=="string"&&(c=c.toUpperCase()),c===void 0||c==="RSASSA-PKCS1-V1_5"?(c={encode:fJ},f=1):(c==="NONE"||c==="NULL"||c===null)&&(c={encode:function(){return u}},f=1);var h=c.encode(u,l.n.bitLength());return it.rsa.encrypt(h,l,f)},l};it.wrapRsaPrivateKey=function(t){return te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,te.integerToDer(0).getBytes()),te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.OID,!1,te.oidToDer(it.oids.rsaEncryption).getBytes()),te.create(te.Class.UNIVERSAL,te.Type.NULL,!1,"")]),te.create(te.Class.UNIVERSAL,te.Type.OCTETSTRING,!1,te.toDer(t).getBytes())])};it.privateKeyFromAsn1=function(t){var e={},r=[];if(te.validate(t,aJ,e,r)&&(t=te.fromDer(Ge.util.createBuffer(e.privateKey))),e={},r=[],!te.validate(t,oJ,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var s,i,a,o,l,u,c,f;return s=Ge.util.createBuffer(e.privateKeyModulus).toHex(),i=Ge.util.createBuffer(e.privateKeyPublicExponent).toHex(),a=Ge.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=Ge.util.createBuffer(e.privateKeyPrime1).toHex(),l=Ge.util.createBuffer(e.privateKeyPrime2).toHex(),u=Ge.util.createBuffer(e.privateKeyExponent1).toHex(),c=Ge.util.createBuffer(e.privateKeyExponent2).toHex(),f=Ge.util.createBuffer(e.privateKeyCoefficient).toHex(),it.setRsaPrivateKey(new _t(s,16),new _t(i,16),new _t(a,16),new _t(o,16),new _t(l,16),new _t(u,16),new _t(c,16),new _t(f,16))};it.privateKeyToAsn1=it.privateKeyToRSAPrivateKey=function(t){return te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,te.integerToDer(0).getBytes()),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.n)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.e)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.d)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.p)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.q)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.dP)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.dQ)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.qInv))])};it.publicKeyFromAsn1=function(t){var e={},r=[];if(te.validate(t,uJ,e,r)){var n=te.derToOid(e.publicKeyOid);if(n!==it.oids.rsaEncryption){var s=new Error("Cannot read public key. Unknown OID.");throw s.oid=n,s}t=e.rsaPublicKey}if(r=[],!te.validate(t,lJ,e,r)){var s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var i=Ge.util.createBuffer(e.publicKeyModulus).toHex(),a=Ge.util.createBuffer(e.publicKeyExponent).toHex();return it.setRsaPublicKey(new _t(i,16),new _t(a,16))};it.publicKeyToAsn1=it.publicKeyToSubjectPublicKeyInfo=function(t){return te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.OID,!1,te.oidToDer(it.oids.rsaEncryption).getBytes()),te.create(te.Class.UNIVERSAL,te.Type.NULL,!1,"")]),te.create(te.Class.UNIVERSAL,te.Type.BITSTRING,!1,[it.publicKeyToRSAPublicKey(t)])])};it.publicKeyToRSAPublicKey=function(t){return te.create(te.Class.UNIVERSAL,te.Type.SEQUENCE,!0,[te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.n)),te.create(te.Class.UNIVERSAL,te.Type.INTEGER,!1,Fi(t.e))])};function HV(t,e,r){var n=Ge.util.createBuffer(),s=Math.ceil(e.n.bitLength()/8);if(t.length>s-11){var i=new Error("Message is too long for PKCS#1 v1.5 padding.");throw i.length=t.length,i.max=s-11,i}n.putByte(0),n.putByte(r);var a=s-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var l=0;l<a;++l)n.putByte(o)}else for(;a>0;){for(var u=0,c=Ge.random.getBytes(a),l=0;l<a;++l)o=c.charCodeAt(l),o===0?++u:n.putByte(o);a=u}return n.putByte(0),n.putBytes(t),n}function sw(t,e,r,n){var s=Math.ceil(e.n.bitLength()/8),i=Ge.util.createBuffer(t),a=i.getByte(),o=i.getByte();if(a!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var l=0;if(o===0){l=s-3-n;for(var u=0;u<l;++u)if(i.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(l=0;i.length()>1;){if(i.getByte()!==255){--i.read;break}++l}else if(o===2)for(l=0;i.length()>1;){if(i.getByte()===0){--i.read;break}++l}var c=i.getByte();if(c!==0||l!==s-3-i.length())throw new Error("Encryption block is invalid.");return i.getBytes()}function hJ(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),s();function s(){i(t.pBits,function(o,l){if(o)return r(o);if(t.p=l,t.q!==null)return a(o,t.q);i(t.qBits,a)})}function i(o,l){Ge.prime.generateProbablePrime(o,n,l)}function a(o,l){if(o)return r(o);if(t.q=l,t.p.compareTo(t.q)<0){var u=t.p;t.p=t.q,t.q=u}if(t.p.subtract(_t.ONE).gcd(t.e).compareTo(_t.ONE)!==0){t.p=null,s();return}if(t.q.subtract(_t.ONE).gcd(t.e).compareTo(_t.ONE)!==0){t.q=null,i(t.qBits,a);return}if(t.p1=t.p.subtract(_t.ONE),t.q1=t.q.subtract(_t.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(_t.ONE)!==0){t.p=t.q=null,s();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,i(t.qBits,a);return}var c=t.e.modInverse(t.phi);t.keys={privateKey:it.rsa.setPrivateKey(t.n,t.e,c,t.p,t.q,c.mod(t.p1),c.mod(t.q1),t.q.modInverse(t.p)),publicKey:it.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function Fi(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=Ge.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function dJ(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function tB(t){return Ge.util.isNodejs&&typeof kA[t]=="function"}function rB(t){return typeof Xs.globalScope<"u"&&typeof Xs.globalScope.crypto=="object"&&typeof Xs.globalScope.crypto.subtle=="object"&&typeof Xs.globalScope.crypto.subtle[t]=="function"}function nB(t){return typeof Xs.globalScope<"u"&&typeof Xs.globalScope.msCrypto=="object"&&typeof Xs.globalScope.msCrypto.subtle=="object"&&typeof Xs.globalScope.msCrypto.subtle[t]=="function"}function sB(t){for(var e=Ge.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}var Le=pt;if(typeof pJ>"u")var pJ=Le.jsbn.BigInteger;var ue=Le.asn1,ft=Le.pki=Le.pki||{};ft.pbe=Le.pbe=Le.pbe||{};var au=ft.oids,mJ={name:"EncryptedPrivateKeyInfo",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},gJ={name:"PBES2Algorithms",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:ue.Class.UNIVERSAL,type:ue.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:ue.Class.UNIVERSAL,type:ue.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},vJ={name:"pkcs-12PbeParams",tagClass:ue.Class.UNIVERSAL,type:ue.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:ue.Class.UNIVERSAL,type:ue.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:ue.Class.UNIVERSAL,type:ue.Type.INTEGER,constructed:!1,capture:"iterations"}]};ft.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=Le.random.getBytesSync(r.saltSize),s=r.count,i=ue.integerToDer(s),a,o,l;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var u,c,f;switch(r.algorithm){case"aes128":a=16,u=16,c=au["aes128-CBC"],f=Le.aes.createEncryptionCipher;break;case"aes192":a=24,u=16,c=au["aes192-CBC"],f=Le.aes.createEncryptionCipher;break;case"aes256":a=32,u=16,c=au["aes256-CBC"],f=Le.aes.createEncryptionCipher;break;case"des":a=8,u=8,c=au.desCBC,f=Le.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var p="hmacWith"+r.prfAlgorithm.toUpperCase(),d=jV(p),m=Le.pkcs5.pbkdf2(e,n,s,a,d),S=Le.random.getBytesSync(u),g=f(m);g.start(S),g.update(ue.toDer(t)),g.finish(),l=g.output.getBytes();var v=yJ(n,i,a,p);o=ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(au.pkcs5PBES2).getBytes()),ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(au.pkcs5PBKDF2).getBytes()),v]),ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(c).getBytes()),ue.create(ue.Class.UNIVERSAL,ue.Type.OCTETSTRING,!1,S)])])])}else if(r.algorithm==="3des"){a=24;var y=new Le.util.ByteBuffer(n),m=ft.pbe.generatePkcs12Key(e,y,1,s,a),S=ft.pbe.generatePkcs12Key(e,y,2,s,a),g=Le.des.createEncryptionCipher(m);g.start(S),g.update(ue.toDer(t)),g.finish(),l=g.output.getBytes(),o=ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(au["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OCTETSTRING,!1,n),ue.create(ue.Class.UNIVERSAL,ue.Type.INTEGER,!1,i.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var C=ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[o,ue.create(ue.Class.UNIVERSAL,ue.Type.OCTETSTRING,!1,l)]);return C};ft.decryptPrivateKeyInfo=function(t,e){var r=null,n={},s=[];if(!ue.validate(t,mJ,n,s)){var i=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw i.errors=s,i}var a=ue.derToOid(n.encryptionOid),o=ft.pbe.getCipher(a,n.encryptionParams,e),l=Le.util.createBuffer(n.encryptedData);return o.update(l),o.finish()&&(r=ue.fromDer(o.output)),r};ft.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:ue.toDer(t).getBytes()};return Le.pem.encode(r,{maxline:e})};ft.encryptedPrivateKeyFromPem=function(t){var e=Le.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return ue.fromDer(e.body)};ft.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=ft.wrapRsaPrivateKey(ft.privateKeyToAsn1(t));return n=ft.encryptPrivateKeyInfo(n,e,r),ft.encryptedPrivateKeyToPem(n)}var s,i,a,o;switch(r.algorithm){case"aes128":s="AES-128-CBC",a=16,i=Le.random.getBytesSync(16),o=Le.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",a=24,i=Le.random.getBytesSync(16),o=Le.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",a=32,i=Le.random.getBytesSync(16),o=Le.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",a=24,i=Le.random.getBytesSync(8),o=Le.des.createEncryptionCipher;break;case"des":s="DES-CBC",a=8,i=Le.random.getBytesSync(8),o=Le.des.createEncryptionCipher;break;default:var l=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw l.algorithm=r.algorithm,l}var u=Le.pbe.opensslDeriveBytes(e,i.substr(0,8),a),c=o(u);c.start(i),c.update(ue.toDer(ft.privateKeyToAsn1(t))),c.finish();var f={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:Le.util.bytesToHex(i).toUpperCase()},body:c.output.getBytes()};return Le.pem.encode(f)};ft.decryptRsaPrivateKey=function(t,e){var r=null,n=Le.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(n.procType&&n.procType.type==="ENCRYPTED"){var i,a;switch(n.dekInfo.algorithm){case"DES-CBC":i=8,a=Le.des.createDecryptionCipher;break;case"DES-EDE3-CBC":i=24,a=Le.des.createDecryptionCipher;break;case"AES-128-CBC":i=16,a=Le.aes.createDecryptionCipher;break;case"AES-192-CBC":i=24,a=Le.aes.createDecryptionCipher;break;case"AES-256-CBC":i=32,a=Le.aes.createDecryptionCipher;break;case"RC2-40-CBC":i=5,a=function(f){return Le.rc2.createDecryptionCipher(f,40)};break;case"RC2-64-CBC":i=8,a=function(f){return Le.rc2.createDecryptionCipher(f,64)};break;case"RC2-128-CBC":i=16,a=function(f){return Le.rc2.createDecryptionCipher(f,128)};break;default:var s=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw s.algorithm=n.dekInfo.algorithm,s}var o=Le.util.hexToBytes(n.dekInfo.parameters),l=Le.pbe.opensslDeriveBytes(e,o.substr(0,8),i),u=a(l);if(u.start(o),u.update(Le.util.createBuffer(n.body)),u.finish())r=u.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=ft.decryptPrivateKeyInfo(ue.fromDer(r),e):r=ue.fromDer(r),r!==null&&(r=ft.privateKeyFromAsn1(r)),r};ft.pbe.generatePkcs12Key=function(t,e,r,n,s,i){var a,o;if(typeof i>"u"||i===null){if(!("sha1"in Le.md))throw new Error('"sha1" hash algorithm unavailable.');i=Le.md.sha1.create()}var l=i.digestLength,u=i.blockLength,c=new Le.util.ByteBuffer,f=new Le.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)f.putInt16(t.charCodeAt(o));f.putInt16(0)}var h=f.length(),p=e.length(),d=new Le.util.ByteBuffer;d.fillWithByte(r,u);var m=u*Math.ceil(p/u),S=new Le.util.ByteBuffer;for(o=0;o<m;o++)S.putByte(e.at(o%p));var g=u*Math.ceil(h/u),v=new Le.util.ByteBuffer;for(o=0;o<g;o++)v.putByte(f.at(o%h));var y=S;y.putBuffer(v);for(var C=Math.ceil(s/l),E=1;E<=C;E++){var b=new Le.util.ByteBuffer;b.putBytes(d.bytes()),b.putBytes(y.bytes());for(var T=0;T<n;T++)i.start(),i.update(b.getBytes()),b=i.digest();var O=new Le.util.ByteBuffer;for(o=0;o<u;o++)O.putByte(b.at(o%l));var H=Math.ceil(p/u)+Math.ceil(h/u),L=new Le.util.ByteBuffer;for(a=0;a<H;a++){var Y=new Le.util.ByteBuffer(y.getBytes(u)),ne=511;for(o=O.length()-1;o>=0;o--)ne=ne>>8,ne+=O.at(o)+Y.at(o),Y.setAt(o,ne&255);L.putBuffer(Y)}y=L,c.putBuffer(b)}return c.truncate(c.length()-s),c};ft.pbe.getCipher=function(t,e,r){switch(t){case ft.oids.pkcs5PBES2:return ft.pbe.getCipherForPBES2(t,e,r);case ft.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case ft.oids["pbewithSHAAnd40BitRC2-CBC"]:return ft.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};ft.pbe.getCipherForPBES2=function(t,e,r){var n={},s=[];if(!ue.validate(e,gJ,n,s)){var i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw i.errors=s,i}if(t=ue.derToOid(n.kdfOid),t!==ft.oids.pkcs5PBKDF2){var i=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw i.oid=t,i.supportedOids=["pkcs5PBKDF2"],i}if(t=ue.derToOid(n.encOid),t!==ft.oids["aes128-CBC"]&&t!==ft.oids["aes192-CBC"]&&t!==ft.oids["aes256-CBC"]&&t!==ft.oids["des-EDE3-CBC"]&&t!==ft.oids.desCBC){var i=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw i.oid=t,i.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],i}var a=n.kdfSalt,o=Le.util.createBuffer(n.kdfIterationCount);o=o.getInt(o.length()<<3);var l,u;switch(ft.oids[t]){case"aes128-CBC":l=16,u=Le.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,u=Le.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,u=Le.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,u=Le.des.createDecryptionCipher;break;case"desCBC":l=8,u=Le.des.createDecryptionCipher;break}var c=KV(n.prfOid),f=Le.pkcs5.pbkdf2(r,a,o,l,c),h=n.encIv,p=u(f);return p.start(h),p};ft.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},s=[];if(!ue.validate(e,vJ,n,s)){var i=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw i.errors=s,i}var a=Le.util.createBuffer(n.salt),o=Le.util.createBuffer(n.iterations);o=o.getInt(o.length()<<3);var l,u,c;switch(t){case ft.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:l=24,u=8,c=Le.des.startDecrypting;break;case ft.oids["pbewithSHAAnd40BitRC2-CBC"]:l=5,u=8,c=function(m,S){var g=Le.rc2.createDecryptionCipher(m,40);return g.start(S,null),g};break;default:var i=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw i.oid=t,i}var f=KV(n.prfOid),h=ft.pbe.generatePkcs12Key(r,a,1,o,l,f);f.start();var p=ft.pbe.generatePkcs12Key(r,a,2,o,u,f);return c(h,p)};ft.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in Le.md))throw new Error('"md5" hash algorithm unavailable.');n=Le.md.md5.create()}e===null&&(e="");for(var s=[iB(n,t+e)],i=16,a=1;i<r;++a,i+=16)s.push(iB(n,s[a-1]+t+e));return s.join("").substr(0,r)};function iB(t,e){return t.start().update(e).digest().getBytes()}function KV(t){var e;if(!t)e="hmacWithSHA1";else if(e=ft.oids[ue.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return jV(e)}function jV(t){var e=Le.md;switch(t){case"hmacWithSHA224":e=Le.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function yJ(t,e,r,n){var s=ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OCTETSTRING,!1,t),ue.create(ue.Class.UNIVERSAL,ue.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&s.value.push(ue.create(ue.Class.UNIVERSAL,ue.Type.INTEGER,!1,Le.util.hexToBytes(r.toString(16))),ue.create(ue.Class.UNIVERSAL,ue.Type.SEQUENCE,!0,[ue.create(ue.Class.UNIVERSAL,ue.Type.OID,!1,ue.oidToDer(ft.oids[n]).getBytes()),ue.create(ue.Class.UNIVERSAL,ue.Type.NULL,!1,"")])),s}var np=pt,_e=np.asn1,Ip=np.pkcs7asn1=np.pkcs7asn1||{};np.pkcs7=np.pkcs7||{};np.pkcs7.asn1=Ip;var zV={name:"ContentInfo",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:_e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};Ip.contentInfoValidator=zV;var WV={name:"EncryptedContentInfo",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:_e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:_e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};Ip.envelopedDataValidator={name:"EnvelopedData",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(WV)};Ip.encryptedDataValidator={name:"EncryptedData",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"version"}].concat(WV)};var SJ={name:"SignerInfo",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:_e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:_e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:_e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};Ip.signedDataValidator={name:"SignedData",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},zV,{name:"SignedData.Certificates",tagClass:_e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:_e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SET,capture:"signerInfos",optional:!0,value:[SJ]}]};Ip.recipientInfoValidator={name:"RecipientInfo",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:_e.Class.UNIVERSAL,type:_e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:_e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:_e.Class.UNIVERSAL,type:_e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]};var Vc=pt;Vc.mgf=Vc.mgf||{};var wJ=Vc.mgf.mgf1=Vc.mgf1=Vc.mgf1||{};wJ.create=function(t){var e={generate:function(r,n){for(var s=new Vc.util.ByteBuffer,i=Math.ceil(n/t.digestLength),a=0;a<i;a++){var o=new Vc.util.ByteBuffer;o.putInt32(a),t.start(),t.update(r+o.getBytes()),s.putBuffer(t.digest())}return s.truncate(s.length()-n),s.getBytes()}};return e};var iw=pt;iw.mgf=iw.mgf||{};iw.mgf.mgf1=iw.mgf1;var mc=pt,CJ=mc.pss=mc.pss||{};CJ.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=t.md,r=t.mgf,n=e.digestLength,s=t.salt||null;typeof s=="string"&&(s=mc.util.createBuffer(s));var i;if("saltLength"in t)i=t.saltLength;else if(s!==null)i=s.length();else throw new Error("Salt length not specified or specific salt not given.");if(s!==null&&s.length()!==i)throw new Error("Given salt length does not match length of given salt.");var a=t.prng||mc.random,o={};return o.encode=function(l,u){var c,f=u-1,h=Math.ceil(f/8),p=l.digest().getBytes();if(h<n+i+2)throw new Error("Message is too long to encrypt.");var d;s===null?d=a.getBytesSync(i):d=s.bytes();var m=new mc.util.ByteBuffer;m.fillWithByte(0,8),m.putBytes(p),m.putBytes(d),e.start(),e.update(m.getBytes());var S=e.digest().getBytes(),g=new mc.util.ByteBuffer;g.fillWithByte(0,h-i-n-2),g.putByte(1),g.putBytes(d);var v=g.getBytes(),y=h-n-1,C=r.generate(S,y),E="";for(c=0;c<y;c++)E+=String.fromCharCode(v.charCodeAt(c)^C.charCodeAt(c));var b=65280>>8*h-f&255;return E=String.fromCharCode(E.charCodeAt(0)&~b)+E.substr(1),E+S+"¼"},o.verify=function(l,u,c){var f,h=c-1,p=Math.ceil(h/8);if(u=u.substr(-p),p<n+i+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var d=p-n-1,m=u.substr(0,d),S=u.substr(d,n),g=65280>>8*p-h&255;if(m.charCodeAt(0)&g)throw new Error("Bits beyond keysize not zero as expected.");var v=r.generate(S,d),y="";for(f=0;f<d;f++)y+=String.fromCharCode(m.charCodeAt(f)^v.charCodeAt(f));y=String.fromCharCode(y.charCodeAt(0)&~g)+y.substr(1);var C=p-n-i-2;for(f=0;f<C;f++)if(y.charCodeAt(f)!==0)throw new Error("Leftmost octets not zero as expected");if(y.charCodeAt(C)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var E=y.substr(-i),b=new mc.util.ByteBuffer;b.fillWithByte(0,8),b.putBytes(l),b.putBytes(E),e.start(),e.update(b.getBytes());var T=e.digest().getBytes();return S===T},o};var Je=pt,x=Je.asn1,ke=Je.pki=Je.pki||{},It=ke.oids,Lr={};Lr.CN=It.commonName;Lr.commonName="CN";Lr.C=It.countryName;Lr.countryName="C";Lr.L=It.localityName;Lr.localityName="L";Lr.ST=It.stateOrProvinceName;Lr.stateOrProvinceName="ST";Lr.O=It.organizationName;Lr.organizationName="O";Lr.OU=It.organizationalUnitName;Lr.organizationalUnitName="OU";Lr.E=It.emailAddress;Lr.emailAddress="E";var GV=Je.pki.rsa.publicKeyValidator,EJ={name:"Certificate",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:x.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:x.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:x.Class.UNIVERSAL,type:x.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:x.Class.UNIVERSAL,type:x.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:x.Class.UNIVERSAL,type:x.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:x.Class.UNIVERSAL,type:x.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},GV,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:x.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:x.Class.UNIVERSAL,type:x.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:x.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:x.Class.UNIVERSAL,type:x.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:x.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:x.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:x.Class.UNIVERSAL,type:x.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},bJ={name:"rsapss",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:x.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:x.Class.UNIVERSAL,type:x.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:x.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:x.Class.UNIVERSAL,type:x.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:x.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:x.Class.UNIVERSAL,type:x.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:x.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:x.Class.UNIVERSAL,type:x.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},xJ={name:"CertificationRequestInfo",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:x.Class.UNIVERSAL,type:x.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},GV,{name:"CertificationRequestInfo.attributes",tagClass:x.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:x.Class.UNIVERSAL,type:x.Type.SET,constructed:!0}]}]}]},AJ={name:"CertificationRequest",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[xJ,{name:"CertificationRequest.signatureAlgorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:x.Class.UNIVERSAL,type:x.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:x.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:x.Class.UNIVERSAL,type:x.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};ke.RDNAttributesAsArray=function(t,e){for(var r=[],n,s,i,a=0;a<t.value.length;++a){n=t.value[a];for(var o=0;o<n.value.length;++o)i={},s=n.value[o],i.type=x.derToOid(s.value[0].value),i.value=s.value[1].value,i.valueTagClass=s.value[1].type,i.type in It&&(i.name=It[i.type],i.name in Lr&&(i.shortName=Lr[i.name])),e&&(e.update(i.type),e.update(i.value)),r.push(i)}return r};ke.CRIAttributesAsArray=function(t){for(var e=[],r=0;r<t.length;++r)for(var n=t[r],s=x.derToOid(n.value[0].value),i=n.value[1].value,a=0;a<i.length;++a){var o={};if(o.type=s,o.value=i[a].value,o.valueTagClass=i[a].type,o.type in It&&(o.name=It[o.type],o.name in Lr&&(o.shortName=Lr[o.name])),o.type===It.extensionRequest){o.extensions=[];for(var l=0;l<o.value.length;++l)o.extensions.push(ke.certificateExtensionFromAsn1(o.value[l]))}e.push(o)}return e};function ql(t,e){typeof e=="string"&&(e={shortName:e});for(var r=null,n,s=0;r===null&&s<t.attributes.length;++s)n=t.attributes[s],(e.type&&e.type===n.type||e.name&&e.name===n.name||e.shortName&&e.shortName===n.shortName)&&(r=n);return r}var aw=function(t,e,r){var n={};if(t!==It["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:It.sha1},mgf:{algorithmOid:It.mgf1,hash:{algorithmOid:It.sha1}},saltLength:20});var s={},i=[];if(!x.validate(e,bJ,s,i)){var a=new Error("Cannot read RSASSA-PSS parameter block.");throw a.errors=i,a}return s.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=x.derToOid(s.hashOid)),s.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=x.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=x.derToOid(s.maskGenHashOid)),s.saltLength!==void 0&&(n.saltLength=s.saltLength.charCodeAt(0)),n},WC=function(t){switch(It[t.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return Je.md.sha1.create();case"md5WithRSAEncryption":return Je.md.md5.create();case"sha256WithRSAEncryption":return Je.md.sha256.create();case"sha384WithRSAEncryption":return Je.md.sha384.create();case"sha512WithRSAEncryption":return Je.md.sha512.create();case"RSASSA-PSS":return Je.md.sha256.create();default:var e=new Error("Could not compute "+t.type+" digest. Unknown signature OID.");throw e.signatureOid=t.signatureOid,e}},qV=function(t){var e=t.certificate,r;switch(e.signatureOid){case It.sha1WithRSAEncryption:case It.sha1WithRSASignature:break;case It["RSASSA-PSS"]:var n,s;if(n=It[e.signatureParameters.mgf.hash.algorithmOid],n===void 0||Je.md[n]===void 0){var i=new Error("Unsupported MGF hash function.");throw i.oid=e.signatureParameters.mgf.hash.algorithmOid,i.name=n,i}if(s=It[e.signatureParameters.mgf.algorithmOid],s===void 0||Je.mgf[s]===void 0){var i=new Error("Unsupported MGF function.");throw i.oid=e.signatureParameters.mgf.algorithmOid,i.name=s,i}if(s=Je.mgf[s].create(Je.md[n].create()),n=It[e.signatureParameters.hash.algorithmOid],n===void 0||Je.md[n]===void 0){var i=new Error("Unsupported RSASSA-PSS hash function.");throw i.oid=e.signatureParameters.hash.algorithmOid,i.name=n,i}r=Je.pss.create(Je.md[n].create(),s,e.signatureParameters.saltLength);break}return e.publicKey.verify(t.md.digest().getBytes(),t.signature,r)};ke.certificateFromPem=function(t,e,r){var n=Je.pem.decode(t)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var i=x.fromDer(n.body,r);return ke.certificateFromAsn1(i,e)};ke.certificateToPem=function(t,e){var r={type:"CERTIFICATE",body:x.toDer(ke.certificateToAsn1(t)).getBytes()};return Je.pem.encode(r,{maxline:e})};ke.publicKeyFromPem=function(t){var e=Je.pem.decode(t)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=x.fromDer(e.body);return ke.publicKeyFromAsn1(n)};ke.publicKeyToPem=function(t,e){var r={type:"PUBLIC KEY",body:x.toDer(ke.publicKeyToAsn1(t)).getBytes()};return Je.pem.encode(r,{maxline:e})};ke.publicKeyToRSAPublicKeyPem=function(t,e){var r={type:"RSA PUBLIC KEY",body:x.toDer(ke.publicKeyToRSAPublicKey(t)).getBytes()};return Je.pem.encode(r,{maxline:e})};ke.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||Je.md.sha1.create(),n=e.type||"RSAPublicKey",s;switch(n){case"RSAPublicKey":s=x.toDer(ke.publicKeyToRSAPublicKey(t)).getBytes();break;case"SubjectPublicKeyInfo":s=x.toDer(ke.publicKeyToAsn1(t)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}r.start(),r.update(s);var i=r.digest();if(e.encoding==="hex"){var a=i.toHex();return e.delimiter?a.match(/.{2}/g).join(e.delimiter):a}else{if(e.encoding==="binary")return i.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return i};ke.certificationRequestFromPem=function(t,e,r){var n=Je.pem.decode(t)[0];if(n.type!=="CERTIFICATE REQUEST"){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var i=x.fromDer(n.body,r);return ke.certificationRequestFromAsn1(i,e)};ke.certificationRequestToPem=function(t,e){var r={type:"CERTIFICATE REQUEST",body:x.toDer(ke.certificationRequestToAsn1(t)).getBytes()};return Je.pem.encode(r,{maxline:e})};ke.createCertificate=function(){var t={};return t.version=2,t.serialNumber="00",t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.validity={},t.validity.notBefore=new Date,t.validity.notAfter=new Date,t.issuer={},t.issuer.getField=function(e){return ql(t.issuer,e)},t.issuer.addField=function(e){Zs([e]),t.issuer.attributes.push(e)},t.issuer.attributes=[],t.issuer.hash=null,t.subject={},t.subject.getField=function(e){return ql(t.subject,e)},t.subject.addField=function(e){Zs([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.extensions=[],t.publicKey=null,t.md=null,t.setSubject=function(e,r){Zs(e),t.subject.attributes=e,delete t.subject.uniqueId,r&&(t.subject.uniqueId=r),t.subject.hash=null},t.setIssuer=function(e,r){Zs(e),t.issuer.attributes=e,delete t.issuer.uniqueId,r&&(t.issuer.uniqueId=r),t.issuer.hash=null},t.setExtensions=function(e){for(var r=0;r<e.length;++r)JV(e[r],{cert:t});t.extensions=e},t.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var r=null,n,s=0;r===null&&s<t.extensions.length;++s)n=t.extensions[s],(e.id&&n.id===e.id||e.name&&n.name===e.name)&&(r=n);return r},t.sign=function(e,r){t.md=r||Je.md.sha1.create();var n=It[t.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=t.md.algorithm,s}t.signatureOid=t.siginfo.algorithmOid=n,t.tbsCertificate=ke.getTBSCertificate(t);var i=x.toDer(t.tbsCertificate);t.md.update(i.getBytes()),t.signature=e.sign(t.md)},t.verify=function(e){var r=!1;if(!t.issued(e)){var n=e.issuer,s=t.subject,i=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw i.expectedIssuer=s.attributes,i.actualIssuer=n.attributes,i}var a=e.md;if(a===null){a=WC({signatureOid:e.signatureOid,type:"certificate"});var o=e.tbsCertificate||ke.getTBSCertificate(e),l=x.toDer(o);a.update(l.getBytes())}return a!==null&&(r=qV({certificate:t,md:a,signature:e.signature})),r},t.isIssuer=function(e){var r=!1,n=t.issuer,s=e.subject;if(n.hash&&s.hash)r=n.hash===s.hash;else if(n.attributes.length===s.attributes.length){r=!0;for(var i,a,o=0;r&&o<n.attributes.length;++o)i=n.attributes[o],a=s.attributes[o],(i.type!==a.type||i.value!==a.value)&&(r=!1)}return r},t.issued=function(e){return e.isIssuer(t)},t.generateSubjectKeyIdentifier=function(){return ke.getPublicKeyFingerprint(t.publicKey,{type:"RSAPublicKey"})},t.verifySubjectKeyIdentifier=function(){for(var e=It.subjectKeyIdentifier,r=0;r<t.extensions.length;++r){var n=t.extensions[r];if(n.id===e){var s=t.generateSubjectKeyIdentifier().getBytes();return Je.util.hexToBytes(n.subjectKeyIdentifier)===s}}return!1},t};ke.certificateFromAsn1=function(t,e){var r={},n=[];if(!x.validate(t,EJ,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}var i=x.derToOid(r.publicKeyOid);if(i!==ke.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=ke.createCertificate();a.version=r.certVersion?r.certVersion.charCodeAt(0):0;var o=Je.util.createBuffer(r.certSerialNumber);a.serialNumber=o.toHex(),a.signatureOid=Je.asn1.derToOid(r.certSignatureOid),a.signatureParameters=aw(a.signatureOid,r.certSignatureParams,!0),a.siginfo.algorithmOid=Je.asn1.derToOid(r.certinfoSignatureOid),a.siginfo.parameters=aw(a.siginfo.algorithmOid,r.certinfoSignatureParams,!1),a.signature=r.certSignature;var l=[];if(r.certValidity1UTCTime!==void 0&&l.push(x.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&l.push(x.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&l.push(x.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&l.push(x.generalizedTimeToDate(r.certValidity4GeneralizedTime)),l.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(l.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(a.validity.notBefore=l[0],a.validity.notAfter=l[1],a.tbsCertificate=r.tbsCertificate,e){a.md=WC({signatureOid:a.signatureOid,type:"certificate"});var u=x.toDer(a.tbsCertificate);a.md.update(u.getBytes())}var c=Je.md.sha1.create(),f=x.toDer(r.certIssuer);c.update(f.getBytes()),a.issuer.getField=function(d){return ql(a.issuer,d)},a.issuer.addField=function(d){Zs([d]),a.issuer.attributes.push(d)},a.issuer.attributes=ke.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(a.issuer.uniqueId=r.certIssuerUniqueId),a.issuer.hash=c.digest().toHex();var h=Je.md.sha1.create(),p=x.toDer(r.certSubject);return h.update(p.getBytes()),a.subject.getField=function(d){return ql(a.subject,d)},a.subject.addField=function(d){Zs([d]),a.subject.attributes.push(d)},a.subject.attributes=ke.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(a.subject.uniqueId=r.certSubjectUniqueId),a.subject.hash=h.digest().toHex(),r.certExtensions?a.extensions=ke.certificateExtensionsFromAsn1(r.certExtensions):a.extensions=[],a.publicKey=ke.publicKeyFromAsn1(r.subjectPublicKeyInfo),a};ke.certificateExtensionsFromAsn1=function(t){for(var e=[],r=0;r<t.value.length;++r)for(var n=t.value[r],s=0;s<n.value.length;++s)e.push(ke.certificateExtensionFromAsn1(n.value[s]));return e};ke.certificateExtensionFromAsn1=function(t){var e={};if(e.id=x.derToOid(t.value[0].value),e.critical=!1,t.value[1].type===x.Type.BOOLEAN?(e.critical=t.value[1].value.charCodeAt(0)!==0,e.value=t.value[2].value):e.value=t.value[1].value,e.id in It){if(e.name=It[e.id],e.name==="keyUsage"){var r=x.fromDer(e.value),n=0,s=0;r.value.length>1&&(n=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),e.digitalSignature=(n&128)===128,e.nonRepudiation=(n&64)===64,e.keyEncipherment=(n&32)===32,e.dataEncipherment=(n&16)===16,e.keyAgreement=(n&8)===8,e.keyCertSign=(n&4)===4,e.cRLSign=(n&2)===2,e.encipherOnly=(n&1)===1,e.decipherOnly=(s&128)===128}else if(e.name==="basicConstraints"){var r=x.fromDer(e.value);r.value.length>0&&r.value[0].type===x.Type.BOOLEAN?e.cA=r.value[0].value.charCodeAt(0)!==0:e.cA=!1;var i=null;r.value.length>0&&r.value[0].type===x.Type.INTEGER?i=r.value[0].value:r.value.length>1&&(i=r.value[1].value),i!==null&&(e.pathLenConstraint=x.derToInteger(i))}else if(e.name==="extKeyUsage")for(var r=x.fromDer(e.value),a=0;a<r.value.length;++a){var o=x.derToOid(r.value[a].value);o in It?e[It[o]]=!0:e[o]=!0}else if(e.name==="nsCertType"){var r=x.fromDer(e.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),e.client=(n&128)===128,e.server=(n&64)===64,e.email=(n&32)===32,e.objsign=(n&16)===16,e.reserved=(n&8)===8,e.sslCA=(n&4)===4,e.emailCA=(n&2)===2,e.objCA=(n&1)===1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var l,r=x.fromDer(e.value),u=0;u<r.value.length;++u){l=r.value[u];var c={type:l.type,value:l.value};switch(e.altNames.push(c),l.type){case 1:case 2:case 6:break;case 7:c.ip=Je.util.bytesToIP(l.value);break;case 8:c.oid=x.derToOid(l.value);break}}}else if(e.name==="subjectKeyIdentifier"){var r=x.fromDer(e.value);e.subjectKeyIdentifier=Je.util.bytesToHex(r.value)}}return e};ke.certificationRequestFromAsn1=function(t,e){var r={},n=[];if(!x.validate(t,AJ,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}var i=x.derToOid(r.publicKeyOid);if(i!==ke.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var a=ke.createCertificationRequest();if(a.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,a.signatureOid=Je.asn1.derToOid(r.csrSignatureOid),a.signatureParameters=aw(a.signatureOid,r.csrSignatureParams,!0),a.siginfo.algorithmOid=Je.asn1.derToOid(r.csrSignatureOid),a.siginfo.parameters=aw(a.siginfo.algorithmOid,r.csrSignatureParams,!1),a.signature=r.csrSignature,a.certificationRequestInfo=r.certificationRequestInfo,e){a.md=WC({signatureOid:a.signatureOid,type:"certification request"});var o=x.toDer(a.certificationRequestInfo);a.md.update(o.getBytes())}var l=Je.md.sha1.create();return a.subject.getField=function(u){return ql(a.subject,u)},a.subject.addField=function(u){Zs([u]),a.subject.attributes.push(u)},a.subject.attributes=ke.RDNAttributesAsArray(r.certificationRequestInfoSubject,l),a.subject.hash=l.digest().toHex(),a.publicKey=ke.publicKeyFromAsn1(r.subjectPublicKeyInfo),a.getAttribute=function(u){return ql(a,u)},a.addAttribute=function(u){Zs([u]),a.attributes.push(u)},a.attributes=ke.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),a};ke.createCertificationRequest=function(){var t={};return t.version=0,t.signatureOid=null,t.signature=null,t.siginfo={},t.siginfo.algorithmOid=null,t.subject={},t.subject.getField=function(e){return ql(t.subject,e)},t.subject.addField=function(e){Zs([e]),t.subject.attributes.push(e)},t.subject.attributes=[],t.subject.hash=null,t.publicKey=null,t.attributes=[],t.getAttribute=function(e){return ql(t,e)},t.addAttribute=function(e){Zs([e]),t.attributes.push(e)},t.md=null,t.setSubject=function(e){Zs(e),t.subject.attributes=e,t.subject.hash=null},t.setAttributes=function(e){Zs(e),t.attributes=e},t.sign=function(e,r){t.md=r||Je.md.sha1.create();var n=It[t.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=t.md.algorithm,s}t.signatureOid=t.siginfo.algorithmOid=n,t.certificationRequestInfo=ke.getCertificationRequestInfo(t);var i=x.toDer(t.certificationRequestInfo);t.md.update(i.getBytes()),t.signature=e.sign(t.md)},t.verify=function(){var e=!1,r=t.md;if(r===null){r=WC({signatureOid:t.signatureOid,type:"certification request"});var n=t.certificationRequestInfo||ke.getCertificationRequestInfo(t),s=x.toDer(n);r.update(s.getBytes())}return r!==null&&(e=qV({certificate:t,md:r,signature:t.signature})),e},t};function sp(t){for(var e=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]),r,n,s=t.attributes,i=0;i<s.length;++i){r=s[i];var a=r.value,o=x.Type.PRINTABLESTRING;"valueTagClass"in r&&(o=r.valueTagClass,o===x.Type.UTF8&&(a=Je.util.encodeUtf8(a))),n=x.create(x.Class.UNIVERSAL,x.Type.SET,!0,[x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(r.type).getBytes()),x.create(x.Class.UNIVERSAL,o,!1,a)])]),e.value.push(n)}return e}function Zs(t){for(var e,r=0;r<t.length;++r){if(e=t[r],typeof e.name>"u"&&(e.type&&e.type in ke.oids?e.name=ke.oids[e.type]:e.shortName&&e.shortName in Lr&&(e.name=ke.oids[Lr[e.shortName]])),typeof e.type>"u")if(e.name&&e.name in ke.oids)e.type=ke.oids[e.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=e,n}if(typeof e.shortName>"u"&&e.name&&e.name in Lr&&(e.shortName=Lr[e.name]),e.type===It.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=x.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var s=0;s<e.extensions.length;++s)e.value.push(ke.certificateExtensionToAsn1(JV(e.extensions[s])))}if(typeof e.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=e,n}}}function JV(t,e){if(e=e||{},typeof t.name>"u"&&t.id&&t.id in ke.oids&&(t.name=ke.oids[t.id]),typeof t.id>"u")if(t.name&&t.name in ke.oids)t.id=ke.oids[t.name];else{var r=new Error("Extension ID not specified.");throw r.extension=t,r}if(typeof t.value<"u")return t;if(t.name==="keyUsage"){var n=0,s=0,i=0;t.digitalSignature&&(s|=128,n=7),t.nonRepudiation&&(s|=64,n=6),t.keyEncipherment&&(s|=32,n=5),t.dataEncipherment&&(s|=16,n=4),t.keyAgreement&&(s|=8,n=3),t.keyCertSign&&(s|=4,n=2),t.cRLSign&&(s|=2,n=1),t.encipherOnly&&(s|=1,n=0),t.decipherOnly&&(i|=128,n=7);var a=String.fromCharCode(n);i!==0?a+=String.fromCharCode(s)+String.fromCharCode(i):s!==0&&(a+=String.fromCharCode(s)),t.value=x.create(x.Class.UNIVERSAL,x.Type.BITSTRING,!1,a)}else if(t.name==="basicConstraints")t.value=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]),t.cA&&t.value.value.push(x.create(x.Class.UNIVERSAL,x.Type.BOOLEAN,!1,"ÿ")),"pathLenConstraint"in t&&t.value.value.push(x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(t.pathLenConstraint).getBytes()));else if(t.name==="extKeyUsage"){t.value=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]);var o=t.value.value;for(var l in t)t[l]===!0&&(l in It?o.push(x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(It[l]).getBytes())):l.indexOf(".")!==-1&&o.push(x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(l).getBytes())))}else if(t.name==="nsCertType"){var n=0,s=0;t.client&&(s|=128,n=7),t.server&&(s|=64,n=6),t.email&&(s|=32,n=5),t.objsign&&(s|=16,n=4),t.reserved&&(s|=8,n=3),t.sslCA&&(s|=4,n=2),t.emailCA&&(s|=2,n=1),t.objCA&&(s|=1,n=0);var a=String.fromCharCode(n);s!==0&&(a+=String.fromCharCode(s)),t.value=x.create(x.Class.UNIVERSAL,x.Type.BITSTRING,!1,a)}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.value=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]);for(var u,c=0;c<t.altNames.length;++c){u=t.altNames[c];var a=u.value;if(u.type===7&&u.ip){if(a=Je.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else u.type===8&&(u.oid?a=x.oidToDer(x.oidToDer(u.oid)):a=x.oidToDer(a));t.value.value.push(x.create(x.Class.CONTEXT_SPECIFIC,u.type,!1,a))}}else if(t.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(t.comment)||t.comment.length<1||t.comment.length>128)throw new Error('Invalid "nsComment" content.');t.value=x.create(x.Class.UNIVERSAL,x.Type.IA5STRING,!1,t.comment)}else if(t.name==="subjectKeyIdentifier"&&e.cert){var f=e.cert.generateSubjectKeyIdentifier();t.subjectKeyIdentifier=f.toHex(),t.value=x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,f.getBytes())}else if(t.name==="authorityKeyIdentifier"&&e.cert){t.value=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]);var o=t.value.value;if(t.keyIdentifier){var h=t.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():t.keyIdentifier;o.push(x.create(x.Class.CONTEXT_SPECIFIC,0,!1,h))}if(t.authorityCertIssuer){var p=[x.create(x.Class.CONTEXT_SPECIFIC,4,!0,[sp(t.authorityCertIssuer===!0?e.cert.issuer:t.authorityCertIssuer)])];o.push(x.create(x.Class.CONTEXT_SPECIFIC,1,!0,p))}if(t.serialNumber){var d=Je.util.hexToBytes(t.serialNumber===!0?e.cert.serialNumber:t.serialNumber);o.push(x.create(x.Class.CONTEXT_SPECIFIC,2,!1,d))}}else if(t.name==="cRLDistributionPoints"){t.value=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]);for(var o=t.value.value,m=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]),S=x.create(x.Class.CONTEXT_SPECIFIC,0,!0,[]),u,c=0;c<t.altNames.length;++c){u=t.altNames[c];var a=u.value;if(u.type===7&&u.ip){if(a=Je.util.bytesFromIP(u.ip),a===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=t,r}}else u.type===8&&(u.oid?a=x.oidToDer(x.oidToDer(u.oid)):a=x.oidToDer(a));S.value.push(x.create(x.Class.CONTEXT_SPECIFIC,u.type,!1,a))}m.value.push(x.create(x.Class.CONTEXT_SPECIFIC,0,!0,[S])),o.push(m)}if(typeof t.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=t,r}return t}function yI(t,e){switch(t){case It["RSASSA-PSS"]:var r=[];return e.hash.algorithmOid!==void 0&&r.push(x.create(x.Class.CONTEXT_SPECIFIC,0,!0,[x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(e.hash.algorithmOid).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&r.push(x.create(x.Class.CONTEXT_SPECIFIC,1,!0,[x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(e.mgf.algorithmOid).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(e.mgf.hash.algorithmOid).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&r.push(x.create(x.Class.CONTEXT_SPECIFIC,2,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(e.saltLength).getBytes())])),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,r);default:return x.create(x.Class.UNIVERSAL,x.Type.NULL,!1,"")}}function kJ(t){var e=x.create(x.Class.CONTEXT_SPECIFIC,0,!0,[]);if(t.attributes.length===0)return e;for(var r=t.attributes,n=0;n<r.length;++n){var s=r[n],i=s.value,a=x.Type.UTF8;"valueTagClass"in s&&(a=s.valueTagClass),a===x.Type.UTF8&&(i=Je.util.encodeUtf8(i));var o=!1;"valueConstructed"in s&&(o=s.valueConstructed);var l=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(s.type).getBytes()),x.create(x.Class.UNIVERSAL,x.Type.SET,!0,[x.create(x.Class.UNIVERSAL,a,o,i)])]);e.value.push(l)}return e}var IJ=new Date("1950-01-01T00:00:00Z"),TJ=new Date("2050-01-01T00:00:00Z");function aB(t){return t>=IJ&&t<TJ?x.create(x.Class.UNIVERSAL,x.Type.UTCTIME,!1,x.dateToUtcTime(t)):x.create(x.Class.UNIVERSAL,x.Type.GENERALIZEDTIME,!1,x.dateToGeneralizedTime(t))}ke.getTBSCertificate=function(t){var e=aB(t.validity.notBefore),r=aB(t.validity.notAfter),n=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.CONTEXT_SPECIFIC,0,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(t.version).getBytes())]),x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,Je.util.hexToBytes(t.serialNumber)),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(t.siginfo.algorithmOid).getBytes()),yI(t.siginfo.algorithmOid,t.siginfo.parameters)]),sp(t.issuer),x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[e,r]),sp(t.subject),ke.publicKeyToAsn1(t.publicKey)]);return t.issuer.uniqueId&&n.value.push(x.create(x.Class.CONTEXT_SPECIFIC,1,!0,[x.create(x.Class.UNIVERSAL,x.Type.BITSTRING,!1,"\0"+t.issuer.uniqueId)])),t.subject.uniqueId&&n.value.push(x.create(x.Class.CONTEXT_SPECIFIC,2,!0,[x.create(x.Class.UNIVERSAL,x.Type.BITSTRING,!1,"\0"+t.subject.uniqueId)])),t.extensions.length>0&&n.value.push(ke.certificateExtensionsToAsn1(t.extensions)),n};ke.getCertificationRequestInfo=function(t){var e=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.INTEGER,!1,x.integerToDer(t.version).getBytes()),sp(t.subject),ke.publicKeyToAsn1(t.publicKey),kJ(t)]);return e};ke.distinguishedNameToAsn1=function(t){return sp(t)};ke.certificateToAsn1=function(t){var e=t.tbsCertificate||ke.getTBSCertificate(t);return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[e,x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(t.signatureOid).getBytes()),yI(t.signatureOid,t.signatureParameters)]),x.create(x.Class.UNIVERSAL,x.Type.BITSTRING,!1,"\0"+t.signature)])};ke.certificateExtensionsToAsn1=function(t){var e=x.create(x.Class.CONTEXT_SPECIFIC,3,!0,[]),r=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]);e.value.push(r);for(var n=0;n<t.length;++n)r.value.push(ke.certificateExtensionToAsn1(t[n]));return e};ke.certificateExtensionToAsn1=function(t){var e=x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[]);e.value.push(x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(t.id).getBytes())),t.critical&&e.value.push(x.create(x.Class.UNIVERSAL,x.Type.BOOLEAN,!1,"ÿ"));var r=t.value;return typeof t.value!="string"&&(r=x.toDer(r).getBytes()),e.value.push(x.create(x.Class.UNIVERSAL,x.Type.OCTETSTRING,!1,r)),e};ke.certificationRequestToAsn1=function(t){var e=t.certificationRequestInfo||ke.getCertificationRequestInfo(t);return x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[e,x.create(x.Class.UNIVERSAL,x.Type.SEQUENCE,!0,[x.create(x.Class.UNIVERSAL,x.Type.OID,!1,x.oidToDer(t.signatureOid).getBytes()),yI(t.signatureOid,t.signatureParameters)]),x.create(x.Class.UNIVERSAL,x.Type.BITSTRING,!1,"\0"+t.signature)])};ke.createCaStore=function(t){var e={certs:{}};e.getIssuer=function(a){var o=r(a.issuer);return o},e.addCertificate=function(a){if(typeof a=="string"&&(a=Je.pki.certificateFromPem(a)),n(a.subject),!e.hasCertificate(a))if(a.subject.hash in e.certs){var o=e.certs[a.subject.hash];Je.util.isArray(o)||(o=[o]),o.push(a),e.certs[a.subject.hash]=o}else e.certs[a.subject.hash]=a},e.hasCertificate=function(a){typeof a=="string"&&(a=Je.pki.certificateFromPem(a));var o=r(a.subject);if(!o)return!1;Je.util.isArray(o)||(o=[o]);for(var l=x.toDer(ke.certificateToAsn1(a)).getBytes(),u=0;u<o.length;++u){var c=x.toDer(ke.certificateToAsn1(o[u])).getBytes();if(l===c)return!0}return!1},e.listAllCertificates=function(){var a=[];for(var o in e.certs)if(e.certs.hasOwnProperty(o)){var l=e.certs[o];if(!Je.util.isArray(l))a.push(l);else for(var u=0;u<l.length;++u)a.push(l[u])}return a},e.removeCertificate=function(a){var o;if(typeof a=="string"&&(a=Je.pki.certificateFromPem(a)),n(a.subject),!e.hasCertificate(a))return null;var l=r(a.subject);if(!Je.util.isArray(l))return o=e.certs[a.subject.hash],delete e.certs[a.subject.hash],o;for(var u=x.toDer(ke.certificateToAsn1(a)).getBytes(),c=0;c<l.length;++c){var f=x.toDer(ke.certificateToAsn1(l[c])).getBytes();u===f&&(o=l[c],l.splice(c,1))}return l.length===0&&delete e.certs[a.subject.hash],o};function r(a){return n(a),e.certs[a.hash]||null}function n(a){if(!a.hash){var o=Je.md.sha1.create();a.attributes=ke.RDNAttributesAsArray(sp(a),o),a.hash=o.digest().toHex()}}if(t)for(var s=0;s<t.length;++s){var i=t[s];e.addCertificate(i)}return e};ke.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};ke.verifyCertificateChain=function(t,e,r){typeof r=="function"&&(r={verify:r}),r=r||{},e=e.slice(0);var n=e.slice(0),s=r.validityCheckDate;typeof s>"u"&&(s=new Date);var i=!0,a=null,o=0;do{var l=e.shift(),u=null,c=!1;if(s&&(s<l.validity.notBefore||s>l.validity.notAfter)&&(a={message:"Certificate is not valid yet or has expired.",error:ke.certificateError.certificate_expired,notBefore:l.validity.notBefore,notAfter:l.validity.notAfter,now:s}),a===null){if(u=e[0]||t.getIssuer(l),u===null&&l.isIssuer(l)&&(c=!0,u=l),u){var f=u;Je.util.isArray(f)||(f=[f]);for(var h=!1;!h&&f.length>0;){u=f.shift();try{h=u.verify(l)}catch{}}h||(a={message:"Certificate signature is invalid.",error:ke.certificateError.bad_certificate})}a===null&&(!u||c)&&!t.hasCertificate(l)&&(a={message:"Certificate is not trusted.",error:ke.certificateError.unknown_ca})}if(a===null&&u&&!l.isIssuer(u)&&(a={message:"Certificate issuer is invalid.",error:ke.certificateError.bad_certificate}),a===null)for(var p={keyUsage:!0,basicConstraints:!0},d=0;a===null&&d<l.extensions.length;++d){var m=l.extensions[d];m.critical&&!(m.name in p)&&(a={message:"Certificate has an unsupported critical extension.",error:ke.certificateError.unsupported_certificate})}if(a===null&&(!i||e.length===0&&(!u||c))){var S=l.getExtension("basicConstraints"),g=l.getExtension("keyUsage");if(g!==null&&(!g.keyCertSign||S===null)&&(a={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:ke.certificateError.bad_certificate}),a===null&&S!==null&&!S.cA&&(a={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:ke.certificateError.bad_certificate}),a===null&&g!==null&&"pathLenConstraint"in S){var v=o-1;v>S.pathLenConstraint&&(a={message:"Certificate basicConstraints pathLenConstraint violated.",error:ke.certificateError.bad_certificate})}}var y=a===null?!0:a.error,C=r.verify?r.verify(y,o,n):y;if(C===!0)a=null;else throw y===!0&&(a={message:"The application rejected the certificate.",error:ke.certificateError.bad_certificate}),(C||C===0)&&(typeof C=="object"&&!Je.util.isArray(C)?(C.message&&(a.message=C.message),C.error&&(a.error=C.error)):typeof C=="string"&&(a.error=C)),a;i=!1,++o}while(e.length>0);return!0};var rr=pt,V=rr.asn1,gt=rr.pki,Iv=rr.pkcs12=rr.pkcs12||{},YV={name:"ContentInfo",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:V.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},NJ={name:"PFX",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,capture:"version"},YV,{name:"PFX.macData",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:V.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:V.Class.UNIVERSAL,type:V.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:V.Class.UNIVERSAL,type:V.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:V.Class.UNIVERSAL,type:V.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},RJ={name:"SafeBag",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:V.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:V.Class.UNIVERSAL,type:V.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},BJ={name:"Attribute",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:V.Class.UNIVERSAL,type:V.Type.SET,constructed:!0,capture:"values"}]},_J={name:"CertBag",tagClass:V.Class.UNIVERSAL,type:V.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:V.Class.UNIVERSAL,type:V.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:V.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:V.Class.UNIVERSAL,type:V.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function t0(t,e,r,n){for(var s=[],i=0;i<t.length;i++)for(var a=0;a<t[i].safeBags.length;a++){var o=t[i].safeBags[a];if(!(n!==void 0&&o.type!==n)){if(e===null){s.push(o);continue}o.attributes[e]!==void 0&&o.attributes[e].indexOf(r)>=0&&s.push(o)}}return s}Iv.pkcs12FromAsn1=function(t,e,r){typeof e=="string"?(r=e,e=!0):e===void 0&&(e=!0);var n={},s=[];if(!V.validate(t,NJ,n,s)){var i=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw i.errors=i,i}var a={version:n.version.charCodeAt(0),safeContents:[],getBags:function(S){var g={},v;return"localKeyId"in S?v=S.localKeyId:"localKeyIdHex"in S&&(v=rr.util.hexToBytes(S.localKeyIdHex)),v===void 0&&!("friendlyName"in S)&&"bagType"in S&&(g[S.bagType]=t0(a.safeContents,null,null,S.bagType)),v!==void 0&&(g.localKeyId=t0(a.safeContents,"localKeyId",v,S.bagType)),"friendlyName"in S&&(g.friendlyName=t0(a.safeContents,"friendlyName",S.friendlyName,S.bagType)),g},getBagsByFriendlyName:function(S,g){return t0(a.safeContents,"friendlyName",S,g)},getBagsByLocalKeyId:function(S,g){return t0(a.safeContents,"localKeyId",S,g)}};if(n.version.charCodeAt(0)!==3){var i=new Error("PKCS#12 PFX of version other than 3 not supported.");throw i.version=n.version.charCodeAt(0),i}if(V.derToOid(n.contentType)!==gt.oids.data){var i=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw i.oid=V.derToOid(n.contentType),i}var o=n.content.value[0];if(o.tagClass!==V.Class.UNIVERSAL||o.type!==V.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(o=SI(o),n.mac){var l=null,u=0,c=V.derToOid(n.macAlgorithm);switch(c){case gt.oids.sha1:l=rr.md.sha1.create(),u=20;break;case gt.oids.sha256:l=rr.md.sha256.create(),u=32;break;case gt.oids.sha384:l=rr.md.sha384.create(),u=48;break;case gt.oids.sha512:l=rr.md.sha512.create(),u=64;break;case gt.oids.md5:l=rr.md.md5.create(),u=16;break}if(l===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+c);var f=new rr.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(rr.util.bytesToHex(n.macIterations),16):1,p=Iv.generateKey(r,f,3,h,u,l),d=rr.hmac.create();d.start(l,p),d.update(o.value);var m=d.getMac();if(m.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return PJ(a,o.value,e,r),a};function SI(t){if(t.composed||t.constructed){for(var e=rr.util.createBuffer(),r=0;r<t.value.length;++r)e.putBytes(t.value[r].value);t.composed=t.constructed=!1,t.value=e.getBytes()}return t}function PJ(t,e,r,n){if(e=V.fromDer(e,r),e.tagClass!==V.Class.UNIVERSAL||e.type!==V.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<e.value.length;s++){var i=e.value[s],a={},o=[];if(!V.validate(i,YV,a,o)){var l=new Error("Cannot read ContentInfo.");throw l.errors=o,l}var u={encrypted:!1},c=null,f=a.content.value[0];switch(V.derToOid(a.contentType)){case gt.oids.data:if(f.tagClass!==V.Class.UNIVERSAL||f.type!==V.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");c=SI(f).value;break;case gt.oids.encryptedData:c=OJ(f,n),u.encrypted=!0;break;default:var l=new Error("Unsupported PKCS#12 contentType.");throw l.contentType=V.derToOid(a.contentType),l}u.safeBags=LJ(c,r,n),t.safeContents.push(u)}}function OJ(t,e){var r={},n=[];if(!V.validate(t,rr.pkcs7.asn1.encryptedDataValidator,r,n)){var s=new Error("Cannot read EncryptedContentInfo.");throw s.errors=n,s}var i=V.derToOid(r.contentType);if(i!==gt.oids.data){var s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=i,s}i=V.derToOid(r.encAlgorithm);var a=gt.pbe.getCipher(i,r.encParameter,e),o=SI(r.encryptedContentAsn1),l=rr.util.createBuffer(o.value);if(a.update(l),!a.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return a.output.getBytes()}function LJ(t,e,r){if(!e&&t.length===0)return[];if(t=V.fromDer(t,e),t.tagClass!==V.Class.UNIVERSAL||t.type!==V.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<t.value.length;s++){var i=t.value[s],a={},o=[];if(!V.validate(i,RJ,a,o)){var l=new Error("Cannot read SafeBag.");throw l.errors=o,l}var u={type:V.derToOid(a.bagId),attributes:VJ(a.bagAttributes)};n.push(u);var c,f,h=a.bagValue.value[0];switch(u.type){case gt.oids.pkcs8ShroudedKeyBag:if(h=gt.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case gt.oids.keyBag:try{u.key=gt.privateKeyFromAsn1(h)}catch{u.key=null,u.asn1=h}continue;case gt.oids.certBag:c=_J,f=function(){if(V.derToOid(a.certId)!==gt.oids.x509Certificate){var d=new Error("Unsupported certificate type, only X.509 supported.");throw d.oid=V.derToOid(a.certId),d}var m=V.fromDer(a.cert,e);try{u.cert=gt.certificateFromAsn1(m,!0)}catch{u.cert=null,u.asn1=m}};break;default:var l=new Error("Unsupported PKCS#12 SafeBag type.");throw l.oid=u.type,l}if(c!==void 0&&!V.validate(h,c,a,o)){var l=new Error("Cannot read PKCS#12 "+c.name);throw l.errors=o,l}f()}return n}function VJ(t){var e={};if(t!==void 0)for(var r=0;r<t.length;++r){var n={},s=[];if(!V.validate(t[r],BJ,n,s)){var i=new Error("Cannot read PKCS#12 BagAttribute.");throw i.errors=s,i}var a=V.derToOid(n.oid);if(gt.oids[a]!==void 0){e[gt.oids[a]]=[];for(var o=0;o<n.values.length;++o)e[gt.oids[a]].push(n.values[o].value)}}return e}Iv.toPkcs12Asn1=function(t,e,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var s=n.localKeyId,i;if(s!==null)s=rr.util.hexToBytes(s);else if(n.generateLocalKeyId)if(e){var a=rr.util.isArray(e)?e[0]:e;typeof a=="string"&&(a=gt.certificateFromPem(a));var o=rr.md.sha1.create();o.update(V.toDer(gt.certificateToAsn1(a)).getBytes()),s=o.digest().getBytes()}else s=rr.random.getBytes(20);var l=[];s!==null&&l.push(V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.localKeyId).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.SET,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&l.push(V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.friendlyName).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.SET,!0,[V.create(V.Class.UNIVERSAL,V.Type.BMPSTRING,!1,n.friendlyName)])])),l.length>0&&(i=V.create(V.Class.UNIVERSAL,V.Type.SET,!0,l));var u=[],c=[];e!==null&&(rr.util.isArray(e)?c=e:c=[e]);for(var f=[],h=0;h<c.length;++h){e=c[h],typeof e=="string"&&(e=gt.certificateFromPem(e));var p=h===0?i:void 0,d=gt.certificateToAsn1(e),m=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.certBag).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.x509Certificate).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,V.toDer(d).getBytes())])])]),p]);f.push(m)}if(f.length>0){var S=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,f),g=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.data).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,V.toDer(S).getBytes())])]);u.push(g)}var v=null;if(t!==null){var y=gt.wrapRsaPrivateKey(gt.privateKeyToAsn1(t));r===null?v=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.keyBag).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[y]),i]):v=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.pkcs8ShroudedKeyBag).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[gt.encryptPrivateKeyInfo(y,r,n)]),i]);var C=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[v]),E=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.data).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,V.toDer(C).getBytes())])]);u.push(E)}var b=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,u),T;if(n.useMac){var o=rr.md.sha1.create(),O=new rr.util.ByteBuffer(rr.random.getBytes(n.saltSize)),H=n.count,t=Iv.generateKey(r,O,3,H,20),L=rr.hmac.create();L.start(o,t),L.update(V.toDer(b).getBytes());var Y=L.getMac();T=V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.sha1).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.NULL,!1,"")]),V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,Y.getBytes())]),V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,O.getBytes()),V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,V.integerToDer(H).getBytes())])}return V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.INTEGER,!1,V.integerToDer(3).getBytes()),V.create(V.Class.UNIVERSAL,V.Type.SEQUENCE,!0,[V.create(V.Class.UNIVERSAL,V.Type.OID,!1,V.oidToDer(gt.oids.data).getBytes()),V.create(V.Class.CONTEXT_SPECIFIC,0,!0,[V.create(V.Class.UNIVERSAL,V.Type.OCTETSTRING,!1,V.toDer(b).getBytes())])]),T])};Iv.generateKey=rr.pbe.generatePkcs12Key;var Jl=pt,wI=Jl.asn1,ip=Jl.pki=Jl.pki||{};ip.pemToDer=function(t){var e=Jl.pem.decode(t)[0];if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return Jl.util.createBuffer(e.body)};ip.privateKeyFromPem=function(t){var e=Jl.pem.decode(t)[0];if(e.type!=="PRIVATE KEY"&&e.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=wI.fromDer(e.body);return ip.privateKeyFromAsn1(n)};ip.privateKeyToPem=function(t,e){var r={type:"RSA PRIVATE KEY",body:wI.toDer(ip.privateKeyToAsn1(t)).getBytes()};return Jl.pem.encode(r,{maxline:e})};ip.privateKeyInfoToPem=function(t,e){var r={type:"PRIVATE KEY",body:wI.toDer(t).getBytes()};return Jl.pem.encode(r,{maxline:e})};var Se=pt,GC=function(t,e,r,n){var s=Se.util.createBuffer(),i=t.length>>1,a=i+(t.length&1),o=t.substr(0,a),l=t.substr(i,a),u=Se.util.createBuffer(),c=Se.hmac.create();r=e+r;var f=Math.ceil(n/16),h=Math.ceil(n/20);c.start("MD5",o);var p=Se.util.createBuffer();u.putBytes(r);for(var d=0;d<f;++d)c.start(null,null),c.update(u.getBytes()),u.putBuffer(c.digest()),c.start(null,null),c.update(u.bytes()+r),p.putBuffer(c.digest());c.start("SHA1",l);var m=Se.util.createBuffer();u.clear(),u.putBytes(r);for(var d=0;d<h;++d)c.start(null,null),c.update(u.getBytes()),u.putBuffer(c.digest()),c.start(null,null),c.update(u.bytes()+r),m.putBuffer(c.digest());return s.putBytes(Se.util.xorBytes(p.getBytes(),m.getBytes(),n)),s},DJ=function(t,e,r){var n=Se.hmac.create();n.start("SHA1",t);var s=Se.util.createBuffer();return s.putInt32(e[0]),s.putInt32(e[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),n.update(s.getBytes()),n.digest().getBytes()},UJ=function(t,e,r){var n=!1;try{var s=t.deflate(e.fragment.getBytes());e.fragment=Se.util.createBuffer(s),e.length=s.length,n=!0}catch{}return n},MJ=function(t,e,r){var n=!1;try{var s=t.inflate(e.fragment.getBytes());e.fragment=Se.util.createBuffer(s),e.length=s.length,n=!0}catch{}return n},Ss=function(t,e){var r=0;switch(e){case 1:r=t.getByte();break;case 2:r=t.getInt16();break;case 3:r=t.getInt24();break;case 4:r=t.getInt32();break}return Se.util.createBuffer(t.getBytes(r))},$s=function(t,e,r){t.putInt(r.length(),e<<3),t.putBuffer(r)},I={};I.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};I.SupportedVersions=[I.Versions.TLS_1_1,I.Versions.TLS_1_0];I.Version=I.SupportedVersions[0];I.MaxFragment=15360;I.ConnectionEnd={server:0,client:1};I.PRFAlgorithm={tls_prf_sha256:0};I.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};I.CipherType={stream:0,block:1,aead:2};I.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};I.CompressionMethod={none:0,deflate:1};I.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};I.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};I.Alert={};I.Alert.Level={warning:1,fatal:2};I.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};I.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};I.CipherSuites={};I.getCipherSuite=function(t){var e=null;for(var r in I.CipherSuites){var n=I.CipherSuites[r];if(n.id[0]===t.charCodeAt(0)&&n.id[1]===t.charCodeAt(1)){e=n;break}}return e};I.handleUnexpected=function(t,e){var r=!t.open&&t.entity===I.ConnectionEnd.client;r||t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.unexpected_message}})};I.handleHelloRequest=function(t,e,r){!t.handshaking&&t.handshakes>0&&(I.queue(t,I.createAlert(t,{level:I.Alert.Level.warning,description:I.Alert.Description.no_renegotiation})),I.flush(t)),t.process()};I.parseHelloMessage=function(t,e,r){var n=null,s=t.entity===I.ConnectionEnd.client;if(r<38)t.error(t,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});else{var i=e.fragment,a=i.length();if(n={version:{major:i.getByte(),minor:i.getByte()},random:Se.util.createBuffer(i.getBytes(32)),session_id:Ss(i,1),extensions:[]},s?(n.cipher_suite=i.getBytes(2),n.compression_method=i.getByte()):(n.cipher_suites=Ss(i,2),n.compression_methods=Ss(i,1)),a=r-(a-i.length()),a>0){for(var o=Ss(i,2);o.length()>0;)n.extensions.push({type:[o.getByte(),o.getByte()],data:Ss(o,2)});if(!s)for(var l=0;l<n.extensions.length;++l){var u=n.extensions[l];if(u.type[0]===0&&u.type[1]===0)for(var c=Ss(u.data,2);c.length()>0;){var f=c.getByte();if(f!==0)break;t.session.extensions.server_name.serverNameList.push(Ss(c,2).getBytes())}}}if(t.session.version&&(n.version.major!==t.session.version.major||n.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.protocol_version}});if(s)t.session.cipherSuite=I.getCipherSuite(n.cipher_suite);else for(var h=Se.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(t.session.cipherSuite=I.getCipherSuite(h.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.handshake_failure},cipherSuite:Se.util.bytesToHex(n.cipher_suite)});s?t.session.compressionMethod=n.compression_method:t.session.compressionMethod=I.CompressionMethod.none}return n};I.createSecurityParameters=function(t,e){var r=t.entity===I.ConnectionEnd.client,n=e.random.bytes(),s=r?t.session.sp.client_random:n,i=r?n:I.createRandom().getBytes();t.session.sp={entity:t.entity,prf_algorithm:I.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:s,server_random:i}};I.handleServerHello=function(t,e,r){var n=I.parseHelloMessage(t,e,r);if(!t.fail){if(n.version.minor<=t.version.minor)t.version.minor=n.version.minor;else return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.protocol_version}});t.session.version=t.version;var s=n.session_id.bytes();s.length>0&&s===t.session.id?(t.expect=QV,t.session.resuming=!0,t.session.sp.server_random=n.random.bytes()):(t.expect=FJ,t.session.resuming=!1,I.createSecurityParameters(t,n)),t.session.id=s,t.process()}};I.handleClientHello=function(t,e,r){var n=I.parseHelloMessage(t,e,r);if(!t.fail){var s=n.session_id.bytes(),i=null;if(t.sessionCache&&(i=t.sessionCache.getSession(s),i===null?s="":(i.version.major!==n.version.major||i.version.minor>n.version.minor)&&(i=null,s="")),s.length===0&&(s=Se.random.getBytes(32)),t.session.id=s,t.session.clientHelloVersion=n.version,t.session.sp={},i)t.version=t.session.version=i.version,t.session.sp=i.sp;else{for(var a,o=1;o<I.SupportedVersions.length&&(a=I.SupportedVersions[o],!(a.minor<=n.version.minor));++o);t.version={major:a.major,minor:a.minor},t.session.version=t.version}i!==null?(t.expect=CI,t.session.resuming=!0,t.session.sp.client_random=n.random.bytes()):(t.expect=t.verifyClient!==!1?qJ:IA,t.session.resuming=!1,I.createSecurityParameters(t,n)),t.open=!0,I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createServerHello(t)})),t.session.resuming?(I.queue(t,I.createRecord(t,{type:I.ContentType.change_cipher_spec,data:I.createChangeCipherSpec()})),t.state.pending=I.createConnectionState(t),t.state.current.write=t.state.pending.write,I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createFinished(t)}))):(I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createCertificate(t)})),t.fail||(I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createServerKeyExchange(t)})),t.verifyClient!==!1&&I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createCertificateRequest(t)})),I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createServerHelloDone(t)})))),I.flush(t),t.process()}};I.handleCertificate=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});var n=e.fragment,s={certificate_list:Ss(n,3)},i,a,o=[];try{for(;s.certificate_list.length()>0;)i=Ss(s.certificate_list,3),a=Se.asn1.fromDer(i),i=Se.pki.certificateFromAsn1(a,!0),o.push(i)}catch(u){return t.error(t,{message:"Could not parse certificate list.",cause:u,send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.bad_certificate}})}var l=t.entity===I.ConnectionEnd.client;(l||t.verifyClient===!0)&&o.length===0?t.error(t,{message:l?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}}):o.length===0?t.expect=l?oB:IA:(l?t.session.serverCertificate=o[0]:t.session.clientCertificate=o[0],I.verifyCertificateChain(t,o)&&(t.expect=l?oB:IA)),t.process()};I.handleServerKeyExchange=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.unsupported_certificate}});t.expect=HJ,t.process()};I.handleClientKeyExchange=function(t,e,r){if(r<48)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.unsupported_certificate}});var n=e.fragment,s={enc_pre_master_secret:Ss(n,2).getBytes()},i=null;if(t.getPrivateKey)try{i=t.getPrivateKey(t,t.session.serverCertificate),i=Se.pki.privateKeyFromPem(i)}catch(l){t.error(t,{message:"Could not get private key.",cause:l,send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}})}if(i===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}});try{var a=t.session.sp;a.pre_master_secret=i.decrypt(s.enc_pre_master_secret);var o=t.session.clientHelloVersion;if(o.major!==a.pre_master_secret.charCodeAt(0)||o.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{a.pre_master_secret=Se.random.getBytes(48)}t.expect=CI,t.session.clientCertificate!==null&&(t.expect=JJ),t.process()};I.handleCertificateRequest=function(t,e,r){if(r<3)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});var n=e.fragment,s={certificate_types:Ss(n,1),certificate_authorities:Ss(n,2)};t.session.certificateRequest=s,t.expect=KJ,t.process()};I.handleCertificateVerify=function(t,e,r){if(r<2)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});var n=e.fragment;n.read-=4;var s=n.bytes();n.read+=4;var i={signature:Ss(n,2).getBytes()},a=Se.util.createBuffer();a.putBuffer(t.session.md5.digest()),a.putBuffer(t.session.sha1.digest()),a=a.getBytes();try{var o=t.session.clientCertificate;if(!o.publicKey.verify(a,i.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");t.session.md5.update(s),t.session.sha1.update(s)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.handshake_failure}})}t.expect=CI,t.process()};I.handleServerHelloDone=function(t,e,r){if(r>0)return t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.record_overflow}});if(t.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.insufficient_security}},s=0,i=t.verify(t,n.alert.description,s,[]);if(i!==!0)return(i||i===0)&&(typeof i=="object"&&!Se.util.isArray(i)?(i.message&&(n.message=i.message),i.alert&&(n.alert.description=i.alert)):typeof i=="number"&&(n.alert.description=i)),t.error(t,n)}t.session.certificateRequest!==null&&(e=I.createRecord(t,{type:I.ContentType.handshake,data:I.createCertificate(t)}),I.queue(t,e)),e=I.createRecord(t,{type:I.ContentType.handshake,data:I.createClientKeyExchange(t)}),I.queue(t,e),t.expect=WJ;var a=function(o,l){o.session.certificateRequest!==null&&o.session.clientCertificate!==null&&I.queue(o,I.createRecord(o,{type:I.ContentType.handshake,data:I.createCertificateVerify(o,l)})),I.queue(o,I.createRecord(o,{type:I.ContentType.change_cipher_spec,data:I.createChangeCipherSpec()})),o.state.pending=I.createConnectionState(o),o.state.current.write=o.state.pending.write,I.queue(o,I.createRecord(o,{type:I.ContentType.handshake,data:I.createFinished(o)})),o.expect=QV,I.flush(o),o.process()};if(t.session.certificateRequest===null||t.session.clientCertificate===null)return a(t,null);I.getClientSignature(t,a)};I.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});var r=t.entity===I.ConnectionEnd.client;(t.session.resuming&&r||!t.session.resuming&&!r)&&(t.state.pending=I.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&r||t.session.resuming&&!r)&&(t.state.pending=null),t.expect=r?jJ:YJ,t.process()};I.handleFinished=function(t,e,r){var n=e.fragment;n.read-=4;var s=n.bytes();n.read+=4;var i=e.fragment.getBytes();n=Se.util.createBuffer(),n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var a=t.entity===I.ConnectionEnd.client,o=a?"server finished":"client finished",l=t.session.sp,u=12,c=GC;if(n=c(l.master_secret,o,n.getBytes(),u),n.getBytes()!==i)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.decrypt_error}});t.session.md5.update(s),t.session.sha1.update(s),(t.session.resuming&&a||!t.session.resuming&&!a)&&(I.queue(t,I.createRecord(t,{type:I.ContentType.change_cipher_spec,data:I.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createFinished(t)}))),t.expect=a?zJ:QJ,t.handshaking=!1,++t.handshakes,t.peerCertificate=a?t.session.serverCertificate:t.session.clientCertificate,I.flush(t),t.isConnected=!0,t.connected(t),t.process()};I.handleAlert=function(t,e){var r=e.fragment,n={level:r.getByte(),description:r.getByte()},s;switch(n.description){case I.Alert.Description.close_notify:s="Connection closed.";break;case I.Alert.Description.unexpected_message:s="Unexpected message.";break;case I.Alert.Description.bad_record_mac:s="Bad record MAC.";break;case I.Alert.Description.decryption_failed:s="Decryption failed.";break;case I.Alert.Description.record_overflow:s="Record overflow.";break;case I.Alert.Description.decompression_failure:s="Decompression failed.";break;case I.Alert.Description.handshake_failure:s="Handshake failure.";break;case I.Alert.Description.bad_certificate:s="Bad certificate.";break;case I.Alert.Description.unsupported_certificate:s="Unsupported certificate.";break;case I.Alert.Description.certificate_revoked:s="Certificate revoked.";break;case I.Alert.Description.certificate_expired:s="Certificate expired.";break;case I.Alert.Description.certificate_unknown:s="Certificate unknown.";break;case I.Alert.Description.illegal_parameter:s="Illegal parameter.";break;case I.Alert.Description.unknown_ca:s="Unknown certificate authority.";break;case I.Alert.Description.access_denied:s="Access denied.";break;case I.Alert.Description.decode_error:s="Decode error.";break;case I.Alert.Description.decrypt_error:s="Decrypt error.";break;case I.Alert.Description.export_restriction:s="Export restriction.";break;case I.Alert.Description.protocol_version:s="Unsupported protocol version.";break;case I.Alert.Description.insufficient_security:s="Insufficient security.";break;case I.Alert.Description.internal_error:s="Internal error.";break;case I.Alert.Description.user_canceled:s="User canceled.";break;case I.Alert.Description.no_renegotiation:s="Renegotiation not supported.";break;default:s="Unknown error.";break}if(n.description===I.Alert.Description.close_notify)return t.close();t.error(t,{message:s,send:!1,origin:t.entity===I.ConnectionEnd.client?"server":"client",alert:n}),t.process()};I.handleHandshake=function(t,e){var r=e.fragment,n=r.getByte(),s=r.getInt24();if(s>r.length())return t.fragmented=e,e.fragment=Se.util.createBuffer(),r.read-=4,t.process();t.fragmented=null,r.read-=4;var i=r.bytes(s+4);r.read+=4,n in ow[t.entity][t.expect]?(t.entity===I.ConnectionEnd.server&&!t.open&&!t.fail&&(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:Se.md.md5.create(),sha1:Se.md.sha1.create()}),n!==I.HandshakeType.hello_request&&n!==I.HandshakeType.certificate_verify&&n!==I.HandshakeType.finished&&(t.session.md5.update(i),t.session.sha1.update(i)),ow[t.entity][t.expect][n](t,e,s)):I.handleUnexpected(t,e)};I.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()};I.handleHeartbeat=function(t,e){var r=e.fragment,n=r.getByte(),s=r.getInt16(),i=r.getBytes(s);if(n===I.HeartbeatMessageType.heartbeat_request){if(t.handshaking||s>i.length)return t.process();I.queue(t,I.createRecord(t,{type:I.ContentType.heartbeat,data:I.createHeartbeat(I.HeartbeatMessageType.heartbeat_response,i)})),I.flush(t)}else if(n===I.HeartbeatMessageType.heartbeat_response){if(i!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,Se.util.createBuffer(i))}t.process()};var $J=0,FJ=1,oB=2,HJ=3,KJ=4,QV=5,jJ=6,zJ=7,WJ=8,GJ=0,qJ=1,IA=2,JJ=3,CI=4,YJ=5,QJ=6,k=I.handleUnexpected,XV=I.handleChangeCipherSpec,pn=I.handleAlert,Un=I.handleHandshake,ZV=I.handleApplicationData,mn=I.handleHeartbeat,EI=[];EI[I.ConnectionEnd.client]=[[k,pn,Un,k,mn],[k,pn,Un,k,mn],[k,pn,Un,k,mn],[k,pn,Un,k,mn],[k,pn,Un,k,mn],[XV,pn,k,k,mn],[k,pn,Un,k,mn],[k,pn,Un,ZV,mn],[k,pn,Un,k,mn]];EI[I.ConnectionEnd.server]=[[k,pn,Un,k,mn],[k,pn,Un,k,mn],[k,pn,Un,k,mn],[k,pn,Un,k,mn],[XV,pn,k,k,mn],[k,pn,Un,k,mn],[k,pn,Un,ZV,mn],[k,pn,Un,k,mn]];var So=I.handleHelloRequest,XJ=I.handleServerHello,eD=I.handleCertificate,lB=I.handleServerKeyExchange,ob=I.handleCertificateRequest,Fy=I.handleServerHelloDone,tD=I.handleFinished,ow=[];ow[I.ConnectionEnd.client]=[[k,k,XJ,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[So,k,k,k,k,k,k,k,k,k,k,eD,lB,ob,Fy,k,k,k,k,k,k],[So,k,k,k,k,k,k,k,k,k,k,k,lB,ob,Fy,k,k,k,k,k,k],[So,k,k,k,k,k,k,k,k,k,k,k,k,ob,Fy,k,k,k,k,k,k],[So,k,k,k,k,k,k,k,k,k,k,k,k,k,Fy,k,k,k,k,k,k],[So,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[So,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,tD],[So,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[So,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k]];var ZJ=I.handleClientHello,eY=I.handleClientKeyExchange,tY=I.handleCertificateVerify;ow[I.ConnectionEnd.server]=[[k,ZJ,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,eD,k,k,k,k,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,eY,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,tY,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,tD],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k],[k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k]];I.generateKeys=function(t,e){var r=GC,n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=r(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var s=2*e.mac_key_length+2*e.enc_key_length,i=t.version.major===I.Versions.TLS_1_0.major&&t.version.minor===I.Versions.TLS_1_0.minor;i&&(s+=2*e.fixed_iv_length);var a=r(e.master_secret,"key expansion",n,s),o={client_write_MAC_key:a.getBytes(e.mac_key_length),server_write_MAC_key:a.getBytes(e.mac_key_length),client_write_key:a.getBytes(e.enc_key_length),server_write_key:a.getBytes(e.enc_key_length)};return i&&(o.client_write_IV=a.getBytes(e.fixed_iv_length),o.server_write_IV=a.getBytes(e.fixed_iv_length)),o};I.createConnectionState=function(t){var e=t.entity===I.ConnectionEnd.client,r=function(){var i={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(a){return!0},compressionState:null,compressFunction:function(a){return!0},updateSequenceNumber:function(){i.sequenceNumber[1]===4294967295?(i.sequenceNumber[1]=0,++i.sequenceNumber[0]):++i.sequenceNumber[1]}};return i},n={read:r(),write:r()};if(n.read.update=function(i,a){return n.read.cipherFunction(a,n.read)?n.read.compressFunction(i,a,n.read)||i.error(i,{message:"Could not decompress record.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.decompression_failure}}):i.error(i,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.bad_record_mac}}),!i.fail},n.write.update=function(i,a){return n.write.compressFunction(i,a,n.write)?n.write.cipherFunction(a,n.write)||i.error(i,{message:"Could not encrypt record.",send:!1,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}}):i.error(i,{message:"Could not compress record.",send:!1,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}}),!i.fail},t.session){var s=t.session.sp;switch(t.session.cipherSuite.initSecurityParameters(s),s.keys=I.generateKeys(t,s),n.read.macKey=e?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=e?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(n,t,s),s.compression_algorithm){case I.CompressionMethod.none:break;case I.CompressionMethod.deflate:n.read.compressFunction=MJ,n.write.compressFunction=UJ;break;default:throw new Error("Unsupported compression algorithm.")}}return n};I.createRandom=function(){var t=new Date,e=+t+t.getTimezoneOffset()*6e4,r=Se.util.createBuffer();return r.putInt32(e),r.putBytes(Se.random.getBytes(28)),r};I.createRecord=function(t,e){if(!e.data)return null;var r={type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data};return r};I.createAlert=function(t,e){var r=Se.util.createBuffer();return r.putByte(e.level),r.putByte(e.description),I.createRecord(t,{type:I.ContentType.alert,data:r})};I.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=Se.util.createBuffer(),r=0;r<t.cipherSuites.length;++r){var n=t.cipherSuites[r];e.putByte(n.id[0]),e.putByte(n.id[1])}var s=e.length(),i=Se.util.createBuffer();i.putByte(I.CompressionMethod.none);var a=i.length(),o=Se.util.createBuffer();if(t.virtualHost){var l=Se.util.createBuffer();l.putByte(0),l.putByte(0);var u=Se.util.createBuffer();u.putByte(0),$s(u,2,Se.util.createBuffer(t.virtualHost));var c=Se.util.createBuffer();$s(c,2,u),$s(l,2,c),o.putBuffer(l)}var f=o.length();f>0&&(f+=2);var h=t.session.id,p=h.length+1+2+4+28+2+s+1+a+f,d=Se.util.createBuffer();return d.putByte(I.HandshakeType.client_hello),d.putInt24(p),d.putByte(t.version.major),d.putByte(t.version.minor),d.putBytes(t.session.sp.client_random),$s(d,1,Se.util.createBuffer(h)),$s(d,2,e),$s(d,1,i),f>0&&$s(d,2,o),d};I.createServerHello=function(t){var e=t.session.id,r=e.length+1+2+4+28+2+1,n=Se.util.createBuffer();return n.putByte(I.HandshakeType.server_hello),n.putInt24(r),n.putByte(t.version.major),n.putByte(t.version.minor),n.putBytes(t.session.sp.server_random),$s(n,1,Se.util.createBuffer(e)),n.putByte(t.session.cipherSuite.id[0]),n.putByte(t.session.cipherSuite.id[1]),n.putByte(t.session.compressionMethod),n};I.createCertificate=function(t){var e=t.entity===I.ConnectionEnd.client,r=null;if(t.getCertificate){var n;e?n=t.session.certificateRequest:n=t.session.extensions.server_name.serverNameList,r=t.getCertificate(t,n)}var s=Se.util.createBuffer();if(r!==null)try{Se.util.isArray(r)||(r=[r]);for(var i=null,a=0;a<r.length;++a){var o=Se.pem.decode(r[a])[0];if(o.type!=="CERTIFICATE"&&o.type!=="X509 CERTIFICATE"&&o.type!=="TRUSTED CERTIFICATE"){var l=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw l.headerType=o.type,l}if(o.procType&&o.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=Se.util.createBuffer(o.body);i===null&&(i=Se.asn1.fromDer(u.bytes(),!1));var c=Se.util.createBuffer();$s(c,3,u),s.putBuffer(c)}r=Se.pki.certificateFromAsn1(i),e?t.session.clientCertificate=r:t.session.serverCertificate=r}catch(p){return t.error(t,{message:"Could not send certificate list.",cause:p,send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.bad_certificate}})}var f=3+s.length(),h=Se.util.createBuffer();return h.putByte(I.HandshakeType.certificate),h.putInt24(f),$s(h,3,s),h};I.createClientKeyExchange=function(t){var e=Se.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(Se.random.getBytes(46));var r=t.session.sp;r.pre_master_secret=e.getBytes();var n=t.session.serverCertificate.publicKey;e=n.encrypt(r.pre_master_secret);var s=e.length+2,i=Se.util.createBuffer();return i.putByte(I.HandshakeType.client_key_exchange),i.putInt24(s),i.putInt16(e.length),i.putBytes(e),i};I.createServerKeyExchange=function(t){var e=Se.util.createBuffer();return e};I.getClientSignature=function(t,e){var r=Se.util.createBuffer();r.putBuffer(t.session.md5.digest()),r.putBuffer(t.session.sha1.digest()),r=r.getBytes(),t.getSignature=t.getSignature||function(n,s,i){var a=null;if(n.getPrivateKey)try{a=n.getPrivateKey(n,n.session.clientCertificate),a=Se.pki.privateKeyFromPem(a)}catch(o){n.error(n,{message:"Could not get private key.",cause:o,send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}})}a===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}}):s=a.sign(s,null),i(n,s)},t.getSignature(t,r,e)};I.createCertificateVerify=function(t,e){var r=e.length+2,n=Se.util.createBuffer();return n.putByte(I.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(e.length),n.putBytes(e),n};I.createCertificateRequest=function(t){var e=Se.util.createBuffer();e.putByte(1);var r=Se.util.createBuffer();for(var n in t.caStore.certs){var s=t.caStore.certs[n],i=Se.pki.distinguishedNameToAsn1(s.subject),a=Se.asn1.toDer(i);r.putInt16(a.length()),r.putBuffer(a)}var o=1+e.length()+2+r.length(),l=Se.util.createBuffer();return l.putByte(I.HandshakeType.certificate_request),l.putInt24(o),$s(l,1,e),$s(l,2,r),l};I.createServerHelloDone=function(t){var e=Se.util.createBuffer();return e.putByte(I.HandshakeType.server_hello_done),e.putInt24(0),e};I.createChangeCipherSpec=function(){var t=Se.util.createBuffer();return t.putByte(1),t};I.createFinished=function(t){var e=Se.util.createBuffer();e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest());var r=t.entity===I.ConnectionEnd.client,n=t.session.sp,s=12,i=GC,a=r?"client finished":"server finished";e=i(n.master_secret,a,e.getBytes(),s);var o=Se.util.createBuffer();return o.putByte(I.HandshakeType.finished),o.putInt24(e.length()),o.putBuffer(e),o};I.createHeartbeat=function(t,e,r){typeof r>"u"&&(r=e.length);var n=Se.util.createBuffer();n.putByte(t),n.putInt16(r),n.putBytes(e);var s=n.length(),i=Math.max(16,s-r-3);return n.putBytes(Se.random.getBytes(i)),n};I.queue=function(t,e){if(e&&!(e.fragment.length()===0&&(e.type===I.ContentType.handshake||e.type===I.ContentType.alert||e.type===I.ContentType.change_cipher_spec))){if(e.type===I.ContentType.handshake){var r=e.fragment.bytes();t.session.md5.update(r),t.session.sha1.update(r),r=null}var n;if(e.fragment.length()<=I.MaxFragment)n=[e];else{n=[];for(var s=e.fragment.bytes();s.length>I.MaxFragment;)n.push(I.createRecord(t,{type:e.type,data:Se.util.createBuffer(s.slice(0,I.MaxFragment))})),s=s.slice(I.MaxFragment);s.length>0&&n.push(I.createRecord(t,{type:e.type,data:Se.util.createBuffer(s)}))}for(var i=0;i<n.length&&!t.fail;++i){var a=n[i],o=t.state.current.write;o.update(t,a)&&t.records.push(a)}}};I.flush=function(t){for(var e=0;e<t.records.length;++e){var r=t.records[e];t.tlsData.putByte(r.type),t.tlsData.putByte(r.version.major),t.tlsData.putByte(r.version.minor),t.tlsData.putInt16(r.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var lb=function(t){switch(t){case!0:return!0;case Se.pki.certificateError.bad_certificate:return I.Alert.Description.bad_certificate;case Se.pki.certificateError.unsupported_certificate:return I.Alert.Description.unsupported_certificate;case Se.pki.certificateError.certificate_revoked:return I.Alert.Description.certificate_revoked;case Se.pki.certificateError.certificate_expired:return I.Alert.Description.certificate_expired;case Se.pki.certificateError.certificate_unknown:return I.Alert.Description.certificate_unknown;case Se.pki.certificateError.unknown_ca:return I.Alert.Description.unknown_ca;default:return I.Alert.Description.bad_certificate}},rY=function(t){switch(t){case!0:return!0;case I.Alert.Description.bad_certificate:return Se.pki.certificateError.bad_certificate;case I.Alert.Description.unsupported_certificate:return Se.pki.certificateError.unsupported_certificate;case I.Alert.Description.certificate_revoked:return Se.pki.certificateError.certificate_revoked;case I.Alert.Description.certificate_expired:return Se.pki.certificateError.certificate_expired;case I.Alert.Description.certificate_unknown:return Se.pki.certificateError.certificate_unknown;case I.Alert.Description.unknown_ca:return Se.pki.certificateError.unknown_ca;default:return Se.pki.certificateError.bad_certificate}};I.verifyCertificateChain=function(t,e){try{var r={};for(var n in t.verifyOptions)r[n]=t.verifyOptions[n];r.verify=function(i,a,o){var l=lb(i),u=t.verify(t,i,a,o);if(u!==!0){if(typeof u=="object"&&!Se.util.isArray(u)){var c=new Error("The application rejected the certificate.");throw c.send=!0,c.alert={level:I.Alert.Level.fatal,description:I.Alert.Description.bad_certificate},u.message&&(c.message=u.message),u.alert&&(c.alert.description=u.alert),c}u!==i&&(u=rY(u))}return u},Se.pki.verifyCertificateChain(t.caStore,e,r)}catch(i){var s=i;(typeof s!="object"||Se.util.isArray(s))&&(s={send:!0,alert:{level:I.Alert.Level.fatal,description:lb(i)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:I.Alert.Level.fatal,description:lb(s.error)}),t.error(t,s)}return!t.fail};I.createSessionCache=function(t,e){var r=null;if(t&&t.getSession&&t.setSession&&t.order)r=t;else{r={},r.cache=t||{},r.capacity=Math.max(e||100,1),r.order=[];for(var n in t)r.order.length<=e?r.order.push(n):delete t[n];r.getSession=function(s){var i=null,a=null;if(s?a=Se.util.bytesToHex(s):r.order.length>0&&(a=r.order[0]),a!==null&&a in r.cache){i=r.cache[a],delete r.cache[a];for(var o in r.order)if(r.order[o]===a){r.order.splice(o,1);break}}return i},r.setSession=function(s,i){if(r.order.length===r.capacity){var a=r.order.shift();delete r.cache[a]}var a=Se.util.bytesToHex(s);r.order.push(a),r.cache[a]=i}}return r};I.createConnection=function(t){var e=null;t.caStore?Se.util.isArray(t.caStore)?e=Se.pki.createCaStore(t.caStore):e=t.caStore:e=Se.pki.createCaStore();var r=t.cipherSuites||null;if(r===null){r=[];for(var n in I.CipherSuites)r.push(I.CipherSuites[n])}var s=t.server?I.ConnectionEnd.server:I.ConnectionEnd.client,i=t.sessionCache?I.createSessionCache(t.sessionCache):null,a={version:{major:I.Version.major,minor:I.Version.minor},entity:s,sessionId:t.sessionId,caStore:e,sessionCache:i,cipherSuites:r,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(c,f,h,p){return f},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:Se.util.createBuffer(),tlsData:Se.util.createBuffer(),data:Se.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(c,f){f.origin=f.origin||(c.entity===I.ConnectionEnd.client?"client":"server"),f.send&&(I.queue(c,I.createAlert(c,f.alert)),I.flush(c));var h=f.fatal!==!1;h&&(c.fail=!0),t.error(c,f),h&&c.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null};a.reset=function(c){a.version={major:I.Version.major,minor:I.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=a.entity===I.ConnectionEnd.client?$J:GJ,a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(c||typeof c>"u"),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=I.createConnectionState(a)},a.reset();var o=function(c,f){var h=f.type-I.ContentType.change_cipher_spec,p=EI[c.entity][c.expect];h in p?p[h](c,f):I.handleUnexpected(c,f)},l=function(c){var f=0,h=c.input,p=h.length();if(p<5)f=5-p;else{c.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:Se.util.createBuffer(),ready:!1};var d=c.record.version.major===c.version.major;d&&c.session&&c.session.version&&(d=c.record.version.minor===c.version.minor),d||c.error(c,{message:"Incompatible TLS version.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.protocol_version}})}return f},u=function(c){var f=0,h=c.input,p=h.length();if(p<c.record.length)f=c.record.length-p;else{c.record.fragment.putBytes(h.getBytes(c.record.length)),h.compact();var d=c.state.current.read;d.update(c,c.record)&&(c.fragmented!==null&&(c.fragmented.type===c.record.type?(c.fragmented.fragment.putBuffer(c.record.fragment),c.record=c.fragmented):c.error(c,{message:"Invalid fragmented record.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.unexpected_message}})),c.record.ready=!0)}return f};return a.handshake=function(c){if(a.entity!==I.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&a.handshakes===0&&(a.fail=!1),a.handshaking=!0,c=c||"";var f=null;c.length>0&&(a.sessionCache&&(f=a.sessionCache.getSession(c)),f===null&&(c="")),c.length===0&&a.sessionCache&&(f=a.sessionCache.getSession(),f!==null&&(c=f.id)),a.session={id:c,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:Se.md.md5.create(),sha1:Se.md.sha1.create()},f&&(a.version=f.version,a.session.sp=f.sp),a.session.sp.client_random=I.createRandom().getBytes(),a.open=!0,I.queue(a,I.createRecord(a,{type:I.ContentType.handshake,data:I.createClientHello(a)})),I.flush(a)}},a.process=function(c){var f=0;return c&&a.input.putBytes(c),a.fail||(a.record!==null&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),a.record===null&&(f=l(a)),!a.fail&&a.record!==null&&!a.record.ready&&(f=u(a)),!a.fail&&a.record!==null&&a.record.ready&&o(a,a.record)),f},a.prepare=function(c){return I.queue(a,I.createRecord(a,{type:I.ContentType.application_data,data:Se.util.createBuffer(c)})),I.flush(a)},a.prepareHeartbeatRequest=function(c,f){return c instanceof Se.util.ByteBuffer&&(c=c.bytes()),typeof f>"u"&&(f=c.length),a.expectedHeartbeatPayload=c,I.queue(a,I.createRecord(a,{type:I.ContentType.heartbeat,data:I.createHeartbeat(I.HeartbeatMessageType.heartbeat_request,c,f)})),I.flush(a)},a.close=function(c){if(!a.fail&&a.sessionCache&&a.session){var f={id:a.session.id,version:a.session.version,sp:a.session.sp};f.sp.keys=null,a.sessionCache.setSession(f.id,f)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,I.queue(a,I.createAlert(a,{level:I.Alert.Level.warning,description:I.Alert.Description.close_notify})),I.flush(a)),a.closed(a)),a.reset(c)},a};Se.tls=Se.tls||{};for(var ub in I)typeof I[ub]!="function"&&(Se.tls[ub]=I[ub]);Se.tls.prf_tls1=GC;Se.tls.hmac_sha1=DJ;Se.tls.createSessionCache=I.createSessionCache;Se.tls.createConnection=I.createConnection;var Ul=pt,ei=Ul.tls;ei.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=ei.BulkCipherAlgorithm.aes,t.cipher_type=ei.CipherType.block,t.enc_key_length=16,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=ei.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:rD};ei.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(t){t.bulk_cipher_algorithm=ei.BulkCipherAlgorithm.aes,t.cipher_type=ei.CipherType.block,t.enc_key_length=32,t.block_length=16,t.fixed_iv_length=16,t.record_iv_length=16,t.mac_algorithm=ei.MACAlgorithm.hmac_sha1,t.mac_length=20,t.mac_key_length=20},initConnectionState:rD};function rD(t,e,r){var n=e.entity===Ul.tls.ConnectionEnd.client;t.read.cipherState={init:!1,cipher:Ul.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},t.write.cipherState={init:!1,cipher:Ul.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},t.read.cipherFunction=aY,t.write.cipherFunction=nY,t.read.macLength=t.write.macLength=r.mac_length,t.read.macFunction=t.write.macFunction=ei.hmac_sha1}function nY(t,e){var r=!1,n=e.macFunction(e.macKey,e.sequenceNumber,t);t.fragment.putBytes(n),e.updateSequenceNumber();var s;t.version.minor===ei.Versions.TLS_1_0.minor?s=e.cipherState.init?null:e.cipherState.iv:s=Ul.random.getBytesSync(16),e.cipherState.init=!0;var i=e.cipherState.cipher;return i.start({iv:s}),t.version.minor>=ei.Versions.TLS_1_1.minor&&i.output.putBytes(s),i.update(t.fragment),i.finish(sY)&&(t.fragment=i.output,t.length=t.fragment.length(),r=!0),r}function sY(t,e,r){if(!r){var n=t-e.length()%t;e.fillWithByte(n-1,n)}return!0}function iY(t,e,r){var n=!0;if(r){for(var s=e.length(),i=e.last(),a=s-1-i;a<s-1;++a)n=n&&e.at(a)==i;n&&e.truncate(i+1)}return n}function aY(t,e){var r=!1,n;t.version.minor===ei.Versions.TLS_1_0.minor?n=e.cipherState.init?null:e.cipherState.iv:n=t.fragment.getBytes(16),e.cipherState.init=!0;var s=e.cipherState.cipher;s.start({iv:n}),s.update(t.fragment),r=s.finish(iY);var i=e.macLength,a=Ul.random.getBytesSync(i),o=s.output.length();o>=i?(t.fragment=s.output.getBytes(o-i),a=s.output.getBytes(i)):t.fragment=s.output.getBytes(),t.fragment=Ul.util.createBuffer(t.fragment),t.length=t.fragment.length();var l=e.macFunction(e.macKey,e.sequenceNumber,t);return e.updateSequenceNumber(),r=oY(e.macKey,a,l)&&r,r}function oY(t,e,r){var n=Ul.hmac.create();return n.start("SHA1",t),n.update(e),e=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),e===r}var ur=pt,sy=ur.sha512=ur.sha512||{};ur.md.sha512=ur.md.algorithms.sha512=sy;var nD=ur.sha384=ur.sha512.sha384=ur.sha512.sha384||{};nD.create=function(){return sy.create("SHA-384")};ur.md.sha384=ur.md.algorithms.sha384=nD;ur.sha512.sha256=ur.sha512.sha256||{create:function(){return sy.create("SHA-512/256")}};ur.md["sha512/256"]=ur.md.algorithms["sha512/256"]=ur.sha512.sha256;ur.sha512.sha224=ur.sha512.sha224||{create:function(){return sy.create("SHA-512/224")}};ur.md["sha512/224"]=ur.md.algorithms["sha512/224"]=ur.sha512.sha224;sy.create=function(t){if(sD||lY(),typeof t>"u"&&(t="SHA-512"),!(t in gc))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=gc[t],r=null,n=ur.util.createBuffer(),s=new Array(80),i=0;i<80;++i)s[i]=new Array(2);var a=64;switch(t){case"SHA-384":a=48;break;case"SHA-512/256":a=32;break;case"SHA-512/224":a=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:a,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var l=o.messageLengthSize/4,u=0;u<l;++u)o.fullMessageLength.push(0);n=ur.util.createBuffer(),r=new Array(e.length);for(var u=0;u<e.length;++u)r[u]=e[u].slice(0);return o},o.start(),o.update=function(l,u){u==="utf8"&&(l=ur.util.encodeUtf8(l));var c=l.length;o.messageLength+=c,c=[c/4294967296>>>0,c>>>0];for(var f=o.fullMessageLength.length-1;f>=0;--f)o.fullMessageLength[f]+=c[1],c[1]=c[0]+(o.fullMessageLength[f]/4294967296>>>0),o.fullMessageLength[f]=o.fullMessageLength[f]>>>0,c[0]=c[1]/4294967296>>>0;return n.putBytes(l),uB(r,s,n),(n.read>2048||n.length()===0)&&n.compact(),o},o.digest=function(){var l=ur.util.createBuffer();l.putBytes(n.bytes());var u=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,c=u&o.blockLength-1;l.putBytes(TA.substr(0,o.blockLength-c));for(var f,h,p=o.fullMessageLength[0]*8,d=0;d<o.fullMessageLength.length-1;++d)f=o.fullMessageLength[d+1]*8,h=f/4294967296>>>0,p+=h,l.putInt32(p>>>0),p=f>>>0;l.putInt32(p);for(var m=new Array(r.length),d=0;d<r.length;++d)m[d]=r[d].slice(0);uB(m,s,l);var S=ur.util.createBuffer(),g;t==="SHA-512"?g=m.length:t==="SHA-384"?g=m.length-2:g=m.length-4;for(var d=0;d<g;++d)S.putInt32(m[d][0]),(d!==g-1||t!=="SHA-512/224")&&S.putInt32(m[d][1]);return S},o};var TA=null,sD=!1,NA=null,gc=null;function lY(){TA="",TA+=ur.util.fillString("\0",128),NA=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],gc={},gc["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],gc["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],gc["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],gc["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],sD=!0}function uB(t,e,r){for(var n,s,i,a,o,l,u,c,f,h,p,d,m,S,g,v,y,C,E,b,T,O,H,L,Y,ne,z,Z,q,ie,J,G,re,D,ee,B=r.length();B>=128;){for(q=0;q<16;++q)e[q][0]=r.getInt32()>>>0,e[q][1]=r.getInt32()>>>0;for(;q<80;++q)G=e[q-2],ie=G[0],J=G[1],n=((ie>>>19|J<<13)^(J>>>29|ie<<3)^ie>>>6)>>>0,s=((ie<<13|J>>>19)^(J<<3|ie>>>29)^(ie<<26|J>>>6))>>>0,D=e[q-15],ie=D[0],J=D[1],i=((ie>>>1|J<<31)^(ie>>>8|J<<24)^ie>>>7)>>>0,a=((ie<<31|J>>>1)^(ie<<24|J>>>8)^(ie<<25|J>>>7))>>>0,re=e[q-7],ee=e[q-16],J=s+re[1]+a+ee[1],e[q][0]=n+re[0]+i+ee[0]+(J/4294967296>>>0)>>>0,e[q][1]=J>>>0;for(m=t[0][0],S=t[0][1],g=t[1][0],v=t[1][1],y=t[2][0],C=t[2][1],E=t[3][0],b=t[3][1],T=t[4][0],O=t[4][1],H=t[5][0],L=t[5][1],Y=t[6][0],ne=t[6][1],z=t[7][0],Z=t[7][1],q=0;q<80;++q)u=((T>>>14|O<<18)^(T>>>18|O<<14)^(O>>>9|T<<23))>>>0,c=((T<<18|O>>>14)^(T<<14|O>>>18)^(O<<23|T>>>9))>>>0,f=(Y^T&(H^Y))>>>0,h=(ne^O&(L^ne))>>>0,o=((m>>>28|S<<4)^(S>>>2|m<<30)^(S>>>7|m<<25))>>>0,l=((m<<4|S>>>28)^(S<<30|m>>>2)^(S<<25|m>>>7))>>>0,p=(m&g|y&(m^g))>>>0,d=(S&v|C&(S^v))>>>0,J=Z+c+h+NA[q][1]+e[q][1],n=z+u+f+NA[q][0]+e[q][0]+(J/4294967296>>>0)>>>0,s=J>>>0,J=l+d,i=o+p+(J/4294967296>>>0)>>>0,a=J>>>0,z=Y,Z=ne,Y=H,ne=L,H=T,L=O,J=b+s,T=E+n+(J/4294967296>>>0)>>>0,O=J>>>0,E=y,b=C,y=g,C=v,g=m,v=S,J=s+a,m=n+i+(J/4294967296>>>0)>>>0,S=J>>>0;J=t[0][1]+S,t[0][0]=t[0][0]+m+(J/4294967296>>>0)>>>0,t[0][1]=J>>>0,J=t[1][1]+v,t[1][0]=t[1][0]+g+(J/4294967296>>>0)>>>0,t[1][1]=J>>>0,J=t[2][1]+C,t[2][0]=t[2][0]+y+(J/4294967296>>>0)>>>0,t[2][1]=J>>>0,J=t[3][1]+b,t[3][0]=t[3][0]+E+(J/4294967296>>>0)>>>0,t[3][1]=J>>>0,J=t[4][1]+O,t[4][0]=t[4][0]+T+(J/4294967296>>>0)>>>0,t[4][1]=J>>>0,J=t[5][1]+L,t[5][0]=t[5][0]+H+(J/4294967296>>>0)>>>0,t[5][1]=J>>>0,J=t[6][1]+ne,t[6][0]=t[6][0]+Y+(J/4294967296>>>0)>>>0,t[6][1]=J>>>0,J=t[7][1]+Z,t[7][0]=t[7][0]+z+(J/4294967296>>>0)>>>0,t[7][1]=J>>>0,B-=128}}var bI={},uY=pt,nn=uY.asn1;bI.privateKeyValidator={name:"PrivateKeyInfo",tagClass:nn.Class.UNIVERSAL,type:nn.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:nn.Class.UNIVERSAL,type:nn.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:nn.Class.UNIVERSAL,type:nn.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:nn.Class.UNIVERSAL,type:nn.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:nn.Class.UNIVERSAL,type:nn.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};bI.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:nn.Class.UNIVERSAL,type:nn.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:nn.Class.UNIVERSAL,type:nn.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:nn.Class.UNIVERSAL,type:nn.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:nn.Class.UNIVERSAL,type:nn.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]};var yn=pt,iD=bI,cY=iD.publicKeyValidator,fY=iD.privateKeyValidator;if(typeof hY>"u")var hY=yn.jsbn.BigInteger;var RA=yn.util.ByteBuffer,cs=typeof Buffer>"u"?Uint8Array:Buffer;yn.pki=yn.pki||{};yn.pki.ed25519=yn.ed25519=yn.ed25519||{};var yt=yn.ed25519;yt.constants={};yt.constants.PUBLIC_KEY_BYTE_LENGTH=32;yt.constants.PRIVATE_KEY_BYTE_LENGTH=64;yt.constants.SEED_BYTE_LENGTH=32;yt.constants.SIGN_BYTE_LENGTH=64;yt.constants.HASH_BYTE_LENGTH=64;yt.generateKeyPair=function(t){t=t||{};var e=t.seed;if(e===void 0)e=yn.random.getBytesSync(yt.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==yt.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+yt.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=Wa({message:e,encoding:"binary"});for(var r=new cs(yt.constants.PUBLIC_KEY_BYTE_LENGTH),n=new cs(yt.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=e[s];return gY(r,n),{publicKey:r,privateKey:n}};yt.privateKeyFromAsn1=function(t){var e={},r=[],n=yn.asn1.validate(t,fY,e,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var i=yn.asn1.derToOid(e.privateKeyOid),a=yn.oids.EdDSA25519;if(i!==a)throw new Error('Invalid OID "'+i+'"; OID must be "'+a+'".');var o=e.privateKey,l=Wa({message:yn.asn1.fromDer(o).value,encoding:"binary"});return{privateKeyBytes:l}};yt.publicKeyFromAsn1=function(t){var e={},r=[],n=yn.asn1.validate(t,cY,e,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var i=yn.asn1.derToOid(e.publicKeyOid),a=yn.oids.EdDSA25519;if(i!==a)throw new Error('Invalid OID "'+i+'"; OID must be "'+a+'".');var o=e.ed25519PublicKey;if(o.length!==yt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Wa({message:o,encoding:"binary"})};yt.publicKeyFromPrivateKey=function(t){t=t||{};var e=Wa({message:t.privateKey,encoding:"binary"});if(e.length!==yt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+yt.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new cs(yt.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=e[32+n];return r};yt.sign=function(t){t=t||{};var e=Wa(t),r=Wa({message:t.privateKey,encoding:"binary"});if(r.length===yt.constants.SEED_BYTE_LENGTH){var n=yt.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==yt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+yt.constants.SEED_BYTE_LENGTH+" or "+yt.constants.PRIVATE_KEY_BYTE_LENGTH);var s=new cs(yt.constants.SIGN_BYTE_LENGTH+e.length);vY(s,e,e.length,r);for(var i=new cs(yt.constants.SIGN_BYTE_LENGTH),a=0;a<i.length;++a)i[a]=s[a];return i};yt.verify=function(t){t=t||{};var e=Wa(t);if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Wa({message:t.signature,encoding:"binary"});if(r.length!==yt.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+yt.constants.SIGN_BYTE_LENGTH);var n=Wa({message:t.publicKey,encoding:"binary"});if(n.length!==yt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+yt.constants.PUBLIC_KEY_BYTE_LENGTH);var s=new cs(yt.constants.SIGN_BYTE_LENGTH+e.length),i=new cs(yt.constants.SIGN_BYTE_LENGTH+e.length),a;for(a=0;a<yt.constants.SIGN_BYTE_LENGTH;++a)s[a]=r[a];for(a=0;a<e.length;++a)s[a+yt.constants.SIGN_BYTE_LENGTH]=e[a];return yY(i,s,s.length,n)>=0};function Wa(t){var e=t.message;if(e instanceof Uint8Array||e instanceof cs)return e;var r=t.encoding;if(e===void 0)if(t.md)e=t.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,r);e=new RA(e,r)}else if(!(e instanceof RA))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new cs(e.length()),s=0;s<n.length;++s)n[s]=e.at(s);return n}var BA=Ze(),lw=Ze([1]),dY=Ze([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),pY=Ze([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),cB=Ze([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),fB=Ze([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),cb=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),mY=Ze([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Wg(t,e){var r=yn.md.sha512.create(),n=new RA(t);r.update(n.getBytes(e),"binary");var s=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(s,"binary");for(var i=new cs(yt.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)i[a]=s.charCodeAt(a);return i}function gY(t,e){var r=[Ze(),Ze(),Ze(),Ze()],n,s=Wg(e,32);for(s[0]&=248,s[31]&=127,s[31]|=64,AI(r,s),xI(t,r),n=0;n<32;++n)e[n+32]=t[n];return 0}function vY(t,e,r,n){var s,i,a=new Float64Array(64),o=[Ze(),Ze(),Ze(),Ze()],l=Wg(n,32);l[0]&=248,l[31]&=127,l[31]|=64;var u=r+64;for(s=0;s<r;++s)t[64+s]=e[s];for(s=0;s<32;++s)t[32+s]=l[32+s];var c=Wg(t.subarray(32),r+32);for(_A(c),AI(o,c),xI(t,o),s=32;s<64;++s)t[s]=n[s];var f=Wg(t,r+64);for(_A(f),s=32;s<64;++s)a[s]=0;for(s=0;s<32;++s)a[s]=c[s];for(s=0;s<32;++s)for(i=0;i<32;i++)a[s+i]+=f[s]*l[i];return aD(t.subarray(32),a),u}function yY(t,e,r,n){var s,i,a=new cs(32),o=[Ze(),Ze(),Ze(),Ze()],l=[Ze(),Ze(),Ze(),Ze()];if(i=-1,r<64||SY(l,n))return-1;for(s=0;s<r;++s)t[s]=e[s];for(s=0;s<32;++s)t[s+32]=n[s];var u=Wg(t,r);if(_A(u),uD(o,l,u),AI(l,e.subarray(32)),PA(o,l),xI(a,o),r-=64,oD(e,0,a,0)){for(s=0;s<r;++s)t[s]=0;return-1}for(s=0;s<r;++s)t[s]=e[s+64];return i=r,i}function aD(t,e){var r,n,s,i;for(n=63;n>=32;--n){for(r=0,s=n-32,i=n-12;s<i;++s)e[s]+=r-16*e[n]*cb[s-(n-32)],r=e[s]+128>>8,e[s]-=r*256;e[s]+=r,e[n]=0}for(r=0,s=0;s<32;++s)e[s]+=r-(e[31]>>4)*cb[s],r=e[s]>>8,e[s]&=255;for(s=0;s<32;++s)e[s]-=r*cb[s];for(n=0;n<32;++n)e[n+1]+=e[n]>>8,t[n]=e[n]&255}function _A(t){for(var e=new Float64Array(64),r=0;r<64;++r)e[r]=t[r],t[r]=0;aD(t,e)}function PA(t,e){var r=Ze(),n=Ze(),s=Ze(),i=Ze(),a=Ze(),o=Ze(),l=Ze(),u=Ze(),c=Ze();wd(r,t[1],t[0]),wd(c,e[1],e[0]),Zt(r,r,c),$f(n,t[0],t[1]),$f(c,e[0],e[1]),Zt(n,n,c),Zt(s,t[3],e[3]),Zt(s,s,pY),Zt(i,t[2],e[2]),$f(i,i,i),wd(a,n,r),wd(o,i,s),$f(l,i,s),$f(u,n,r),Zt(t[0],a,o),Zt(t[1],u,l),Zt(t[2],l,o),Zt(t[3],a,u)}function hB(t,e,r){for(var n=0;n<4;++n)cD(t[n],e[n],r)}function xI(t,e){var r=Ze(),n=Ze(),s=Ze();bY(s,e[2]),Zt(r,e[0],s),Zt(n,e[1],s),uw(t,n),t[31]^=lD(r)<<7}function uw(t,e){var r,n,s,i=Ze(),a=Ze();for(r=0;r<16;++r)a[r]=e[r];for(fb(a),fb(a),fb(a),n=0;n<2;++n){for(i[0]=a[0]-65517,r=1;r<15;++r)i[r]=a[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=a[15]-32767-(i[14]>>16&1),s=i[15]>>16&1,i[14]&=65535,cD(a,i,1-s)}for(r=0;r<16;r++)t[2*r]=a[r]&255,t[2*r+1]=a[r]>>8}function SY(t,e){var r=Ze(),n=Ze(),s=Ze(),i=Ze(),a=Ze(),o=Ze(),l=Ze();return El(t[2],lw),wY(t[1],e),vc(s,t[1]),Zt(i,s,dY),wd(s,s,t[2]),$f(i,t[2],i),vc(a,i),vc(o,a),Zt(l,o,a),Zt(r,l,s),Zt(r,r,i),CY(r,r),Zt(r,r,s),Zt(r,r,i),Zt(r,r,i),Zt(t[0],r,i),vc(n,t[0]),Zt(n,n,i),dB(n,s)&&Zt(t[0],t[0],mY),vc(n,t[0]),Zt(n,n,i),dB(n,s)?-1:(lD(t[0])===e[31]>>7&&wd(t[0],BA,t[0]),Zt(t[3],t[0],t[1]),0)}function wY(t,e){var r;for(r=0;r<16;++r)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function CY(t,e){var r=Ze(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=250;n>=0;--n)vc(r,r),n!==1&&Zt(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function dB(t,e){var r=new cs(32),n=new cs(32);return uw(r,t),uw(n,e),oD(r,0,n,0)}function oD(t,e,r,n){return EY(t,e,r,n,32)}function EY(t,e,r,n,s){var i,a=0;for(i=0;i<s;++i)a|=t[e+i]^r[n+i];return(1&a-1>>>8)-1}function lD(t){var e=new cs(32);return uw(e,t),e[0]&1}function uD(t,e,r){var n,s;for(El(t[0],BA),El(t[1],lw),El(t[2],lw),El(t[3],BA),s=255;s>=0;--s)n=r[s/8|0]>>(s&7)&1,hB(t,e,n),PA(e,t),PA(t,t),hB(t,e,n)}function AI(t,e){var r=[Ze(),Ze(),Ze(),Ze()];El(r[0],cB),El(r[1],fB),El(r[2],lw),Zt(r[3],cB,fB),uD(t,r,e)}function El(t,e){var r;for(r=0;r<16;r++)t[r]=e[r]|0}function bY(t,e){var r=Ze(),n;for(n=0;n<16;++n)r[n]=e[n];for(n=253;n>=0;--n)vc(r,r),n!==2&&n!==4&&Zt(r,r,e);for(n=0;n<16;++n)t[n]=r[n]}function fb(t){var e,r,n=1;for(e=0;e<16;++e)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-n*65536;t[0]+=n-1+37*(n-1)}function cD(t,e,r){for(var n,s=~(r-1),i=0;i<16;++i)n=s&(t[i]^e[i]),t[i]^=n,e[i]^=n}function Ze(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;++e)r[e]=t[e];return r}function $f(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]+r[n]}function wd(t,e,r){for(var n=0;n<16;++n)t[n]=e[n]-r[n]}function vc(t,e){Zt(t,e,e)}function Zt(t,e,r){var n,s,i=0,a=0,o=0,l=0,u=0,c=0,f=0,h=0,p=0,d=0,m=0,S=0,g=0,v=0,y=0,C=0,E=0,b=0,T=0,O=0,H=0,L=0,Y=0,ne=0,z=0,Z=0,q=0,ie=0,J=0,G=0,re=0,D=r[0],ee=r[1],B=r[2],K=r[3],$=r[4],ce=r[5],Q=r[6],fe=r[7],oe=r[8],X=r[9],Ie=r[10],be=r[11],Ae=r[12],me=r[13],Me=r[14],Fe=r[15];n=e[0],i+=n*D,a+=n*ee,o+=n*B,l+=n*K,u+=n*$,c+=n*ce,f+=n*Q,h+=n*fe,p+=n*oe,d+=n*X,m+=n*Ie,S+=n*be,g+=n*Ae,v+=n*me,y+=n*Me,C+=n*Fe,n=e[1],a+=n*D,o+=n*ee,l+=n*B,u+=n*K,c+=n*$,f+=n*ce,h+=n*Q,p+=n*fe,d+=n*oe,m+=n*X,S+=n*Ie,g+=n*be,v+=n*Ae,y+=n*me,C+=n*Me,E+=n*Fe,n=e[2],o+=n*D,l+=n*ee,u+=n*B,c+=n*K,f+=n*$,h+=n*ce,p+=n*Q,d+=n*fe,m+=n*oe,S+=n*X,g+=n*Ie,v+=n*be,y+=n*Ae,C+=n*me,E+=n*Me,b+=n*Fe,n=e[3],l+=n*D,u+=n*ee,c+=n*B,f+=n*K,h+=n*$,p+=n*ce,d+=n*Q,m+=n*fe,S+=n*oe,g+=n*X,v+=n*Ie,y+=n*be,C+=n*Ae,E+=n*me,b+=n*Me,T+=n*Fe,n=e[4],u+=n*D,c+=n*ee,f+=n*B,h+=n*K,p+=n*$,d+=n*ce,m+=n*Q,S+=n*fe,g+=n*oe,v+=n*X,y+=n*Ie,C+=n*be,E+=n*Ae,b+=n*me,T+=n*Me,O+=n*Fe,n=e[5],c+=n*D,f+=n*ee,h+=n*B,p+=n*K,d+=n*$,m+=n*ce,S+=n*Q,g+=n*fe,v+=n*oe,y+=n*X,C+=n*Ie,E+=n*be,b+=n*Ae,T+=n*me,O+=n*Me,H+=n*Fe,n=e[6],f+=n*D,h+=n*ee,p+=n*B,d+=n*K,m+=n*$,S+=n*ce,g+=n*Q,v+=n*fe,y+=n*oe,C+=n*X,E+=n*Ie,b+=n*be,T+=n*Ae,O+=n*me,H+=n*Me,L+=n*Fe,n=e[7],h+=n*D,p+=n*ee,d+=n*B,m+=n*K,S+=n*$,g+=n*ce,v+=n*Q,y+=n*fe,C+=n*oe,E+=n*X,b+=n*Ie,T+=n*be,O+=n*Ae,H+=n*me,L+=n*Me,Y+=n*Fe,n=e[8],p+=n*D,d+=n*ee,m+=n*B,S+=n*K,g+=n*$,v+=n*ce,y+=n*Q,C+=n*fe,E+=n*oe,b+=n*X,T+=n*Ie,O+=n*be,H+=n*Ae,L+=n*me,Y+=n*Me,ne+=n*Fe,n=e[9],d+=n*D,m+=n*ee,S+=n*B,g+=n*K,v+=n*$,y+=n*ce,C+=n*Q,E+=n*fe,b+=n*oe,T+=n*X,O+=n*Ie,H+=n*be,L+=n*Ae,Y+=n*me,ne+=n*Me,z+=n*Fe,n=e[10],m+=n*D,S+=n*ee,g+=n*B,v+=n*K,y+=n*$,C+=n*ce,E+=n*Q,b+=n*fe,T+=n*oe,O+=n*X,H+=n*Ie,L+=n*be,Y+=n*Ae,ne+=n*me,z+=n*Me,Z+=n*Fe,n=e[11],S+=n*D,g+=n*ee,v+=n*B,y+=n*K,C+=n*$,E+=n*ce,b+=n*Q,T+=n*fe,O+=n*oe,H+=n*X,L+=n*Ie,Y+=n*be,ne+=n*Ae,z+=n*me,Z+=n*Me,q+=n*Fe,n=e[12],g+=n*D,v+=n*ee,y+=n*B,C+=n*K,E+=n*$,b+=n*ce,T+=n*Q,O+=n*fe,H+=n*oe,L+=n*X,Y+=n*Ie,ne+=n*be,z+=n*Ae,Z+=n*me,q+=n*Me,ie+=n*Fe,n=e[13],v+=n*D,y+=n*ee,C+=n*B,E+=n*K,b+=n*$,T+=n*ce,O+=n*Q,H+=n*fe,L+=n*oe,Y+=n*X,ne+=n*Ie,z+=n*be,Z+=n*Ae,q+=n*me,ie+=n*Me,J+=n*Fe,n=e[14],y+=n*D,C+=n*ee,E+=n*B,b+=n*K,T+=n*$,O+=n*ce,H+=n*Q,L+=n*fe,Y+=n*oe,ne+=n*X,z+=n*Ie,Z+=n*be,q+=n*Ae,ie+=n*me,J+=n*Me,G+=n*Fe,n=e[15],C+=n*D,E+=n*ee,b+=n*B,T+=n*K,O+=n*$,H+=n*ce,L+=n*Q,Y+=n*fe,ne+=n*oe,z+=n*X,Z+=n*Ie,q+=n*be,ie+=n*Ae,J+=n*me,G+=n*Me,re+=n*Fe,i+=38*E,a+=38*b,o+=38*T,l+=38*O,u+=38*H,c+=38*L,f+=38*Y,h+=38*ne,p+=38*z,d+=38*Z,m+=38*q,S+=38*ie,g+=38*J,v+=38*G,y+=38*re,s=1,n=i+s+65535,s=Math.floor(n/65536),i=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=o+s+65535,s=Math.floor(n/65536),o=n-s*65536,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=S+s+65535,s=Math.floor(n/65536),S=n-s*65536,n=g+s+65535,s=Math.floor(n/65536),g=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=y+s+65535,s=Math.floor(n/65536),y=n-s*65536,n=C+s+65535,s=Math.floor(n/65536),C=n-s*65536,i+=s-1+37*(s-1),s=1,n=i+s+65535,s=Math.floor(n/65536),i=n-s*65536,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=o+s+65535,s=Math.floor(n/65536),o=n-s*65536,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=S+s+65535,s=Math.floor(n/65536),S=n-s*65536,n=g+s+65535,s=Math.floor(n/65536),g=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=y+s+65535,s=Math.floor(n/65536),y=n-s*65536,n=C+s+65535,s=Math.floor(n/65536),C=n-s*65536,i+=s-1+37*(s-1),t[0]=i,t[1]=a,t[2]=o,t[3]=l,t[4]=u,t[5]=c,t[6]=f,t[7]=h,t[8]=p,t[9]=d,t[10]=m,t[11]=S,t[12]=g,t[13]=v,t[14]=y,t[15]=C}var xs=pt;xs.kem=xs.kem||{};var pB=xs.jsbn.BigInteger;xs.kem.rsa={};xs.kem.rsa.create=function(t,e){e=e||{};var r=e.prng||xs.random,n={};return n.encrypt=function(s,i){var a=Math.ceil(s.n.bitLength()/8),o;do o=new pB(xs.util.bytesToHex(r.getBytesSync(a)),16).mod(s.n);while(o.compareTo(pB.ONE)<=0);o=xs.util.hexToBytes(o.toString(16));var l=a-o.length;l>0&&(o=xs.util.fillString("\0",l)+o);var u=s.encrypt(o,"NONE"),c=t.generate(o,i);return{encapsulation:u,key:c}},n.decrypt=function(s,i,a){var o=s.decrypt(i,"NONE");return t.generate(o,a)},n};xs.kem.kdf1=function(t,e){fD(this,t,0,e||t.digestLength)};xs.kem.kdf2=function(t,e){fD(this,t,1,e||t.digestLength)};function fD(t,e,r,n){t.generate=function(s,i){for(var a=new xs.util.ByteBuffer,o=Math.ceil(i/n)+r,l=new xs.util.ByteBuffer,u=r;u<o;++u){l.putInt32(u),e.start(),e.update(s+l.getBytes());var c=e.digest();a.putBytes(c.getBytes(n))}return a.truncate(a.length()-i),a.getBytes()}}var Ct=pt;Ct.log=Ct.log||{};Ct.log.levels=["none","error","warning","info","debug","verbose","max"];var cw={},OA=[],Gg=null;Ct.log.LEVEL_LOCKED=2;Ct.log.NO_LEVEL_CHECK=4;Ct.log.INTERPOLATE=8;for(var bl=0;bl<Ct.log.levels.length;++bl){var mB=Ct.log.levels[bl];cw[mB]={index:bl,name:mB.toUpperCase()}}Ct.log.logMessage=function(t){for(var e=cw[t.level].index,r=0;r<OA.length;++r){var n=OA[r];if(n.flags&Ct.log.NO_LEVEL_CHECK)n.f(t);else{var s=cw[n.level].index;e<=s&&n.f(n,t)}}};Ct.log.prepareStandard=function(t){"standard"in t||(t.standard=cw[t.level].name+" ["+t.category+"] "+t.message)};Ct.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=Ct.util.format.apply(this,e)}};Ct.log.prepareStandardFull=function(t){"standardFull"in t||(Ct.log.prepareStandard(t),t.standardFull=t.standard)};for(var gB=["error","warning","info","debug","verbose"],bl=0;bl<gB.length;++bl)(function(e){Ct.log[e]=function(r,n){var s=Array.prototype.slice.call(arguments).slice(2),i={timestamp:new Date,level:e,category:r,message:n,arguments:s};Ct.log.logMessage(i)}})(gB[bl]);Ct.log.makeLogger=function(t){var e={flags:0,f:t};return Ct.log.setLevel(e,"none"),e};Ct.log.setLevel=function(t,e){var r=!1;if(t&&!(t.flags&Ct.log.LEVEL_LOCKED))for(var n=0;n<Ct.log.levels.length;++n){var s=Ct.log.levels[n];if(e==s){t.level=e,r=!0;break}}return r};Ct.log.lock=function(t,e){typeof e>"u"||e?t.flags|=Ct.log.LEVEL_LOCKED:t.flags&=~Ct.log.LEVEL_LOCKED};Ct.log.addLogger=function(t){OA.push(t)};if(typeof console<"u"&&"log"in console){var r0;if(console.error&&console.warn&&console.info&&console.debug){var xY={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},kI=function(t,e){Ct.log.prepareStandard(e);var r=xY[e.level],n=[e.standard];n=n.concat(e.arguments.slice()),r.apply(console,n)};r0=Ct.log.makeLogger(kI)}else{var kI=function(e,r){Ct.log.prepareStandardFull(r),console.log(r.standardFull)};r0=Ct.log.makeLogger(kI)}Ct.log.setLevel(r0,"debug"),Ct.log.addLogger(r0),Gg=r0}else console={log:function(){}};if(Gg!==null&&typeof window<"u"&&window.location){var Hy=new URL(window.location.href).searchParams;if(Hy.has("console.level")&&Ct.log.setLevel(Gg,Hy.get("console.level").slice(-1)[0]),Hy.has("console.lock")){var AY=Hy.get("console.lock").slice(-1)[0];AY=="true"&&Ct.log.lock(Gg)}}Ct.log.consoleLogger=Gg;var Re=pt,U=Re.asn1,Fn=Re.pkcs7=Re.pkcs7||{};Fn.messageFromPem=function(t){var e=Re.pem.decode(t)[0];if(e.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=U.fromDer(e.body);return Fn.messageFromAsn1(n)};Fn.messageToPem=function(t,e){var r={type:"PKCS7",body:U.toDer(t.toAsn1()).getBytes()};return Re.pem.encode(r,{maxline:e})};Fn.messageFromAsn1=function(t){var e={},r=[];if(!U.validate(t,Fn.asn1.contentInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var s=U.derToOid(e.contentType),i;switch(s){case Re.pki.oids.envelopedData:i=Fn.createEnvelopedData();break;case Re.pki.oids.encryptedData:i=Fn.createEncryptedData();break;case Re.pki.oids.signedData:i=Fn.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return i.fromAsn1(e.content.value[0]),i};Fn.createSignedData=function(){var t=null;return t={type:Re.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(II(t,n,Fn.asn1.signedDataValidator),t.certificates=[],t.crls=[],t.digestAlgorithmIdentifiers=[],t.contentInfo=null,t.signerInfos=[],t.rawCapture.certificates)for(var s=t.rawCapture.certificates.value,i=0;i<s.length;++i)t.certificates.push(Re.pki.certificateFromAsn1(s[i]))},toAsn1:function(){t.contentInfo||t.sign();for(var n=[],s=0;s<t.certificates.length;++s)n.push(Re.pki.certificateToAsn1(t.certificates[s]));var i=[],a=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SET,!0,t.digestAlgorithmIdentifiers),t.contentInfo])]);return n.length>0&&a.value[0].value.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,n)),i.length>0&&a.value[0].value.push(U.create(U.Class.CONTEXT_SPECIFIC,1,!0,i)),a.value[0].value.push(U.create(U.Class.UNIVERSAL,U.Type.SET,!0,t.signerInfos)),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.type).getBytes()),a])},addSigner:function(n){var s=n.issuer,i=n.serialNumber;if(n.certificate){var a=n.certificate;typeof a=="string"&&(a=Re.pki.certificateFromPem(a)),s=a.issuer.attributes,i=a.serialNumber}var o=n.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof o=="string"&&(o=Re.pki.privateKeyFromPem(o));var l=n.digestAlgorithm||Re.pki.oids.sha1;switch(l){case Re.pki.oids.sha1:case Re.pki.oids.sha256:case Re.pki.oids.sha384:case Re.pki.oids.sha512:case Re.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+l)}var u=n.authenticatedAttributes||[];if(u.length>0){for(var c=!1,f=!1,h=0;h<u.length;++h){var p=u[h];if(!c&&p.type===Re.pki.oids.contentType){if(c=!0,f)break;continue}if(!f&&p.type===Re.pki.oids.messageDigest){if(f=!0,c)break;continue}}if(!c||!f)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}t.signers.push({key:o,version:1,issuer:s,serialNumber:i,digestAlgorithm:l,signatureAlgorithm:Re.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof t.content!="object"||t.contentInfo===null)&&(t.contentInfo=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(Re.pki.oids.data).getBytes())]),"content"in t)){var s;t.content instanceof Re.util.ByteBuffer?s=t.content.bytes():typeof t.content=="string"&&(s=Re.util.encodeUtf8(t.content)),n.detached?t.detachedContent=U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,s):t.contentInfo.value.push(U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,s)]))}if(t.signers.length!==0){var i=e();r(i)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=Re.pki.certificateFromPem(n)),t.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},t;function e(){for(var n={},s=0;s<t.signers.length;++s){var i=t.signers[s],a=i.digestAlgorithm;a in n||(n[a]=Re.md[Re.pki.oids[a]].create()),i.authenticatedAttributes.length===0?i.md=n[a]:i.md=Re.md[Re.pki.oids[a]].create()}t.digestAlgorithmIdentifiers=[];for(var a in n)t.digestAlgorithmIdentifiers.push(U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(a).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")]));return n}function r(n){var s;if(t.detachedContent?s=t.detachedContent:(s=t.contentInfo.value[1],s=s.value[0]),!s)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var i=U.derToOid(t.contentInfo.value[0].value),a=U.toDer(s);a.getByte(),U.getBerValueLength(a),a=a.getBytes();for(var o in n)n[o].start().update(a);for(var l=new Date,u=0;u<t.signers.length;++u){var c=t.signers[u];if(c.authenticatedAttributes.length===0){if(i!==Re.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{c.authenticatedAttributesAsn1=U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var f=U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[]),h=0;h<c.authenticatedAttributes.length;++h){var p=c.authenticatedAttributes[h];p.type===Re.pki.oids.messageDigest?p.value=n[c.digestAlgorithm].digest():p.type===Re.pki.oids.signingTime&&(p.value||(p.value=l)),f.value.push(LA(p)),c.authenticatedAttributesAsn1.value.push(LA(p))}a=U.toDer(f).getBytes(),c.md.start().update(a)}c.signature=c.key.sign(c.md,"RSASSA-PKCS1-V1_5")}t.signerInfos=BY(t.signers)}};Fn.createEncryptedData=function(){var t=null;return t={type:Re.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Re.pki.oids["aes256-CBC"]},fromAsn1:function(e){II(t,e,Fn.asn1.encryptedDataValidator)},decrypt:function(e){e!==void 0&&(t.encryptedContent.key=e),hD(t)}},t};Fn.createEnvelopedData=function(){var t=null;return t={type:Re.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Re.pki.oids["aes256-CBC"]},fromAsn1:function(e){var r=II(t,e,Fn.asn1.envelopedDataValidator);t.recipients=TY(r.recipientInfos.value)},toAsn1:function(){return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.type).getBytes()),U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SET,!0,NY(t.recipients)),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,_Y(t.encryptedContent))])])])},findRecipient:function(e){for(var r=e.issuer.attributes,n=0;n<t.recipients.length;++n){var s=t.recipients[n],i=s.issuer;if(s.serialNumber===e.serialNumber&&i.length===r.length){for(var a=!0,o=0;o<r.length;++o)if(i[o].type!==r[o].type||i[o].value!==r[o].value){a=!1;break}if(a)return s}}return null},decrypt:function(e,r){if(t.encryptedContent.key===void 0&&e!==void 0&&r!==void 0)switch(e.encryptedContent.algorithm){case Re.pki.oids.rsaEncryption:case Re.pki.oids.desCBC:var n=r.decrypt(e.encryptedContent.content);t.encryptedContent.key=Re.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}hD(t)},addRecipient:function(e){t.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:Re.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,r){if(t.encryptedContent.content===void 0){r=r||t.encryptedContent.algorithm,e=e||t.encryptedContent.key;var n,s,i;switch(r){case Re.pki.oids["aes128-CBC"]:n=16,s=16,i=Re.aes.createEncryptionCipher;break;case Re.pki.oids["aes192-CBC"]:n=24,s=16,i=Re.aes.createEncryptionCipher;break;case Re.pki.oids["aes256-CBC"]:n=32,s=16,i=Re.aes.createEncryptionCipher;break;case Re.pki.oids["des-EDE3-CBC"]:n=24,s=8,i=Re.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(e===void 0)e=Re.util.createBuffer(Re.random.getBytes(n));else if(e.length()!=n)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+n+".");t.encryptedContent.algorithm=r,t.encryptedContent.key=e,t.encryptedContent.parameter=Re.util.createBuffer(Re.random.getBytes(s));var a=i(e);if(a.start(t.encryptedContent.parameter.copy()),a.update(t.content),!a.finish())throw new Error("Symmetric encryption failed.");t.encryptedContent.content=a.output}for(var o=0;o<t.recipients.length;++o){var l=t.recipients[o];if(l.encryptedContent.content===void 0)switch(l.encryptedContent.algorithm){case Re.pki.oids.rsaEncryption:l.encryptedContent.content=l.encryptedContent.key.encrypt(t.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+l.encryptedContent.algorithm)}}}},t};function kY(t){var e={},r=[];if(!U.validate(t,Fn.asn1.recipientInfoValidator,e,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:e.version.charCodeAt(0),issuer:Re.pki.RDNAttributesAsArray(e.issuer),serialNumber:Re.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:U.derToOid(e.encAlgorithm),parameter:e.encParameter?e.encParameter.value:void 0,content:e.encKey}}}function IY(t){return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[Re.pki.distinguishedNameToAsn1({attributes:t.issuer}),U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,Re.util.hexToBytes(t.serialNumber))]),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.encryptedContent.algorithm).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")]),U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,t.encryptedContent.content)])}function TY(t){for(var e=[],r=0;r<t.length;++r)e.push(kY(t[r]));return e}function NY(t){for(var e=[],r=0;r<t.length;++r)e.push(IY(t[r]));return e}function RY(t){var e=U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,U.integerToDer(t.version).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[Re.pki.distinguishedNameToAsn1({attributes:t.issuer}),U.create(U.Class.UNIVERSAL,U.Type.INTEGER,!1,Re.util.hexToBytes(t.serialNumber))]),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.digestAlgorithm).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])]);if(t.authenticatedAttributesAsn1&&e.value.push(t.authenticatedAttributesAsn1),e.value.push(U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.signatureAlgorithm).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.NULL,!1,"")])),e.value.push(U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,t.signature)),t.unauthenticatedAttributes.length>0){for(var r=U.create(U.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<t.unauthenticatedAttributes.length;++n){var s=t.unauthenticatedAttributes[n];r.values.push(LA(s))}e.value.push(r)}return e}function BY(t){for(var e=[],r=0;r<t.length;++r)e.push(RY(t[r]));return e}function LA(t){var e;if(t.type===Re.pki.oids.contentType)e=U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.value).getBytes());else if(t.type===Re.pki.oids.messageDigest)e=U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,t.value.bytes());else if(t.type===Re.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),s=t.value;if(typeof s=="string"){var i=Date.parse(s);isNaN(i)?s.length===13?s=U.utcTimeToDate(s):s=U.generalizedTimeToDate(s):s=new Date(i)}s>=r&&s<n?e=U.create(U.Class.UNIVERSAL,U.Type.UTCTIME,!1,U.dateToUtcTime(s)):e=U.create(U.Class.UNIVERSAL,U.Type.GENERALIZEDTIME,!1,U.dateToGeneralizedTime(s))}return U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.type).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SET,!0,[e])])}function _Y(t){return[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(Re.pki.oids.data).getBytes()),U.create(U.Class.UNIVERSAL,U.Type.SEQUENCE,!0,[U.create(U.Class.UNIVERSAL,U.Type.OID,!1,U.oidToDer(t.algorithm).getBytes()),t.parameter?U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,t.parameter.getBytes()):void 0]),U.create(U.Class.CONTEXT_SPECIFIC,0,!0,[U.create(U.Class.UNIVERSAL,U.Type.OCTETSTRING,!1,t.content.getBytes())])]}function II(t,e,r){var n={},s=[];if(!U.validate(e,r,n,s)){var i=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw i.errors=i,i}var a=U.derToOid(n.contentType);if(a!==Re.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var o="";if(Re.util.isArray(n.encryptedContent))for(var l=0;l<n.encryptedContent.length;++l){if(n.encryptedContent[l].type!==U.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");o+=n.encryptedContent[l].value}else o=n.encryptedContent;t.encryptedContent={algorithm:U.derToOid(n.encAlgorithm),parameter:Re.util.createBuffer(n.encParameter.value),content:Re.util.createBuffer(o)}}if(n.content){var o="";if(Re.util.isArray(n.content))for(var l=0;l<n.content.length;++l){if(n.content[l].type!==U.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");o+=n.content[l].value}else o=n.content;t.content=Re.util.createBuffer(o)}return t.version=n.version.charCodeAt(0),t.rawCapture=n,n}function hD(t){if(t.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(t.content===void 0){var e;switch(t.encryptedContent.algorithm){case Re.pki.oids["aes128-CBC"]:case Re.pki.oids["aes192-CBC"]:case Re.pki.oids["aes256-CBC"]:e=Re.aes.createDecryptionCipher(t.encryptedContent.key);break;case Re.pki.oids.desCBC:case Re.pki.oids["des-EDE3-CBC"]:e=Re.des.createDecryptionCipher(t.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+t.encryptedContent.algorithm)}if(e.start(t.encryptedContent.parameter),e.update(t.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");t.content=e.output}}var zr=pt,qC=zr.ssh=zr.ssh||{};qC.privateKeyToPutty=function(t,e,r){r=r||"",e=e||"";var n="ssh-rsa",s=e===""?"none":"aes256-cbc",i="PuTTY-User-Key-File-2: "+n+`\r
`;i+="Encryption: "+s+`\r
`,i+="Comment: "+r+`\r
`;var a=zr.util.createBuffer();Cd(a,n),Wi(a,t.e),Wi(a,t.n);var o=zr.util.encode64(a.bytes(),64),l=Math.floor(o.length/66)+1;i+="Public-Lines: "+l+`\r
`,i+=o;var u=zr.util.createBuffer();Wi(u,t.d),Wi(u,t.p),Wi(u,t.q),Wi(u,t.qInv);var c;if(!e)c=zr.util.encode64(u.bytes(),64);else{var f=u.length()+16-1;f-=f%16;var h=Ky(u.bytes());h.truncate(h.length()-f+u.length()),u.putBuffer(h);var p=zr.util.createBuffer();p.putBuffer(Ky("\0\0\0\0",e)),p.putBuffer(Ky("\0\0\0",e));var d=zr.aes.createEncryptionCipher(p.truncate(8),"CBC");d.start(zr.util.createBuffer().fillWithByte(0,16)),d.update(u.copy()),d.finish();var m=d.output;m.truncate(16),c=zr.util.encode64(m.bytes(),64)}l=Math.floor(c.length/66)+1,i+=`\r
Private-Lines: `+l+`\r
`,i+=c;var S=Ky("putty-private-key-file-mac-key",e),g=zr.util.createBuffer();Cd(g,n),Cd(g,s),Cd(g,r),g.putInt32(a.length()),g.putBuffer(a),g.putInt32(u.length()),g.putBuffer(u);var v=zr.hmac.create();return v.start("sha1",S),v.update(g.bytes()),i+=`\r
Private-MAC: `+v.digest().toHex()+`\r
`,i};qC.publicKeyToOpenSSH=function(t,e){var r="ssh-rsa";e=e||"";var n=zr.util.createBuffer();return Cd(n,r),Wi(n,t.e),Wi(n,t.n),r+" "+zr.util.encode64(n.bytes())+" "+e};qC.privateKeyToOpenSSH=function(t,e){return e?zr.pki.encryptRsaPrivateKey(t,e,{legacy:!0,algorithm:"aes128"}):zr.pki.privateKeyToPem(t)};qC.getPublicKeyFingerprint=function(t,e){e=e||{};var r=e.md||zr.md.md5.create(),n="ssh-rsa",s=zr.util.createBuffer();Cd(s,n),Wi(s,t.e),Wi(s,t.n),r.start(),r.update(s.getBytes());var i=r.digest();if(e.encoding==="hex"){var a=i.toHex();return e.delimiter?a.match(/.{2}/g).join(e.delimiter):a}else{if(e.encoding==="binary")return i.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return i};function Wi(t,e){var r=e.toString(16);r[0]>="8"&&(r="00"+r);var n=zr.util.hexToBytes(r);t.putInt32(n.length),t.putBytes(n)}function Cd(t,e){t.putInt32(e.length),t.putString(e)}function Ky(){for(var t=zr.md.sha1.create(),e=arguments.length,r=0;r<e;++r)t.update(arguments[r]);return t.digest()}var ea=pt;const vB=Kv(ea);var PY=Ya&&Ya.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)s.hasOwnProperty(i)&&(n[i]=s[i])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fw=Ya&&Ya.__assign||function(){return fw=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},fw.apply(this,arguments)},OY=Ya&&Ya.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&(r[n[s]]=t[n[s]]);return r},dD=Ya&&Ya.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},Vi=dD(pL),hb=dD(N);function LY(t,e,r){var n=r[t+"Style"]||"",s=e&&e[t]||"";return n?n+";"+s:s}function If(t,e,r){var n=LY(t,e,r);return n?' style="'+n+'"':""}var VY={'"':"&quot;","'":"&apos;","&":"&amp;",">":"&gt;","<":"&lt"};function DY(t){return t&&t.replace(/<|>|&|"|'/g,function(e){return VY[e]})}var UY=function(t){PY(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(){var r=this.props,n=r.json,s=r.data,i=r.replacer,a=r.space,o=r.themeClassName,l=r.theme,u=r.onJSONPrettyError,c=r.onError,f=r.silent,h=r.mainStyle,p=r.keyStyle,d=r.valueStyle,m=r.stringStyle,S=r.booleanStyle,g=r.errorStyle,v=OY(r,["json","data","replacer","space","themeClassName","theme","onJSONPrettyError","onError","silent","mainStyle","keyStyle","valueStyle","stringStyle","booleanStyle","errorStyle"]),y={mainStyle:h,keyStyle:p,valueStyle:d,stringStyle:m,booleanStyle:S,errorStyle:g},C=s||n;if(typeof C=="string")try{C=JSON.parse(C)}catch(E){return f||console.warn("[react-json-pretty]: "+E.message),u&&u(E),!u&&c&&(c(E),console.warn("JSONPretty#onError is deprecated, please use JSONPretty#onJSONPrettyError instead")),hb.createElement("div",fw({},v,{dangerouslySetInnerHTML:{__html:'<pre class="__json-pretty-error__"'+If("error",l,y)+">"+DY(C)+"</pre>"}}))}return hb.createElement("div",fw({},v,{dangerouslySetInnerHTML:{__html:'<pre class="'+o+'"'+If("main",l,y)+">"+this._pretty(l,C,i,+a,y)+"</pre>"}}))},e.prototype._pretty=function(r,n,s,i,a){var o=/^( *)("[^"]+": )?("[^"]*"|[\w.+-]*)?([,[{]|\[\s*\],?|\{\s*\},?)?$/mg,l=JSON.stringify(n,typeof s=="function"?s:null,isNaN(i)?2:i);return l&&l.replace(/&/g,"&amp;").replace(/\\"([^,])/g,"\\&quot;$1").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(o,this._replace.bind(null,r,a))},e.prototype._replace=function(r,n,s,i,a,o,l){var u="</span>",c='<span class="__json-key__"'+If("key",r,n)+">",f='<span class="__json-value__"'+If("value",r,n)+">",h='<span class="__json-string__"'+If("string",r,n)+">",p='<span class="__json-boolean__"'+If("boolean",r,n)+">",d=i||"";return a&&(d=d+'"'+c+a.replace(/^"|":\s$/g,"")+u+'": '),o&&(o==="true"||o==="false"?d=d+p+o+u:d=d+(o[0]==='"'?h:f)+o+u),d+(l||"")},e.propTypes={data:Vi.any,json:Vi.any,replacer:Vi.func,silent:Vi.bool,space:Vi.oneOfType([Vi.number,Vi.string]),theme:Vi.object,themeClassName:Vi.string,onJSONPrettyError:Vi.func},e.defaultProps={data:"",json:"",silent:!0,space:2,themeClassName:"__json-pretty__"},e}(hb.Component),MY=UY;const $Y=Kv(MY);function pD(t,e){return t.sort((r,n)=>{const s=e(r),i=e(n);return s>i?1:i>s?-1:0}),t}function mD({value:t}){return P.jsx(P.Fragment,{children:t?"true":"false"})}function FY({value:t}){return P.jsx(P.Fragment,{children:`${t}`})}function HY(){return P.jsx(P.Fragment,{children:"undefined"})}function KY({value:t}){return P.jsxs("span",{children:[typeof t=="boolean"&&P.jsx(mD,{value:t}),typeof t=="number"&&P.jsx(FY,{value:t}),t===void 0&&P.jsx(HY,{})]})}function Tp({data:t,children:e,title:r}){return P.jsx(lI,{title:`id: ${t.id}`,arrow:!0,children:P.jsxs(Av,{children:[P.jsx(iI,{title:P.jsxs(P.Fragment,{children:[r," | critical: ",P.jsx(mD,{value:t.critical})]})}),P.jsx(kv,{children:e})]})})}function JC({value:t}){return P.jsx(P.Fragment,{children:ea.util.bytesToHex(t)})}const jY=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"];function zY({data:t}){return P.jsx(Tp,{data:t,title:t.name,children:P.jsx(pV,{dense:!0,children:jY.map(e=>P.jsx(P.Fragment,{children:P.jsx(WY,{name:e,value:t[e]})}))})})}const WY=({name:t,value:e})=>P.jsx(Sz,{children:P.jsxs(kz,{children:[P.jsx("span",{style:{fontWeight:"bold"},children:t}),": ",e?"true":"false"]})});function GY({data:t}){const e=["cA","pathLenConstraint"];return P.jsx(Tp,{title:"Basic Constraints",data:t,children:e.map(r=>P.jsxs(P.Fragment,{children:[P.jsx("b",{children:r}),": ",P.jsx(KY,{value:t[r]}),P.jsx("br",{})]}))})}function qY({data:t}){return P.jsxs(Tp,{title:"CertificatePolicies",data:t,children:["value: ",P.jsx(JC,{value:t.value})]})}function JY({data:t}){return P.jsxs(Tp,{title:"AuthorityKeyIdentifier",data:t,children:["value: ",P.jsx(JC,{value:t.value})]})}function YY({data:t}){return P.jsxs(Tp,{title:"SubjectKeyIdentifier",data:t,children:[P.jsxs(Hn,{children:["value: ",P.jsx(JC,{value:t.value})]}),P.jsxs(Hn,{children:["subjectKeyIdentifier: ",t.subjectKeyIdentifier]})]})}function QY({data:t}){return P.jsxs(Tp,{title:"SubjectAltNames",data:t,children:[P.jsxs(Hn,{children:["value: ",P.jsx(JC,{value:t.value})]}),P.jsxs(Hn,{children:["SubjectAltNames: ",JSON.stringify(t.altNames)]})]})}function XY({extensions:t}){return P.jsxs("div",{children:[t.map(e=>{if(e.name==="keyUsage")return P.jsx(zY,{data:e});if(e.name==="authorityKeyIdentifier")return P.jsx(JY,{data:e});if(e.name==="subjectKeyIdentifier")return P.jsx(YY,{data:e});if(e.name==="basicConstraints")return P.jsx(GY,{data:e});if(e.name==="certificatePolicies")return P.jsx(qY,{data:e});if(e.name==="subjectAltName")return P.jsx(QY,{data:e})}),P.jsx("hr",{}),P.jsx(TI,{data:t})]})}function YC(t,e){typeof t=="string"?ZY(t,e):t instanceof Blob?gD(t,e):Array.isArray(t)?yB(t,e):yB([t],e)}function ZY(t,e){var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",e),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)}function yB(t,e){const r=new Blob(t,{type:"application/octet-stream"});gD(r,e)}function gD(t,e){const r=window.URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download=e,n.click()}function eQ(t){const e=ea.pki.certificateToPem(t);YC(e,"certificate.pem")}function tQ(t){const e=ea.pki.certificateToAsn1(t),r=vB.asn1.toDer(e);YC(vB.util.binary.raw.decode(r.getBytes()),"certificate.der")}function rQ(t){const{certificate:e}=t;return P.jsxs("div",{children:[P.jsx(nf,{onClick:()=>eQ(e),children:"Get PEM"}),P.jsx(nf,{onClick:()=>tQ(e),children:"Get DER"})]})}function TI({data:t}){const[e,r]=N.useState(!1);return P.jsxs("div",{children:[P.jsx(nf,{onClick:()=>r(n=>!n),children:"Show raw"}),P.jsx(EH,{in:e,children:P.jsx($Y,{data:t})})]})}function nQ({certificate:{issuer:t}}){const e=N.useMemo(()=>pD(t.attributes,r=>r.shortName),[t.attributes]);return P.jsxs(Av,{children:[P.jsx(iI,{title:`hash: ${t.hash}`}),P.jsx(kv,{children:e.map(r=>P.jsx(lI,{title:`type: ${r.type} | name: ${r.name}`,children:P.jsxs("div",{children:[P.jsxs("span",{children:[P.jsx("b",{children:r.shortName||r.name}),": ",r.value]}),P.jsx("br",{})]})}))}),P.jsx(lV,{children:P.jsx(TI,{data:t})})]})}function sQ({certificate:{subject:t}}){const e=N.useMemo(()=>pD(t.attributes,r=>r.shortName),[t.attributes]);return P.jsxs(Av,{children:[P.jsx(iI,{title:`hash: ${t.hash}`}),P.jsx(kv,{children:e.map(r=>P.jsx(lI,{title:`type: ${r.type} | name: ${r.name}`,children:P.jsxs("div",{children:[P.jsxs("span",{children:[P.jsx("b",{children:r.shortName||r.name}),": ",r.value]}),P.jsx("br",{})]})}))}),P.jsx(lV,{children:P.jsx(TI,{data:t})})]})}function iQ(t){const{certifcate:e}=t;return P.jsxs(P.Fragment,{children:[P.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[P.jsx("h2",{children:"Certificate"}),P.jsx(rQ,{certificate:e.certificate})]}),P.jsx("h3",{children:"Issuer"}),P.jsx(nQ,{certificate:e.certificate}),P.jsx("h3",{children:"Subject"}),P.jsx(sQ,{certificate:e.certificate}),P.jsx("h3",{children:"Extensions"}),P.jsx(XY,{extensions:e.certificate.extensions}),P.jsx("h2",{children:"Other"})]})}function Np(t,e,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(f){a(f)}}function l(c){try{u(n.throw(c))}catch(f){a(f)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}function Rp(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function SB(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],a;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(o){a={error:o}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return i}function wB(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var aQ=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function iy(t,e){var r=oQ(t);if(typeof r.path!="string"){var n=t.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof e=="string"?e:typeof n=="string"&&n.length>0?n:t.name,writable:!1,configurable:!1,enumerable:!0})}return r}function oQ(t){var e=t.name,r=e&&e.lastIndexOf(".")!==-1;if(r&&!t.type){var n=e.split(".").pop().toLowerCase(),s=aQ.get(n);s&&Object.defineProperty(t,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return t}var lQ=[".DS_Store","Thumbs.db"];function uQ(t){return Np(this,void 0,void 0,function(){return Rp(this,function(e){return hw(t)&&cQ(t.dataTransfer)?[2,pQ(t.dataTransfer,t.type)]:fQ(t)?[2,hQ(t)]:Array.isArray(t)&&t.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,dQ(t)]:[2,[]]})})}function cQ(t){return hw(t)}function fQ(t){return hw(t)&&hw(t.target)}function hw(t){return typeof t=="object"&&t!==null}function hQ(t){return VA(t.target.files).map(function(e){return iy(e)})}function dQ(t){return Np(this,void 0,void 0,function(){var e;return Rp(this,function(r){switch(r.label){case 0:return[4,Promise.all(t.map(function(n){return n.getFile()}))];case 1:return e=r.sent(),[2,e.map(function(n){return iy(n)})]}})})}function pQ(t,e){return Np(this,void 0,void 0,function(){var r,n;return Rp(this,function(s){switch(s.label){case 0:return t.items?(r=VA(t.items).filter(function(i){return i.kind==="file"}),e!=="drop"?[2,r]:[4,Promise.all(r.map(mQ))]):[3,2];case 1:return n=s.sent(),[2,CB(vD(n))];case 2:return[2,CB(VA(t.files).map(function(i){return iy(i)}))]}})})}function CB(t){return t.filter(function(e){return lQ.indexOf(e.name)===-1})}function VA(t){if(t===null)return[];for(var e=[],r=0;r<t.length;r++){var n=t[r];e.push(n)}return e}function mQ(t){if(typeof t.webkitGetAsEntry!="function")return EB(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?yD(e):EB(t)}function vD(t){return t.reduce(function(e,r){return wB(wB([],SB(e),!1),SB(Array.isArray(r)?vD(r):[r]),!1)},[])}function EB(t){var e=t.getAsFile();if(!e)return Promise.reject("".concat(t," is not a File"));var r=iy(e);return Promise.resolve(r)}function gQ(t){return Np(this,void 0,void 0,function(){return Rp(this,function(e){return[2,t.isDirectory?yD(t):vQ(t)]})})}function yD(t){var e=t.createReader();return new Promise(function(r,n){var s=[];function i(){var a=this;e.readEntries(function(o){return Np(a,void 0,void 0,function(){var l,u,c;return Rp(this,function(f){switch(f.label){case 0:if(o.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(s)];case 2:return l=f.sent(),r(l),[3,4];case 3:return u=f.sent(),n(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(o.map(gQ)),s.push(c),i(),f.label=6;case 6:return[2]}})})},function(o){n(o)})}i()})}function vQ(t){return Np(this,void 0,void 0,function(){return Rp(this,function(e){return[2,new Promise(function(r,n){t.file(function(s){var i=iy(s,t.fullPath);r(i)},function(s){n(s)})})]})})}var yQ=function(t,e){if(t&&e){var r=Array.isArray(e)?e:e.split(","),n=t.name||"",s=(t.type||"").toLowerCase(),i=s.replace(/\/.*$/,"");return r.some(function(a){var o=a.trim().toLowerCase();return o.charAt(0)==="."?n.toLowerCase().endsWith(o):o.endsWith("/*")?i===o.replace(/\/.*$/,""):s===o})}return!0};function bB(t){return CQ(t)||wQ(t)||wD(t)||SQ()}function SQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CQ(t){if(Array.isArray(t))return DA(t)}function xB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function AB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(r),!0).forEach(function(n){SD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tv(t,e){return xQ(t)||bQ(t,e)||wD(t,e)||EQ()}function EQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wD(t,e){if(t){if(typeof t=="string")return DA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DA(t,e)}}function DA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],s=!0,i=!1,a,o;try{for(r=r.call(t);!(s=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));s=!0);}catch(l){i=!0,o=l}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function xQ(t){if(Array.isArray(t))return t}var AQ="file-invalid-type",kQ="file-too-large",IQ="file-too-small",TQ="too-many-files",NQ=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var r=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:AQ,message:"File type must be ".concat(r)}},kB=function(e){return{code:kQ,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},IB=function(e){return{code:IQ,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},RQ={code:TQ,message:"Too many files"};function CD(t,e){var r=t.type==="application/x-moz-file"||yQ(t,e);return[r,r?null:NQ(e)]}function ED(t,e,r){if(yc(t.size))if(yc(e)&&yc(r)){if(t.size>r)return[!1,kB(r)];if(t.size<e)return[!1,IB(e)]}else{if(yc(e)&&t.size<e)return[!1,IB(e)];if(yc(r)&&t.size>r)return[!1,kB(r)]}return[!0,null]}function yc(t){return t!=null}function BQ(t){var e=t.files,r=t.accept,n=t.minSize,s=t.maxSize,i=t.multiple,a=t.maxFiles,o=t.validator;return!i&&e.length>1||i&&a>=1&&e.length>a?!1:e.every(function(l){var u=CD(l,r),c=Tv(u,1),f=c[0],h=ED(l,n,s),p=Tv(h,1),d=p[0],m=o?o(l):null;return f&&d&&!m})}function dw(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function jy(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function TB(t){t.preventDefault()}function _Q(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function PQ(t){return t.indexOf("Edge/")!==-1}function OQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return _Q(t)||PQ(t)}function Di(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){for(var s=arguments.length,i=new Array(s>1?s-1:0),a=1;a<s;a++)i[a-1]=arguments[a];return e.some(function(o){return!dw(n)&&o&&o.apply(void 0,[n].concat(i)),dw(n)})}}function LQ(){return"showOpenFilePicker"in window}function VQ(t){if(yc(t)){var e=Object.entries(t).filter(function(r){var n=Tv(r,2),s=n[0],i=n[1],a=!0;return bD(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),(!Array.isArray(i)||!i.every(xD))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(r,n){var s=Tv(n,2),i=s[0],a=s[1];return AB(AB({},r),{},SD({},i,a))},{});return[{description:"Files",accept:e}]}return t}function DQ(t){if(yc(t))return Object.entries(t).reduce(function(e,r){var n=Tv(r,2),s=n[0],i=n[1];return[].concat(bB(e),[s],bB(i))},[]).filter(function(e){return bD(e)||xD(e)}).join(",")}function UQ(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function MQ(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function bD(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||/\w+\/[-+.\w]+/g.test(t)}function xD(t){return/^.*\.[\w]+$/.test(t)}var $Q=["children"],FQ=["open"],HQ=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],KQ=["refKey","onChange","onClick"];function jQ(t){return GQ(t)||WQ(t)||AD(t)||zQ()}function zQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GQ(t){if(Array.isArray(t))return UA(t)}function db(t,e){return YQ(t)||JQ(t,e)||AD(t,e)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AD(t,e){if(t){if(typeof t=="string")return UA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UA(t,e)}}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],s=!0,i=!1,a,o;try{for(r=r.call(t);!(s=(a=r.next()).done)&&(n.push(a.value),!(e&&n.length===e));s=!0);}catch(l){i=!0,o=l}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function YQ(t){if(Array.isArray(t))return t}function NB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(r),!0).forEach(function(n){MA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MA(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pw(t,e){if(t==null)return{};var r=QQ(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QQ(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var NI=N.forwardRef(function(t,e){var r=t.children,n=pw(t,$Q),s=ID(n),i=s.open,a=pw(s,FQ);return N.useImperativeHandle(e,function(){return{open:i}},[i]),kt.createElement(N.Fragment,null,r(Er(Er({},a),{},{open:i})))});NI.displayName="Dropzone";var kD={disabled:!1,getFilesFromEvent:uQ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};NI.defaultProps=kD;NI.propTypes={children:Xt.func,accept:Xt.objectOf(Xt.arrayOf(Xt.string)),multiple:Xt.bool,preventDropOnDocument:Xt.bool,noClick:Xt.bool,noKeyboard:Xt.bool,noDrag:Xt.bool,noDragEventsBubbling:Xt.bool,minSize:Xt.number,maxSize:Xt.number,maxFiles:Xt.number,disabled:Xt.bool,getFilesFromEvent:Xt.func,onFileDialogCancel:Xt.func,onFileDialogOpen:Xt.func,useFsAccessApi:Xt.bool,autoFocus:Xt.bool,onDragEnter:Xt.func,onDragLeave:Xt.func,onDragOver:Xt.func,onDrop:Xt.func,onDropAccepted:Xt.func,onDropRejected:Xt.func,onError:Xt.func,validator:Xt.func};var $A={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ID(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Er(Er({},kD),t),r=e.accept,n=e.disabled,s=e.getFilesFromEvent,i=e.maxSize,a=e.minSize,o=e.multiple,l=e.maxFiles,u=e.onDragEnter,c=e.onDragLeave,f=e.onDragOver,h=e.onDrop,p=e.onDropAccepted,d=e.onDropRejected,m=e.onFileDialogCancel,S=e.onFileDialogOpen,g=e.useFsAccessApi,v=e.autoFocus,y=e.preventDropOnDocument,C=e.noClick,E=e.noKeyboard,b=e.noDrag,T=e.noDragEventsBubbling,O=e.onError,H=e.validator,L=N.useMemo(function(){return DQ(r)},[r]),Y=N.useMemo(function(){return VQ(r)},[r]),ne=N.useMemo(function(){return typeof S=="function"?S:RB},[S]),z=N.useMemo(function(){return typeof m=="function"?m:RB},[m]),Z=N.useRef(null),q=N.useRef(null),ie=N.useReducer(XQ,$A),J=db(ie,2),G=J[0],re=J[1],D=G.isFocused,ee=G.isFileDialogActive,B=N.useRef(typeof window<"u"&&window.isSecureContext&&g&&LQ()),K=function(){!B.current&&ee&&setTimeout(function(){if(q.current){var Pe=q.current.files;Pe.length||(re({type:"closeDialog"}),z())}},300)};N.useEffect(function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}},[q,ee,z,B]);var $=N.useRef([]),ce=function(Pe){Z.current&&Z.current.contains(Pe.target)||(Pe.preventDefault(),$.current=[])};N.useEffect(function(){return y&&(document.addEventListener("dragover",TB,!1),document.addEventListener("drop",ce,!1)),function(){y&&(document.removeEventListener("dragover",TB),document.removeEventListener("drop",ce))}},[Z,y]),N.useEffect(function(){return!n&&v&&Z.current&&Z.current.focus(),function(){}},[Z,v,n]);var Q=N.useCallback(function(ve){O?O(ve):console.error(ve)},[O]),fe=N.useCallback(function(ve){ve.preventDefault(),ve.persist(),Rt(ve),$.current=[].concat(jQ($.current),[ve.target]),jy(ve)&&Promise.resolve(s(ve)).then(function(Pe){if(!(dw(ve)&&!T)){var ot=Pe.length,xt=ot>0&&BQ({files:Pe,accept:L,minSize:a,maxSize:i,multiple:o,maxFiles:l,validator:H}),nt=ot>0&&!xt;re({isDragAccept:xt,isDragReject:nt,isDragActive:!0,type:"setDraggedFiles"}),u&&u(ve)}}).catch(function(Pe){return Q(Pe)})},[s,u,Q,T,L,a,i,o,l,H]),oe=N.useCallback(function(ve){ve.preventDefault(),ve.persist(),Rt(ve);var Pe=jy(ve);if(Pe&&ve.dataTransfer)try{ve.dataTransfer.dropEffect="copy"}catch{}return Pe&&f&&f(ve),!1},[f,T]),X=N.useCallback(function(ve){ve.preventDefault(),ve.persist(),Rt(ve);var Pe=$.current.filter(function(xt){return Z.current&&Z.current.contains(xt)}),ot=Pe.indexOf(ve.target);ot!==-1&&Pe.splice(ot,1),$.current=Pe,!(Pe.length>0)&&(re({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),jy(ve)&&c&&c(ve))},[Z,c,T]),Ie=N.useCallback(function(ve,Pe){var ot=[],xt=[];ve.forEach(function(nt){var je=CD(nt,L),qt=db(je,2),Bn=qt[0],Zr=qt[1],Ke=ED(nt,a,i),At=db(Ke,2),j=At[0],F=At[1],ye=H?H(nt):null;if(Bn&&j&&!ye)ot.push(nt);else{var Te=[Zr,F];ye&&(Te=Te.concat(ye)),xt.push({file:nt,errors:Te.filter(function(Ne){return Ne})})}}),(!o&&ot.length>1||o&&l>=1&&ot.length>l)&&(ot.forEach(function(nt){xt.push({file:nt,errors:[RQ]})}),ot.splice(0)),re({acceptedFiles:ot,fileRejections:xt,type:"setFiles"}),h&&h(ot,xt,Pe),xt.length>0&&d&&d(xt,Pe),ot.length>0&&p&&p(ot,Pe)},[re,o,L,a,i,l,h,p,d,H]),be=N.useCallback(function(ve){ve.preventDefault(),ve.persist(),Rt(ve),$.current=[],jy(ve)&&Promise.resolve(s(ve)).then(function(Pe){dw(ve)&&!T||Ie(Pe,ve)}).catch(function(Pe){return Q(Pe)}),re({type:"reset"})},[s,Ie,Q,T]),Ae=N.useCallback(function(){if(B.current){re({type:"openDialog"}),ne();var ve={multiple:o,types:Y};window.showOpenFilePicker(ve).then(function(Pe){return s(Pe)}).then(function(Pe){Ie(Pe,null),re({type:"closeDialog"})}).catch(function(Pe){UQ(Pe)?(z(Pe),re({type:"closeDialog"})):MQ(Pe)?(B.current=!1,q.current?(q.current.value=null,q.current.click()):Q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Q(Pe)});return}q.current&&(re({type:"openDialog"}),ne(),q.current.value=null,q.current.click())},[re,ne,z,g,Ie,Q,Y,o]),me=N.useCallback(function(ve){!Z.current||!Z.current.isEqualNode(ve.target)||(ve.key===" "||ve.key==="Enter"||ve.keyCode===32||ve.keyCode===13)&&(ve.preventDefault(),Ae())},[Z,Ae]),Me=N.useCallback(function(){re({type:"focus"})},[]),Fe=N.useCallback(function(){re({type:"blur"})},[]),Mt=N.useCallback(function(){C||(OQ()?setTimeout(Ae,0):Ae())},[C,Ae]),mt=function(Pe){return n?null:Pe},Yt=function(Pe){return E?null:mt(Pe)},Cr=function(Pe){return b?null:mt(Pe)},Rt=function(Pe){T&&Pe.stopPropagation()},bt=N.useMemo(function(){return function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=ve.refKey,ot=Pe===void 0?"ref":Pe,xt=ve.role,nt=ve.onKeyDown,je=ve.onFocus,qt=ve.onBlur,Bn=ve.onClick,Zr=ve.onDragEnter,Ke=ve.onDragOver,At=ve.onDragLeave,j=ve.onDrop,F=pw(ve,HQ);return Er(Er(MA({onKeyDown:Yt(Di(nt,me)),onFocus:Yt(Di(je,Me)),onBlur:Yt(Di(qt,Fe)),onClick:mt(Di(Bn,Mt)),onDragEnter:Cr(Di(Zr,fe)),onDragOver:Cr(Di(Ke,oe)),onDragLeave:Cr(Di(At,X)),onDrop:Cr(Di(j,be)),role:typeof xt=="string"&&xt!==""?xt:"presentation"},ot,Z),!n&&!E?{tabIndex:0}:{}),F)}},[Z,me,Me,Fe,Mt,fe,oe,X,be,E,b,n]),Ir=N.useCallback(function(ve){ve.stopPropagation()},[]),ar=N.useMemo(function(){return function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Pe=ve.refKey,ot=Pe===void 0?"ref":Pe,xt=ve.onChange,nt=ve.onClick,je=pw(ve,KQ),qt=MA({accept:L,multiple:o,type:"file",style:{display:"none"},onChange:mt(Di(xt,be)),onClick:mt(Di(nt,Ir)),tabIndex:-1},ot,q);return Er(Er({},qt),je)}},[q,r,o,be,n]);return Er(Er({},G),{},{isFocused:D&&!n,getRootProps:bt,getInputProps:ar,rootRef:Z,inputRef:q,open:mt(Ae)})}function XQ(t,e){switch(e.type){case"focus":return Er(Er({},t),{},{isFocused:!0});case"blur":return Er(Er({},t),{},{isFocused:!1});case"openDialog":return Er(Er({},$A),{},{isFileDialogActive:!0});case"closeDialog":return Er(Er({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Er(Er({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Er(Er({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return Er({},$A);default:return t}}function RB(){}var TD={};function ZQ(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var eX=ZQ,ht=eX;function tX(t){return!!t&&typeof t.then=="function"}var cr=tX;function rX(t,e){if(t!=null)return t;throw ht(e??"Got unexpected null or undefined")}var Sr=rX;function lt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}class QC{getValue(){throw ht("BaseLoadable")}toPromise(){throw ht("BaseLoadable")}valueMaybe(){throw ht("BaseLoadable")}valueOrThrow(){throw ht(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw ht("BaseLoadable")}promiseOrThrow(){throw ht(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw ht("BaseLoadable")}errorOrThrow(){throw ht(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw ht("BaseLoadable")}}class nX extends QC{constructor(e){super(),lt(this,"state","hasValue"),lt(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const r=e(this.contents);return cr(r)?sf(r):ap(r)?r:ay(r)}catch(r){return cr(r)?sf(r.next(()=>this.map(e))):XC(r)}}}class sX extends QC{constructor(e){super(),lt(this,"state","hasError"),lt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class ND extends QC{constructor(e){super(),lt(this,"state","loading"),lt(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return sf(this.contents.then(r=>{const n=e(r);if(ap(n)){const s=n;switch(s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":return s.contents}}return n}).catch(r=>{if(cr(r))return r.then(()=>this.map(e).contents);throw r}))}}function ay(t){return Object.freeze(new nX(t))}function XC(t){return Object.freeze(new sX(t))}function sf(t){return Object.freeze(new ND(t))}function RD(){return Object.freeze(new ND(new Promise(()=>{})))}function iX(t){return t.every(e=>e.state==="hasValue")?ay(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?XC(Sr(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):sf(Promise.all(t.map(e=>e.contents)))}function BD(t){const r=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(s=>t[s])).map(s=>ap(s)?s:cr(s)?sf(s):ay(s)),n=iX(r);return Array.isArray(t)?n:n.map(s=>Object.getOwnPropertyNames(t).reduce((i,a,o)=>({...i,[a]:s[o]}),{}))}function ap(t){return t instanceof QC}const aX={of:t=>cr(t)?sf(t):ap(t)?t:ay(t),error:t=>XC(t),loading:()=>RD(),all:BD,isLoadable:ap};var df={loadableWithValue:ay,loadableWithError:XC,loadableWithPromise:sf,loadableLoading:RD,loadableAll:BD,isLoadable:ap,RecoilLoadable:aX},oX=df.loadableWithValue,lX=df.loadableWithError,uX=df.loadableWithPromise,cX=df.loadableLoading,fX=df.loadableAll,hX=df.isLoadable,dX=df.RecoilLoadable,oy=Object.freeze({__proto__:null,loadableWithValue:oX,loadableWithError:lX,loadableWithPromise:uX,loadableLoading:cX,loadableAll:fX,isLoadable:hX,RecoilLoadable:dX});const FA={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function pX(t,e){var r,n;const s=(r=TD[t])===null||r===void 0||(n=r.toLowerCase())===null||n===void 0?void 0:n.trim();if(s==null||s==="")return;if(!["true","false"].includes(s))throw ht(`process.env.${t} value must be 'true', 'false', or empty: ${s}`);e(s==="true")}function mX(t,e){var r;const n=(r=TD[t])===null||r===void 0?void 0:r.trim();n==null||n===""||e(n.split(/\s*,\s*|\s+/))}function gX(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(pX("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{FA.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),mX("RECOIL_GKS_ENABLED",e=>{e.forEach(r=>{FA.RECOIL_GKS_ENABLED.add(r)})}))}gX();var Bp=FA;function ZC(t){return Bp.RECOIL_GKS_ENABLED.has(t)}ZC.setPass=t=>{Bp.RECOIL_GKS_ENABLED.add(t)};ZC.setFail=t=>{Bp.RECOIL_GKS_ENABLED.delete(t)};ZC.clear=()=>{Bp.RECOIL_GKS_ENABLED.clear()};var tr=ZC;function vX(t,e,{error:r}={}){return null}var yX=vX,RI=yX,pb,mb,gb;const SX=(pb=kt.createMutableSource)!==null&&pb!==void 0?pb:kt.unstable_createMutableSource,_D=(mb=kt.useMutableSource)!==null&&mb!==void 0?mb:kt.unstable_useMutableSource,PD=(gb=kt.useSyncExternalStore)!==null&&gb!==void 0?gb:kt.unstable_useSyncExternalStore;function wX(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:r}=kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:r.currentDispatcher).useSyncExternalStore!=null}function CX(){return tr("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:tr("recoil_sync_external_store")&&PD!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:tr("recoil_mutable_source")&&_D!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?tr("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:tr("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function EX(){return!1}var ly={createMutableSource:SX,useMutableSource:_D,useSyncExternalStore:PD,currentRendererSupportsUseSyncExternalStore:wX,reactMode:CX,isFastRefreshEnabled:EX};class BI{constructor(e){lt(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class OD extends BI{}class LD extends BI{}function bX(t){return t instanceof OD||t instanceof LD}var eE={AbstractRecoilValue:BI,RecoilState:OD,RecoilValueReadOnly:LD,isRecoilValue:bX},xX=eE.AbstractRecoilValue,AX=eE.RecoilState,kX=eE.RecoilValueReadOnly,IX=eE.isRecoilValue,op=Object.freeze({__proto__:null,AbstractRecoilValue:xX,RecoilState:AX,RecoilValueReadOnly:kX,isRecoilValue:IX});function TX(t,e){return function*(){let r=0;for(const n of t)yield e(n,r++)}()}var tE=TX;class VD{}const NX=new VD,af=new Map,_I=new Map;function RX(t){return tE(t,e=>Sr(_I.get(e)))}function BX(t){if(af.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function _X(t){Bp.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&BX(t.key),af.set(t.key,t);const e=t.set==null?new op.RecoilValueReadOnly(t.key):new op.RecoilState(t.key);return _I.set(t.key,e),e}class DD extends Error{}function PX(t){const e=af.get(t);if(e==null)throw new DD(`Missing definition for RecoilValue: "${t}""`);return e}function OX(t){return af.get(t)}const mw=new Map;function LX(t){var e;if(!tr("recoil_memory_managament_2020"))return;const r=af.get(t);if(r!=null&&(e=r.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(r)){var n;af.delete(t),(n=UD(t))===null||n===void 0||n(),mw.delete(t)}}function VX(t,e){tr("recoil_memory_managament_2020")&&(e===void 0?mw.delete(t):mw.set(t,e))}function UD(t){return mw.get(t)}var fs={nodes:af,recoilValues:_I,registerNode:_X,getNode:PX,getNodeMaybe:OX,deleteNodeConfigIfPossible:LX,setConfigDeletionHandler:VX,getConfigDeletionHandler:UD,recoilValuesForKeys:RX,NodeMissingError:DD,DefaultValue:VD,DEFAULT_VALUE:NX};function DX(t,e){e()}var UX={enqueueExecution:DX};function MX(t,e){return e={exports:{}},t(e,e.exports),e.exports}var $X=MX(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},r={},n=5,s=Math.pow(2,n),i=s-1,a=s/2,o=s/4,l={},u=function(F){return function(){return F}},c=r.hash=function(j){var F=typeof j>"u"?"undefined":e(j);if(F==="number")return j;F!=="string"&&(j+="");for(var ye=0,Te=0,Ne=j.length;Te<Ne;++Te){var De=j.charCodeAt(Te);ye=(ye<<5)-ye+De|0}return ye},f=function(F){return F-=F>>1&1431655765,F=(F&858993459)+(F>>2&858993459),F=F+(F>>4)&252645135,F+=F>>8,F+=F>>16,F&127},h=function(F,ye){return ye>>>F&i},p=function(F){return 1<<F},d=function(F,ye){return f(F&ye-1)},m=function(F,ye,Te,Ne){var De=Ne;if(!F){var et=Ne.length;De=new Array(et);for(var Qe=0;Qe<et;++Qe)De[Qe]=Ne[Qe]}return De[ye]=Te,De},S=function(F,ye,Te){var Ne=Te.length-1,De=0,et=0,Qe=Te;if(F)De=et=ye;else for(Qe=new Array(Ne);De<ye;)Qe[et++]=Te[De++];for(++De;De<=Ne;)Qe[et++]=Te[De++];return F&&(Qe.length=Ne),Qe},g=function(F,ye,Te,Ne){var De=Ne.length;if(F){for(var et=De;et>=ye;)Ne[et--]=Ne[et];return Ne[ye]=Te,Ne}for(var Qe=0,Xe=0,ct=new Array(De+1);Qe<ye;)ct[Xe++]=Ne[Qe++];for(ct[ye]=Te;Qe<De;)ct[++Xe]=Ne[Qe++];return ct},v=1,y=2,C=3,E=4,b={__hamt_isEmpty:!0},T=function(F){return F===b||F&&F.__hamt_isEmpty},O=function(F,ye,Te,Ne){return{type:v,edit:F,hash:ye,key:Te,value:Ne,_modify:G}},H=function(F,ye,Te){return{type:y,edit:F,hash:ye,children:Te,_modify:re}},L=function(F,ye,Te){return{type:C,edit:F,mask:ye,children:Te,_modify:D}},Y=function(F,ye,Te){return{type:E,edit:F,size:ye,children:Te,_modify:ee}},ne=function(F){return F===b||F.type===v||F.type===y},z=function(F,ye,Te,Ne,De){for(var et=[],Qe=Ne,Xe=0,ct=0;Qe;++ct)Qe&1&&(et[ct]=De[Xe++]),Qe>>>=1;return et[ye]=Te,Y(F,Xe+1,et)},Z=function(F,ye,Te,Ne){for(var De=new Array(ye-1),et=0,Qe=0,Xe=0,ct=Ne.length;Xe<ct;++Xe)if(Xe!==Te){var Qt=Ne[Xe];Qt&&!T(Qt)&&(De[et++]=Qt,Qe|=1<<Xe)}return L(F,Qe,De)},q=function j(F,ye,Te,Ne,De,et){if(Te===De)return H(F,Te,[et,Ne]);var Qe=h(ye,Te),Xe=h(ye,De);return L(F,p(Qe)|p(Xe),Qe===Xe?[j(F,ye+n,Te,Ne,De,et)]:Qe<Xe?[Ne,et]:[et,Ne])},ie=function(F,ye,Te,Ne,De,et,Qe,Xe){for(var ct=De.length,Qt=0;Qt<ct;++Qt){var fn=De[Qt];if(Te(Qe,fn.key)){var Vr=fn.value,Yn=et(Vr);return Yn===Vr?De:Yn===l?(--Xe.value,S(F,Qt,De)):m(F,Qt,O(ye,Ne,Qe,Yn),De)}}var ds=et();return ds===l?De:(++Xe.value,m(F,ct,O(ye,Ne,Qe,ds),De))},J=function(F,ye){return F===ye.edit},G=function(F,ye,Te,Ne,De,et,Qe){if(ye(et,this.key)){var Xe=Ne(this.value);return Xe===this.value?this:Xe===l?(--Qe.value,b):J(F,this)?(this.value=Xe,this):O(F,De,et,Xe)}var ct=Ne();return ct===l?this:(++Qe.value,q(F,Te,this.hash,this,De,O(F,De,et,ct)))},re=function(F,ye,Te,Ne,De,et,Qe){if(De===this.hash){var Xe=J(F,this),ct=ie(Xe,F,ye,this.hash,this.children,Ne,et,Qe);return ct===this.children?this:ct.length>1?H(F,this.hash,ct):ct[0]}var Qt=Ne();return Qt===l?this:(++Qe.value,q(F,Te,this.hash,this,De,O(F,De,et,Qt)))},D=function(F,ye,Te,Ne,De,et,Qe){var Xe=this.mask,ct=this.children,Qt=h(Te,De),fn=p(Qt),Vr=d(Xe,fn),Yn=Xe&fn,ds=Yn?ct[Vr]:b,ho=ds._modify(F,ye,Te+n,Ne,De,et,Qe);if(ds===ho)return this;var po=J(F,this),su=Xe,li=void 0;if(Yn&&T(ho)){if(su&=~fn,!su)return b;if(ct.length<=2&&ne(ct[Vr^1]))return ct[Vr^1];li=S(po,Vr,ct)}else if(!Yn&&!T(ho)){if(ct.length>=a)return z(F,Qt,ho,Xe,ct);su|=fn,li=g(po,Vr,ho,ct)}else li=m(po,Vr,ho,ct);return po?(this.mask=su,this.children=li,this):L(F,su,li)},ee=function(F,ye,Te,Ne,De,et,Qe){var Xe=this.size,ct=this.children,Qt=h(Te,De),fn=ct[Qt],Vr=(fn||b)._modify(F,ye,Te+n,Ne,De,et,Qe);if(fn===Vr)return this;var Yn=J(F,this),ds=void 0;if(T(fn)&&!T(Vr))++Xe,ds=m(Yn,Qt,Vr,ct);else if(!T(fn)&&T(Vr)){if(--Xe,Xe<=o)return Z(F,Xe,Qt,ct);ds=m(Yn,Qt,b,ct)}else ds=m(Yn,Qt,Vr,ct);return Yn?(this.size=Xe,this.children=ds,this):Y(F,Xe,ds)};b._modify=function(j,F,ye,Te,Ne,De,et){var Qe=Te();return Qe===l?b:(++et.value,O(j,Ne,De,Qe))};function B(j,F,ye,Te,Ne){this._editable=j,this._edit=F,this._config=ye,this._root=Te,this._size=Ne}B.prototype.setTree=function(j,F){return this._editable?(this._root=j,this._size=F,this):j===this._root?this:new B(this._editable,this._edit,this._config,j,F)};var K=r.tryGetHash=function(j,F,ye,Te){for(var Ne=Te._root,De=0,et=Te._config.keyEq;;)switch(Ne.type){case v:return et(ye,Ne.key)?Ne.value:j;case y:{if(F===Ne.hash)for(var Qe=Ne.children,Xe=0,ct=Qe.length;Xe<ct;++Xe){var Qt=Qe[Xe];if(et(ye,Qt.key))return Qt.value}return j}case C:{var fn=h(De,F),Vr=p(fn);if(Ne.mask&Vr){Ne=Ne.children[d(Ne.mask,Vr)],De+=n;break}return j}case E:{if(Ne=Ne.children[h(De,F)],Ne){De+=n;break}return j}default:return j}};B.prototype.tryGetHash=function(j,F,ye){return K(j,F,ye,this)};var $=r.tryGet=function(j,F,ye){return K(j,ye._config.hash(F),F,ye)};B.prototype.tryGet=function(j,F){return $(j,F,this)};var ce=r.getHash=function(j,F,ye){return K(void 0,j,F,ye)};B.prototype.getHash=function(j,F){return ce(j,F,this)},r.get=function(j,F){return K(void 0,F._config.hash(j),j,F)},B.prototype.get=function(j,F){return $(F,j,this)};var Q=r.has=function(j,F,ye){return K(l,j,F,ye)!==l};B.prototype.hasHash=function(j,F){return Q(j,F,this)};var fe=r.has=function(j,F){return Q(F._config.hash(j),j,F)};B.prototype.has=function(j){return fe(j,this)};var oe=function(F,ye){return F===ye};r.make=function(j){return new B(0,0,{keyEq:j&&j.keyEq||oe,hash:j&&j.hash||c},b,0)},r.empty=r.make();var X=r.isEmpty=function(j){return j&&!!T(j._root)};B.prototype.isEmpty=function(){return X(this)};var Ie=r.modifyHash=function(j,F,ye,Te){var Ne={value:Te._size},De=Te._root._modify(Te._editable?Te._edit:NaN,Te._config.keyEq,0,j,F,ye,Ne);return Te.setTree(De,Ne.value)};B.prototype.modifyHash=function(j,F,ye){return Ie(ye,j,F,this)};var be=r.modify=function(j,F,ye){return Ie(j,ye._config.hash(F),F,ye)};B.prototype.modify=function(j,F){return be(F,j,this)};var Ae=r.setHash=function(j,F,ye,Te){return Ie(u(ye),j,F,Te)};B.prototype.setHash=function(j,F,ye){return Ae(j,F,ye,this)};var me=r.set=function(j,F,ye){return Ae(ye._config.hash(j),j,F,ye)};B.prototype.set=function(j,F){return me(j,F,this)};var Me=u(l),Fe=r.removeHash=function(j,F,ye){return Ie(Me,j,F,ye)};B.prototype.removeHash=B.prototype.deleteHash=function(j,F){return Fe(j,F,this)};var Mt=r.remove=function(j,F){return Fe(F._config.hash(j),j,F)};B.prototype.remove=B.prototype.delete=function(j){return Mt(j,this)};var mt=r.beginMutation=function(j){return new B(j._editable+1,j._edit+1,j._config,j._root,j._size)};B.prototype.beginMutation=function(){return mt(this)};var Yt=r.endMutation=function(j){return j._editable=j._editable&&j._editable-1,j};B.prototype.endMutation=function(){return Yt(this)};var Cr=r.mutate=function(j,F){var ye=mt(F);return j(ye),Yt(ye)};B.prototype.mutate=function(j){return Cr(j,this)};var Rt=function(F){return F&&bt(F[0],F[1],F[2],F[3],F[4])},bt=function(F,ye,Te,Ne,De){for(;Te<F;){var et=ye[Te++];if(et&&!T(et))return Ir(et,Ne,[F,ye,Te,Ne,De])}return Rt(De)},Ir=function(F,ye,Te){switch(F.type){case v:return{value:ye(F),rest:Te};case y:case E:case C:var Ne=F.children;return bt(Ne.length,Ne,0,ye,Te);default:return Rt(Te)}},ar={done:!0};function ve(j){this.v=j}ve.prototype.next=function(){if(!this.v)return ar;var j=this.v;return this.v=Rt(j.rest),j},ve.prototype[Symbol.iterator]=function(){return this};var Pe=function(F,ye){return new ve(Ir(F._root,ye))},ot=function(F){return[F.key,F.value]},xt=r.entries=function(j){return Pe(j,ot)};B.prototype.entries=B.prototype[Symbol.iterator]=function(){return xt(this)};var nt=function(F){return F.key},je=r.keys=function(j){return Pe(j,nt)};B.prototype.keys=function(){return je(this)};var qt=function(F){return F.value},Bn=r.values=B.prototype.values=function(j){return Pe(j,qt)};B.prototype.values=function(){return Bn(this)};var Zr=r.fold=function(j,F,ye){var Te=ye._root;if(Te.type===v)return j(F,Te.value,Te.key);for(var Ne=[Te.children],De=void 0;De=Ne.pop();)for(var et=0,Qe=De.length;et<Qe;){var Xe=De[et++];Xe&&Xe.type&&(Xe.type===v?F=j(F,Xe.value,Xe.key):Ne.push(Xe.children))}return F};B.prototype.fold=function(j,F){return Zr(j,F,this)};var Ke=r.forEach=function(j,F){return Zr(function(ye,Te,Ne){return j(Te,Ne,F)},null,F)};B.prototype.forEach=function(j){return Ke(j,this)};var At=r.count=function(j){return j._size};B.prototype.count=function(){return At(this)},Object.defineProperty(B.prototype,"size",{get:B.prototype.count}),t.exports?t.exports=r:(void 0).hamt=r});class FX{constructor(e){lt(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,r){return this._map.set(e,r),this}delete(e){return this._map.delete(e),this}clone(){return OI(this)}toMap(){return new Map(this._map)}}class PI{constructor(e){if(lt(this,"_hamt",$X.empty.beginMutation()),e instanceof PI){const r=e._hamt.endMutation();e._hamt=r.beginMutation(),this._hamt=r.beginMutation()}else if(e)for(const[r,n]of e.entries())this._hamt.set(r,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,r){return this._hamt.set(e,r),this}delete(e){return this._hamt.delete(e),this}clone(){return OI(this)}toMap(){return new Map(this._hamt)}}function OI(t){return tr("recoil_hamt_2020")?new PI(t):new FX(t)}var HX={persistentMap:OI},KX=HX.persistentMap,jX=Object.freeze({__proto__:null,persistentMap:KX});function zX(t,...e){const r=new Set;e:for(const n of t){for(const s of e)if(s.has(n))continue e;r.add(n)}return r}var qg=zX;function WX(t,e){const r=new Map;return t.forEach((n,s)=>{r.set(s,e(n,s))}),r}var gw=WX;function GX(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function qX(t){return{nodeDeps:gw(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:gw(t.nodeToNodeSubscriptions,e=>new Set(e))}}function vb(t,e,r,n){const{nodeDeps:s,nodeToNodeSubscriptions:i}=r,a=s.get(t);if(a&&n&&a!==n.nodeDeps.get(t))return;s.set(t,e);const o=a==null?e:qg(e,a);for(const l of o)i.has(l)||i.set(l,new Set),Sr(i.get(l)).add(t);if(a){const l=qg(a,e);for(const u of l){if(!i.has(u))return;const c=Sr(i.get(u));c.delete(t),c.size===0&&i.delete(u)}}}function JX(t,e,r,n){var s,i,a,o;const l=r.getState();n===l.currentTree.version||n===((s=l.nextTree)===null||s===void 0?void 0:s.version)||((i=l.previousTree)===null||i===void 0||i.version);const u=r.getGraph(n);if(vb(t,e,u),n===((a=l.previousTree)===null||a===void 0?void 0:a.version)){const f=r.getGraph(l.currentTree.version);vb(t,e,f,u)}if(n===((o=l.previousTree)===null||o===void 0?void 0:o.version)||n===l.currentTree.version){var c;const f=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(f!==void 0){const h=r.getGraph(f);vb(t,e,h,u)}}}var uy={cloneGraph:qX,graph:GX,saveDepsToStore:JX};let YX=0;const QX=()=>YX++;let XX=0;const ZX=()=>XX++;let eZ=0;const tZ=()=>eZ++;var rE={getNextTreeStateVersion:QX,getNextStoreID:ZX,getNextComponentID:tZ};const{persistentMap:BB}=jX,{graph:rZ}=uy,{getNextTreeStateVersion:MD}=rE;function $D(){const t=MD();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:BB(),nonvalidatedAtoms:BB()}}function nZ(){const t=$D();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,rZ()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var FD={makeEmptyTreeState:$D,makeEmptyStoreState:nZ,getNextTreeStateVersion:MD};class HD{}function sZ(){return new HD}var nE={RetentionZone:HD,retentionZone:sZ};function iZ(t,e){const r=new Set(t);return r.add(e),r}function aZ(t,e){const r=new Set(t);return r.delete(e),r}function oZ(t,e,r){const n=new Map(t);return n.set(e,r),n}function lZ(t,e,r){const n=new Map(t);return n.set(e,r(n.get(e))),n}function uZ(t,e){const r=new Map(t);return r.delete(e),r}function cZ(t,e){const r=new Map(t);return e.forEach(n=>r.delete(n)),r}var KD={setByAddingToSet:iZ,setByDeletingFromSet:aZ,mapBySettingInMap:oZ,mapByUpdatingInMap:lZ,mapByDeletingFromMap:uZ,mapByDeletingMultipleFromMap:cZ};function*fZ(t,e){let r=0;for(const n of t)e(n,r++)&&(yield n)}var LI=fZ;function hZ(t,e){return new Proxy(t,{get:(n,s)=>(!(s in n)&&s in e&&(n[s]=e[s]()),n[s]),ownKeys:n=>Object.keys(n)})}var jD=hZ;const{getNode:cy,getNodeMaybe:dZ,recoilValuesForKeys:_B}=fs,{RetentionZone:PB}=nE,{setByAddingToSet:pZ}=KD,mZ=Object.freeze(new Set);class gZ extends Error{}function vZ(t,e,r){if(!tr("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:n}=t.getState().retention;function s(i){let a=n.get(i);a||n.set(i,a=new Set),a.add(e)}if(r instanceof PB)s(r);else if(Array.isArray(r))for(const i of r)s(i);return()=>{if(!tr("recoil_memory_managament_2020"))return;const{retention:i}=t.getState();function a(o){const l=i.nodesRetainedByZone.get(o);l==null||l.delete(e),l&&l.size===0&&i.nodesRetainedByZone.delete(o)}if(r instanceof PB)a(r);else if(Array.isArray(r))for(const o of r)a(o)}}function VI(t,e,r,n){const s=t.getState();if(s.nodeCleanupFunctions.has(r))return;const i=cy(r),a=vZ(t,r,i.retainedBy),o=i.init(t,e,n);s.nodeCleanupFunctions.set(r,()=>{o(),a()})}function yZ(t,e,r){VI(t,t.getState().currentTree,e,r)}function SZ(t,e){var r;const n=t.getState();(r=n.nodeCleanupFunctions.get(e))===null||r===void 0||r(),n.nodeCleanupFunctions.delete(e)}function wZ(t,e,r){return VI(t,e,r,"get"),cy(r).get(t,e)}function zD(t,e,r){return cy(r).peek(t,e)}function CZ(t,e,r){var n;const s=dZ(e);return s==null||(n=s.invalidate)===null||n===void 0||n.call(s,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,r),dirtyAtoms:pZ(t.dirtyAtoms,e)}}function EZ(t,e,r,n){const s=cy(r);if(s.set==null)throw new gZ(`Attempt to set read-only RecoilValue: ${r}`);const i=s.set;return VI(t,e,r,"set"),i(t,e,n)}function bZ(t,e,r){const n=t.getState(),s=t.getGraph(e.version),i=cy(r).nodeType;return jD({type:i},{loadable:()=>zD(t,e,r),isActive:()=>n.knownAtoms.has(r)||n.knownSelectors.has(r),isSet:()=>i==="selector"?!1:e.atomValues.has(r),isModified:()=>e.dirtyAtoms.has(r),deps:()=>{var a;return _B((a=s.nodeDeps.get(r))!==null&&a!==void 0?a:[])},subscribers:()=>{var a,o;return{nodes:_B(LI(WD(t,e,new Set([r])),l=>l!==r)),components:tE((a=(o=n.nodeToComponentSubscriptions.get(r))===null||o===void 0?void 0:o.values())!==null&&a!==void 0?a:[],([l])=>({name:l}))}}})}function WD(t,e,r){const n=new Set,s=Array.from(r),i=t.getGraph(e.version);for(let o=s.pop();o;o=s.pop()){var a;n.add(o);const l=(a=i.nodeToNodeSubscriptions.get(o))!==null&&a!==void 0?a:mZ;for(const u of l)n.has(u)||s.push(u)}return n}var tu={getNodeLoadable:wZ,peekNodeLoadable:zD,setNodeValue:EZ,initializeNode:yZ,cleanUpNode:SZ,setUnvalidatedAtomValue_DEPRECATED:CZ,peekNodeInfo:bZ,getDownstreamNodes:WD};let GD=null;function xZ(t){GD=t}function AZ(){var t;(t=GD)===null||t===void 0||t()}var qD={setInvalidateMemoizedSnapshot:xZ,invalidateMemoizedSnapshot:AZ};const{getDownstreamNodes:kZ,getNodeLoadable:JD,setNodeValue:IZ}=tu,{getNextComponentID:TZ}=rE,{getNode:NZ,getNodeMaybe:YD}=fs,{DefaultValue:DI}=fs,{reactMode:RZ}=ly,{AbstractRecoilValue:BZ,RecoilState:_Z,RecoilValueReadOnly:PZ,isRecoilValue:OZ}=op,{invalidateMemoizedSnapshot:LZ}=qD;function VZ(t,{key:e},r=t.getState().currentTree){var n,s;const i=t.getState();r.version===i.currentTree.version||r.version===((n=i.nextTree)===null||n===void 0?void 0:n.version)||(r.version,(s=i.previousTree)===null||s===void 0||s.version);const a=JD(t,r,e);return a.state==="loading"&&a.contents.catch(()=>{}),a}function DZ(t,e){const r=t.clone();return e.forEach((n,s)=>{n.state==="hasValue"&&n.contents instanceof DI?r.delete(s):r.set(s,n)}),r}function UZ(t,e,{key:r},n){if(typeof n=="function"){const s=JD(t,e,r);if(s.state==="loading"){const i=`Tried to set atom or selector "${r}" using an updater function while the current state is pending, this is not currently supported.`;throw ht(i)}else if(s.state==="hasError")throw s.contents;return n(s.contents)}else return n}function MZ(t,e,r){if(r.type==="set"){const{recoilValue:s,valueOrUpdater:i}=r,a=UZ(t,e,s,i),o=IZ(t,e,s.key,a);for(const[l,u]of o.entries())HA(e,l,u)}else if(r.type==="setLoadable"){const{recoilValue:{key:s},loadable:i}=r;HA(e,s,i)}else if(r.type==="markModified"){const{recoilValue:{key:s}}=r;e.dirtyAtoms.add(s)}else if(r.type==="setUnvalidated"){var n;const{recoilValue:{key:s},unvalidatedValue:i}=r,a=YD(s);a==null||(n=a.invalidate)===null||n===void 0||n.call(a,e),e.atomValues.delete(s),e.nonvalidatedAtoms.set(s,i),e.dirtyAtoms.add(s)}else RI(`Unknown action ${r.type}`)}function HA(t,e,r){r.state==="hasValue"&&r.contents instanceof DI?t.atomValues.delete(e):t.atomValues.set(e,r),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function QD(t,e){t.replaceState(r=>{const n=XD(r);for(const s of e)MZ(t,n,s);return ZD(t,n),LZ(),n})}function sE(t,e){if(Jg.length){const r=Jg[Jg.length-1];let n=r.get(t);n||r.set(t,n=[]),n.push(e)}else QD(t,[e])}const Jg=[];function $Z(){const t=new Map;return Jg.push(t),()=>{for(const[e,r]of t)QD(e,r);Jg.pop()}}function XD(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function ZD(t,e){const r=kZ(t,e,e.dirtyAtoms);for(const i of r){var n,s;(n=YD(i))===null||n===void 0||(s=n.invalidate)===null||s===void 0||s.call(n,e)}}function e4(t,e,r){sE(t,{type:"set",recoilValue:e,valueOrUpdater:r})}function FZ(t,e,r){if(r instanceof DI)return e4(t,e,r);sE(t,{type:"setLoadable",recoilValue:e,loadable:r})}function HZ(t,e){sE(t,{type:"markModified",recoilValue:e})}function KZ(t,e,r){sE(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:r})}function jZ(t,{key:e},r,n=null){const s=TZ(),i=t.getState();i.nodeToComponentSubscriptions.has(e)||i.nodeToComponentSubscriptions.set(e,new Map),Sr(i.nodeToComponentSubscriptions.get(e)).set(s,[n??"<not captured>",r]);const a=RZ();if(a.early&&(a.mode==="LEGACY"||a.mode==="MUTABLE_SOURCE")){const o=t.getState().nextTree;o&&o.dirtyAtoms.has(e)&&r(o)}return{release:()=>{const o=t.getState(),l=o.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(s)||(l.delete(s),l.size===0&&o.nodeToComponentSubscriptions.delete(e))}}}function zZ(t,e){var r;const{currentTree:n}=t.getState(),s=NZ(e.key);(r=s.clearCache)===null||r===void 0||r.call(s,t,n)}var da={RecoilValueReadOnly:PZ,AbstractRecoilValue:BZ,RecoilState:_Z,getRecoilValueAsLoadable:VZ,setRecoilValue:e4,setRecoilValueLoadable:FZ,markRecoilValueModified:HZ,setUnvalidatedRecoilValue:KZ,subscribeToRecoilValue:jZ,isRecoilValue:OZ,applyAtomValueWrites:DZ,batchStart:$Z,writeLoadableToTreeState:HA,invalidateDownstreams:ZD,copyTreeState:XD,refreshRecoilValue:zZ};function WZ(t,e,r){const n=t.entries();let s=n.next();for(;!s.done;){const i=s.value;if(e.call(r,i[1],i[0],t))return!0;s=n.next()}return!1}var GZ=WZ;const{cleanUpNode:qZ}=tu,{deleteNodeConfigIfPossible:JZ,getNode:t4}=fs,{RetentionZone:r4}=nE,YZ=12e4,n4=new Set;function s4(t,e){const r=t.getState(),n=r.currentTree;if(r.nextTree)return;const s=new Set;for(const a of e)if(a instanceof r4)for(const o of eee(r,a))s.add(o);else s.add(a);const i=QZ(t,s);for(const a of i)ZZ(t,n,a)}function QZ(t,e){const r=t.getState(),n=r.currentTree,s=t.getGraph(n.version),i=new Set,a=new Set;return o(e),i;function o(l){const u=new Set,c=XZ(t,n,l,i,a);for(const d of c){var f;if(t4(d).retainedBy==="recoilRoot"){a.add(d);continue}if(((f=r.retention.referenceCounts.get(d))!==null&&f!==void 0?f:0)>0){a.add(d);continue}if(i4(d).some(S=>r.retention.referenceCounts.get(S))){a.add(d);continue}const m=s.nodeToNodeSubscriptions.get(d);if(m&&GZ(m,S=>a.has(S))){a.add(d);continue}i.add(d),u.add(d)}const h=new Set;for(const d of u)for(const m of(p=s.nodeDeps.get(d))!==null&&p!==void 0?p:n4){var p;i.has(m)||h.add(m)}h.size&&o(h)}}function XZ(t,e,r,n,s){const i=t.getGraph(e.version),a=[],o=new Set;for(;r.size>0;)l(Sr(r.values().next().value));return a;function l(u){if(n.has(u)||s.has(u)){r.delete(u);return}if(o.has(u))return;const c=i.nodeToNodeSubscriptions.get(u);if(c)for(const f of c)l(f);o.add(u),r.delete(u),a.push(u)}}function ZZ(t,e,r){if(!tr("recoil_memory_managament_2020"))return;qZ(t,r);const n=t.getState();n.knownAtoms.delete(r),n.knownSelectors.delete(r),n.nodeTransactionSubscriptions.delete(r),n.retention.referenceCounts.delete(r);const s=i4(r);for(const l of s){var i;(i=n.retention.nodesRetainedByZone.get(l))===null||i===void 0||i.delete(r)}e.atomValues.delete(r),e.dirtyAtoms.delete(r),e.nonvalidatedAtoms.delete(r);const a=n.graphsByVersion.get(e.version);if(a){const l=a.nodeDeps.get(r);if(l!==void 0){a.nodeDeps.delete(r);for(const u of l){var o;(o=a.nodeToNodeSubscriptions.get(u))===null||o===void 0||o.delete(r)}}a.nodeToNodeSubscriptions.delete(r)}JZ(r)}function eee(t,e){var r;return(r=t.retention.nodesRetainedByZone.get(e))!==null&&r!==void 0?r:n4}function i4(t){const e=t4(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof r4?[e]:e}function tee(t,e){const r=t.getState();r.nextTree?r.retention.retainablesToCheckForRelease.add(e):s4(t,new Set([e]))}function ree(t,e,r){var n;if(!tr("recoil_memory_managament_2020"))return;const s=t.getState().retention.referenceCounts,i=((n=s.get(e))!==null&&n!==void 0?n:0)+r;i===0?a4(t,e):s.set(e,i)}function a4(t,e){if(!tr("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),tee(t,e)}function nee(t){if(!tr("recoil_memory_managament_2020"))return;const e=t.getState();s4(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function see(t){return t===void 0?"recoilRoot":t}var pf={SUSPENSE_TIMEOUT_MS:YZ,updateRetainCount:ree,updateRetainCountToZero:a4,releaseScheduledRetainablesNow:nee,retainedByOptionWithDefault:see};const{unstable_batchedUpdates:iee}=I0;var aee={unstable_batchedUpdates:iee};const{unstable_batchedUpdates:oee}=aee;var lee={unstable_batchedUpdates:oee};const{batchStart:uee}=da,{unstable_batchedUpdates:cee}=lee;let UI=cee||(t=>t());const fee=t=>{UI=t},hee=()=>UI,dee=t=>{UI(()=>{let e=()=>{};try{e=uee(),t()}finally{e()}})};var iE={getBatcher:hee,setBatcher:fee,batchUpdates:dee};function*pee(t){for(const e of t)for(const r of e)yield r}var o4=pee;const l4=typeof Window>"u"||typeof window>"u",mee=t=>!l4&&(t===window||t instanceof Window),gee=typeof navigator<"u"&&navigator.product==="ReactNative";var aE={isSSR:l4,isReactNative:gee,isWindow:mee};function vee(t,e){let r;return(...n)=>{r||(r={});const s=e(...n);return Object.hasOwnProperty.call(r,s)||(r[s]=t(...n)),r[s]}}function yee(t,e){let r,n;return(...s)=>{const i=e(...s);return r===i||(r=i,n=t(...s)),n}}function See(t,e){let r,n;return[(...a)=>{const o=e(...a);return r===o||(r=o,n=t(...a)),n},()=>{r=null}]}var wee={memoizeWithArgsHash:vee,memoizeOneWithArgsHash:yee,memoizeOneWithArgsHashAndInvalidation:See};const{batchUpdates:KA}=iE,{initializeNode:Cee,peekNodeInfo:Eee}=tu,{graph:bee}=uy,{getNextStoreID:xee}=rE,{DEFAULT_VALUE:Aee,recoilValues:OB,recoilValuesForKeys:LB}=fs,{AbstractRecoilValue:kee,getRecoilValueAsLoadable:Iee,setRecoilValue:VB,setUnvalidatedRecoilValue:Tee}=da,{updateRetainCount:z1}=pf,{setInvalidateMemoizedSnapshot:Nee}=qD,{getNextTreeStateVersion:Ree,makeEmptyStoreState:Bee}=FD,{isSSR:_ee}=aE,{memoizeOneWithArgsHashAndInvalidation:Pee}=wee;class oE{constructor(e,r){lt(this,"_store",void 0),lt(this,"_refCount",1),lt(this,"getLoadable",n=>(this.checkRefCount_INTERNAL(),Iee(this._store,n))),lt(this,"getPromise",n=>(this.checkRefCount_INTERNAL(),this.getLoadable(n).toPromise())),lt(this,"getNodes_UNSTABLE",n=>{if(this.checkRefCount_INTERNAL(),(n==null?void 0:n.isModified)===!0){if((n==null?void 0:n.isInitialized)===!1)return[];const a=this._store.getState().currentTree;return LB(a.dirtyAtoms)}const s=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(n==null?void 0:n.isInitialized)==null?OB.values():n.isInitialized===!0?LB(o4([s,i])):LI(OB.values(),({key:a})=>!s.has(a)&&!i.has(a))}),lt(this,"getInfo_UNSTABLE",({key:n})=>(this.checkRefCount_INTERNAL(),Eee(this._store,this._store.getState().currentTree,n))),lt(this,"map",n=>{this.checkRefCount_INTERNAL();const s=new jA(this,KA);return n(s),s}),lt(this,"asyncMap",async n=>{this.checkRefCount_INTERNAL();const s=new jA(this,KA);return s.retain(),await n(s),s.autoRelease_INTERNAL(),s}),this._store={storeID:xee(),parentStoreID:r,getState:()=>e,replaceState:n=>{e.currentTree=n(e.currentTree)},getGraph:n=>{const s=e.graphsByVersion;if(s.has(n))return Sr(s.get(n));const i=bee();return s.set(n,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw ht("Cannot subscribe to Snapshots")}};for(const n of this._store.getState().knownAtoms)Cee(this._store,n,"get"),z1(this._store,n,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){_ee||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!tr("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){tr("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function u4(t,e,r=!1){const n=t.getState(),s=r?Ree():e.version;return{currentTree:{version:r?s:e.version,stateID:r?s:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(n.knownAtoms),knownSelectors:new Set(n.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(tE(n.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function Oee(t){const e=new oE(Bee());return t!=null?e.map(t):e}const[DB,c4]=Pee((t,e)=>{var r;const n=t.getState(),s=e==="latest"?(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree:Sr(n.previousTree);return new oE(u4(t,s),t.storeID)},(t,e)=>{var r,n;return String(e)+String(t.storeID)+String((r=t.getState().nextTree)===null||r===void 0?void 0:r.version)+String(t.getState().currentTree.version)+String((n=t.getState().previousTree)===null||n===void 0?void 0:n.version)});Nee(c4);function Lee(t,e="latest"){const r=DB(t,e);return r.isRetained()?r:(c4(),DB(t,e))}class jA extends oE{constructor(e,r){super(u4(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),lt(this,"_batch",void 0),lt(this,"set",(n,s)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{z1(i,n.key,1),VB(this.getStore_INTERNAL(),n,s)})}),lt(this,"reset",n=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{z1(s,n.key,1),VB(this.getStore_INTERNAL(),n,Aee)})}),lt(this,"setUnvalidatedAtomValues_DEPRECATED",n=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();KA(()=>{for(const[i,a]of n.entries())z1(s,i,1),Tee(s,new kee(i),a)})}),this._batch=r}}var lE={Snapshot:oE,MutableSnapshot:jA,freshSnapshot:Oee,cloneSnapshot:Lee},Vee=lE.Snapshot,Dee=lE.MutableSnapshot,Uee=lE.freshSnapshot,Mee=lE.cloneSnapshot,uE=Object.freeze({__proto__:null,Snapshot:Vee,MutableSnapshot:Dee,freshSnapshot:Uee,cloneSnapshot:Mee});function $ee(...t){const e=new Set;for(const r of t)for(const n of r)e.add(n);return e}var Fee=$ee;const{useRef:Hee}=kt;function Kee(t){const e=Hee(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var UB=Kee;const{getNextTreeStateVersion:jee,makeEmptyStoreState:f4}=FD,{cleanUpNode:zee,getDownstreamNodes:Wee,initializeNode:Gee,setNodeValue:qee,setUnvalidatedAtomValue_DEPRECATED:Jee}=tu,{graph:Yee}=uy,{cloneGraph:Qee}=uy,{getNextStoreID:h4}=rE,{createMutableSource:yb,reactMode:d4}=ly,{applyAtomValueWrites:Xee}=da,{releaseScheduledRetainablesNow:p4}=pf,{freshSnapshot:Zee}=uE,{useCallback:ete,useContext:m4,useEffect:zA,useMemo:tte,useRef:rte,useState:nte}=kt;function n0(){throw ht("This component must be used inside a <RecoilRoot> component.")}const g4=Object.freeze({storeID:h4(),getState:n0,replaceState:n0,getGraph:n0,subscribeToTransactions:n0,addTransactionMetadata:n0});let WA=!1;function MB(t){if(WA)throw ht("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){tr("recoil_memory_managament_2020")&&tr("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&p4(t);const r=e.currentTree.version,n=jee();e.nextTree={...e.currentTree,version:n,stateID:n,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(n,Qee(Sr(e.graphsByVersion.get(r))))}}const v4=kt.createContext({current:g4}),cE=()=>m4(v4),y4=kt.createContext(null);function ste(){return m4(y4)}function MI(t,e,r){const n=Wee(t,r,r.dirtyAtoms);for(const s of n){const i=e.nodeToComponentSubscriptions.get(s);if(i)for(const[a,[o,l]]of i)l(r)}}function S4(t){const e=t.getState(),r=e.currentTree,n=r.dirtyAtoms;if(n.size){for(const[s,i]of e.nodeTransactionSubscriptions)if(n.has(s))for(const[a,o]of i)o(t);for(const[s,i]of e.transactionSubscriptions)i(t);(!d4().early||e.suspendedComponentResolvers.size>0)&&(MI(t,e,r),e.suspendedComponentResolvers.forEach(s=>s()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(s=>s(r)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function ite(t){const e=t.getState();e.commitDepth++;try{const{nextTree:r}=e;if(r==null)return;e.previousTree=e.currentTree,e.currentTree=r,e.nextTree=null,S4(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):RI("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,tr("recoil_memory_managament_2020")&&r==null&&p4(t)}finally{e.commitDepth--}}function ate({setNotifyBatcherOfChange:t}){const e=cE(),[,r]=nte([]);return t(()=>r({})),zA(()=>(t(()=>r({})),()=>{t(()=>{})}),[t]),zA(()=>{UX.enqueueExecution("Batcher",()=>{ite(e.current)})}),null}function ote(t,e){const r=f4();return e({set:(n,s)=>{const i=r.currentTree,a=qee(t,i,n.key,s),o=new Set(a.keys()),l=i.nonvalidatedAtoms.clone();for(const u of o)l.delete(u);r.currentTree={...i,dirtyAtoms:Fee(i.dirtyAtoms,o),atomValues:Xee(i.atomValues,a),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:n=>{n.forEach((s,i)=>{r.currentTree=Jee(r.currentTree,i,s)})}}),r}function lte(t){const e=Zee(t),r=e.getStore_INTERNAL().getState();return e.retain(),r.nodeCleanupFunctions.forEach(n=>n()),r.nodeCleanupFunctions.clear(),r}let $B=0;function ute({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:r,children:n}){let s;const i=p=>{const d=s.current.graphsByVersion;if(d.has(p))return Sr(d.get(p));const m=Yee();return d.set(p,m),m},a=(p,d)=>{if(d==null){const{transactionSubscriptions:m}=f.current.getState(),S=$B++;return m.set(S,p),{release:()=>{m.delete(S)}}}else{const{nodeTransactionSubscriptions:m}=f.current.getState();m.has(d)||m.set(d,new Map);const S=$B++;return Sr(m.get(d)).set(S,p),{release:()=>{const g=m.get(d);g&&(g.delete(S),g.size===0&&m.delete(d))}}}},o=p=>{MB(f.current);for(const d of Object.keys(p))Sr(f.current.getState().nextTree).transactionMetadata[d]=p[d]},l=p=>{MB(f.current);const d=Sr(s.current.nextTree);let m;try{WA=!0,m=p(d)}finally{WA=!1}m!==d&&(s.current.nextTree=m,d4().early&&MI(f.current,s.current,m),Sr(u.current)())},u=rte(null),c=ete(p=>{u.current=p},[u]),f=UB(()=>r??{storeID:h4(),getState:()=>s.current,replaceState:l,getGraph:i,subscribeToTransactions:a,addTransactionMetadata:o});r!=null&&(f.current=r),s=UB(()=>t!=null?ote(f.current,t):e!=null?lte(e):f4());const h=tte(()=>yb==null?void 0:yb(s,()=>s.current.currentTree.version),[s]);return zA(()=>{const p=f.current;for(const d of new Set(p.getState().knownAtoms))Gee(p,d,"get");return()=>{for(const d of p.getState().knownAtoms)zee(p,d)}},[f]),kt.createElement(v4.Provider,{value:f},kt.createElement(y4.Provider,{value:h},kt.createElement(ate,{setNotifyBatcherOfChange:c}),n))}function cte(t){const{override:e,...r}=t,n=cE();return e===!1&&n.current!==g4?t.children:kt.createElement(ute,r)}function fte(){return cE().current.storeID}var oo={RecoilRoot:cte,useStoreRef:cE,useRecoilMutableSource:ste,useRecoilStoreID:fte,notifyComponents_FOR_TESTING:MI,sendEndOfBatchNotifications_FOR_TESTING:S4};function hte(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0,n=t.length;r<n;r++)if(t[r]!==e[r])return!1;return!0}var dte=hte;const{useEffect:pte,useRef:mte}=kt;function gte(t){const e=mte();return pte(()=>{e.current=t}),e.current}var w4=gte;const{useStoreRef:vte}=oo,{SUSPENSE_TIMEOUT_MS:yte}=pf,{updateRetainCount:s0}=pf,{RetentionZone:Ste}=nE,{useEffect:wte,useRef:Cte}=kt,{isSSR:FB}=aE;function Ete(t){if(tr("recoil_memory_managament_2020"))return bte(t)}function bte(t){const r=(Array.isArray(t)?t:[t]).map(a=>a instanceof Ste?a:a.key),n=vte();wte(()=>{if(!tr("recoil_memory_managament_2020"))return;const a=n.current;if(s.current&&!FB)window.clearTimeout(s.current),s.current=null;else for(const o of r)s0(a,o,1);return()=>{for(const o of r)s0(a,o,-1)}},[n,...r]);const s=Cte(),i=w4(r);if(!FB&&(i===void 0||!dte(i,r))){const a=n.current;for(const o of r)s0(a,o,1);if(i)for(const o of i)s0(a,o,-1);s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{s.current=null;for(const o of r)s0(a,o,-1)},yte)}}var $I=Ete;function xte(){return"<component name not available>"}var fy=xte;const{batchUpdates:Ate}=iE,{DEFAULT_VALUE:C4}=fs,{currentRendererSupportsUseSyncExternalStore:kte,reactMode:_p,useMutableSource:Ite,useSyncExternalStore:Tte}=ly,{useRecoilMutableSource:Nte,useStoreRef:pa}=oo,{AbstractRecoilValue:GA,getRecoilValueAsLoadable:hy,setRecoilValue:vw,setUnvalidatedRecoilValue:Rte,subscribeToRecoilValue:lp}=da,{useCallback:ls,useEffect:up,useMemo:E4,useRef:Yg,useState:FI}=kt,{setByAddingToSet:Bte}=KD,{isSSR:_te}=aE;function HI(t,e,r){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(s=>{const i=r.current.getState().suspendedComponentResolvers;i.add(s),_te&&cr(t.contents)&&t.contents.finally(()=>{i.delete(s)})}):t.state==="hasError"?t.contents:ht(`Invalid value of loadable atom "${e.key}"`)}function Pte(){const t=fy(),e=pa(),[,r]=FI([]),n=Yg(new Set);n.current=new Set;const s=Yg(new Set),i=Yg(new Map),a=ls(l=>{const u=i.current.get(l);u&&(u.release(),i.current.delete(l))},[i]),o=ls((l,u)=>{i.current.has(u)&&r([])},[]);return up(()=>{const l=e.current;qg(n.current,s.current).forEach(u=>{if(i.current.has(u))return;const c=lp(l,new GA(u),h=>o(h,u),t);i.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o(l.getState(),u)}):o(l.getState(),u)}),qg(s.current,n.current).forEach(u=>{a(u)}),s.current=n.current}),up(()=>{const l=i.current;return qg(n.current,new Set(l.keys())).forEach(u=>{const c=lp(e.current,new GA(u),f=>o(f,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>a(c))},[t,e,a,o]),E4(()=>{function l(d){return m=>{vw(e.current,d,m)}}function u(d){return()=>vw(e.current,d,C4)}function c(d){var m;n.current.has(d.key)||(n.current=Bte(n.current,d.key));const S=e.current.getState();return hy(e.current,d,_p().early&&(m=S.nextTree)!==null&&m!==void 0?m:S.currentTree)}function f(d){const m=c(d);return HI(m,d,e)}function h(d){return[f(d),l(d)]}function p(d){return[c(d),l(d)]}return{getRecoilValue:f,getRecoilValueLoadable:c,getRecoilState:h,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:u}},[n,e])}const Ote={current:0};function Lte(t){const e=pa(),r=fy(),n=ls(()=>{var o;const l=e.current,u=l.getState(),c=_p().early&&(o=u.nextTree)!==null&&o!==void 0?o:u.currentTree;return{loadable:hy(l,t,c),key:t.key}},[e,t]),s=ls(o=>{let l;return()=>{var u,c;const f=o();return(u=l)!==null&&u!==void 0&&u.loadable.is(f.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===f.key?l:(l=f,f)}},[]),i=E4(()=>s(n),[n,s]),a=ls(o=>{const l=e.current;return lp(l,t,o,r).release},[e,t,r]);return Tte(a,i,i).loadable}function Vte(t){const e=pa(),r=ls(()=>{var u;const c=e.current,f=c.getState(),h=_p().early&&(u=f.nextTree)!==null&&u!==void 0?u:f.currentTree;return hy(c,t,h)},[e,t]),n=ls(()=>r(),[r]),s=fy(),i=ls((u,c)=>{const f=e.current;return lp(f,t,()=>{if(!tr("recoil_suppress_rerender_in_callback"))return c();const p=r();l.current.is(p)||c(),l.current=p},s).release},[e,t,s,r]),a=Nte();if(a==null)throw ht("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const o=Ite(a,n,i),l=Yg(o);return up(()=>{l.current=o}),o}function qA(t){const e=pa(),r=fy(),n=ls(()=>{var l;const u=e.current,c=u.getState(),f=_p().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return hy(u,t,f)},[e,t]),s=ls(()=>({loadable:n(),key:t.key}),[n,t.key]),i=ls(l=>{const u=s();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[s]);up(()=>{const l=lp(e.current,t,u=>{o(i)},r);return o(i),l.release},[r,t,e,i]);const[a,o]=FI(s);return a.key!==t.key?s().loadable:a.loadable}function Dte(t){const e=pa(),[,r]=FI([]),n=fy(),s=ls(()=>{var o;const l=e.current,u=l.getState(),c=_p().early&&(o=u.nextTree)!==null&&o!==void 0?o:u.currentTree;return hy(l,t,c)},[e,t]),i=s(),a=Yg(i);return up(()=>{a.current=i}),up(()=>{const o=e.current,l=o.getState(),u=lp(o,t,f=>{var h;if(!tr("recoil_suppress_rerender_in_callback"))return r([]);const p=s();(h=a.current)!==null&&h!==void 0&&h.is(p)||r(p),a.current=p},n);if(l.nextTree)o.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a.current=null,r([])});else{var c;if(!tr("recoil_suppress_rerender_in_callback"))return r([]);const f=s();(c=a.current)!==null&&c!==void 0&&c.is(f)||r(f),a.current=f}return u.release},[n,s,t,e]),i}function KI(t){return tr("recoil_memory_managament_2020")&&$I(t),{TRANSITION_SUPPORT:qA,SYNC_EXTERNAL_STORE:kte()?Lte:qA,MUTABLE_SOURCE:Vte,LEGACY:Dte}[_p().mode](t)}function b4(t){const e=pa(),r=KI(t);return HI(r,t,e)}function fE(t){const e=pa();return ls(r=>{vw(e.current,t,r)},[e,t])}function Ute(t){const e=pa();return ls(()=>{vw(e.current,t,C4)},[e,t])}function Mte(t){return[b4(t),fE(t)]}function $te(t){return[KI(t),fE(t)]}function Fte(){const t=pa();return(e,r={})=>{Ate(()=>{t.current.addTransactionMetadata(r),e.forEach((n,s)=>Rte(t.current,new GA(s),n))})}}function x4(t){return tr("recoil_memory_managament_2020")&&$I(t),qA(t)}function A4(t){const e=pa(),r=x4(t);return HI(r,t,e)}function Hte(t){return[A4(t),fE(t)]}var Kte={recoilComponentGetRecoilValueCount_FOR_TESTING:Ote,useRecoilInterface:Pte,useRecoilState:Mte,useRecoilStateLoadable:$te,useRecoilValue:b4,useRecoilValueLoadable:KI,useResetRecoilState:Ute,useSetRecoilState:fE,useSetUnvalidatedAtomValues:Fte,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:x4,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:A4,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Hte};function jte(t,e){const r=new Map;for(const[n,s]of t)e(s,n)&&r.set(n,s);return r}var zte=jte;function Wte(t,e){const r=new Set;for(const n of t)e(n)&&r.add(n);return r}var Gte=Wte;function qte(...t){const e=new Map;for(let r=0;r<t.length;r++){const n=t[r].keys();let s;for(;!(s=n.next()).done;)e.set(s.value,t[r].get(s.value))}return e}var Jte=qte;const{batchUpdates:Yte}=iE,{DEFAULT_VALUE:Qte,getNode:k4,nodes:Xte}=fs,{useStoreRef:jI}=oo,{AbstractRecoilValue:Zte,setRecoilValueLoadable:ere}=da,{SUSPENSE_TIMEOUT_MS:tre}=pf,{cloneSnapshot:yw}=uE,{useCallback:hE,useEffect:I4,useRef:HB,useState:rre}=kt,{isSSR:KB}=aE;function dE(t){const e=jI();I4(()=>e.current.subscribeToTransactions(t).release,[t,e])}function jB(t){const e=t.atomValues.toMap(),r=gw(zte(e,(n,s)=>{const a=k4(s).persistence_UNSTABLE;return a!=null&&a.type!=="none"&&n.state==="hasValue"}),n=>n.contents);return Jte(t.nonvalidatedAtoms.toMap(),r)}function nre(t){dE(hE(e=>{let r=e.getState().previousTree;const n=e.getState().currentTree;r||(r=e.getState().currentTree);const s=jB(n),i=jB(r),a=gw(Xte,l=>{var u,c,f,h;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(f=(h=l.persistence_UNSTABLE)===null||h===void 0?void 0:h.backButton)!==null&&f!==void 0?f:!1}}}),o=Gte(n.dirtyAtoms,l=>s.has(l)||i.has(l));t({atomValues:s,previousAtomValues:i,atomInfo:a,modifiedAtoms:o,transactionMetadata:{...n.transactionMetadata}})},[t]))}function sre(t){dE(hE(e=>{const r=yw(e,"latest"),n=yw(e,"previous");t({snapshot:r,previousSnapshot:n})},[t]))}function ire(){const t=jI(),[e,r]=rre(()=>yw(t.current)),n=w4(e),s=HB(),i=HB();if(dE(hE(o=>r(yw(o)),[])),I4(()=>{const o=e.retain();if(s.current&&!KB){var l;window.clearTimeout(s.current),s.current=null,(l=i.current)===null||l===void 0||l.call(i),i.current=null}return()=>{window.setTimeout(o,10)}},[e]),n!==e&&!KB){if(s.current){var a;window.clearTimeout(s.current),s.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null}i.current=e.retain(),s.current=window.setTimeout(()=>{var o;s.current=null,(o=i.current)===null||o===void 0||o.call(i),i.current=null},tre)}return e}function T4(t,e){var r;const n=t.getState(),s=(r=n.nextTree)!==null&&r!==void 0?r:n.currentTree,i=e.getStore_INTERNAL().getState().currentTree;Yte(()=>{const a=new Set;for(const u of[s.atomValues.keys(),i.atomValues.keys()])for(const c of u){var o,l;((o=s.atomValues.get(c))===null||o===void 0?void 0:o.contents)!==((l=i.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&k4(c).shouldRestoreFromSnapshots&&a.add(c)}a.forEach(u=>{ere(t,new Zte(u),i.atomValues.has(u)?Sr(i.atomValues.get(u)):Qte)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function are(){const t=jI();return hE(e=>T4(t.current,e),[t])}var N4={useRecoilSnapshot:ire,gotoSnapshot:T4,useGotoRecoilSnapshot:are,useRecoilTransactionObserver:sre,useTransactionObservation_DEPRECATED:nre,useTransactionSubscription_DEPRECATED:dE};const{peekNodeInfo:ore}=tu,{useStoreRef:lre}=oo;function ure(){const t=lre();return({key:e})=>ore(t.current,t.current.getState().currentTree,e)}var cre=ure;const{reactMode:fre}=ly,{RecoilRoot:hre,useStoreRef:dre}=oo,{useMemo:pre}=kt;function mre(){fre().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=dre().current;return pre(()=>{function e({children:r}){return kt.createElement(hre,{store_INTERNAL:t},r)}return e},[t])}var gre=mre;const{loadableWithValue:vre}=oy,{initializeNode:yre}=tu,{DEFAULT_VALUE:Sre,getNode:wre}=fs,{copyTreeState:Cre,getRecoilValueAsLoadable:Ere,invalidateDownstreams:bre,writeLoadableToTreeState:xre}=da;function zB(t){return wre(t.key).nodeType==="atom"}class Are{constructor(e,r){lt(this,"_store",void 0),lt(this,"_treeState",void 0),lt(this,"_changes",void 0),lt(this,"get",n=>{if(this._changes.has(n.key))return this._changes.get(n.key);if(!zB(n))throw ht("Reading selectors within atomicUpdate is not supported");const s=Ere(this._store,n,this._treeState);if(s.state==="hasValue")return s.contents;throw s.state==="hasError"?s.contents:ht(`Expected Recoil atom ${n.key} to have a value, but it is in a loading state.`)}),lt(this,"set",(n,s)=>{if(!zB(n))throw ht("Setting selectors within atomicUpdate is not supported");if(typeof s=="function"){const i=this.get(n);this._changes.set(n.key,s(i))}else yre(this._store,n.key,"set"),this._changes.set(n.key,s)}),lt(this,"reset",n=>{this.set(n,Sre)}),this._store=e,this._treeState=r,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=Cre(this._treeState);for(const[r,n]of this._changes)xre(e,r,vre(n));return bre(this._store,e),e}}function kre(t){return e=>{t.replaceState(r=>{const n=new Are(t,r);return e(n),n.newTreeState_INTERNAL()})}}var Ire={atomicUpdater:kre},Tre=Ire.atomicUpdater,R4=Object.freeze({__proto__:null,atomicUpdater:Tre});function Nre(t,e){if(!t)throw new Error(e)}var Rre=Nre,_0=Rre;const{atomicUpdater:Bre}=R4,{batchUpdates:_re}=iE,{DEFAULT_VALUE:Pre}=fs,{useStoreRef:Ore}=oo,{refreshRecoilValue:Lre,setRecoilValue:WB}=da,{cloneSnapshot:Vre}=uE,{gotoSnapshot:Dre}=N4,{useCallback:Ure}=kt;class B4{}const Mre=new B4;function _4(t,e,r,n){let s=Mre,i;if(_re(()=>{const o="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw ht(o);const l=jD({...n??{},set:(c,f)=>WB(t,c,f),reset:c=>WB(t,c,Pre),refresh:c=>Lre(t,c),gotoSnapshot:c=>Dre(t,c),transact_UNSTABLE:c=>Bre(t)(c)},{snapshot:()=>{const c=Vre(t);return i=c.retain(),c}}),u=e(l);if(typeof u!="function")throw ht(o);s=u(...r)}),s instanceof B4&&_0(!1),cr(s))s=s.finally(()=>{var o;(o=i)===null||o===void 0||o()});else{var a;(a=i)===null||a===void 0||a()}return s}function $re(t,e){const r=Ore();return Ure((...n)=>_4(r.current,t,n),e!=null?[...e,r]:void 0)}var P4={recoilCallback:_4,useRecoilCallback:$re};const{useStoreRef:Fre}=oo,{refreshRecoilValue:Hre}=da,{useCallback:Kre}=kt;function jre(t){const e=Fre();return Kre(()=>{const r=e.current;Hre(r,t)},[t,e])}var zre=jre;const{atomicUpdater:Wre}=R4,{useStoreRef:Gre}=oo,{useMemo:qre}=kt;function Jre(t,e){const r=Gre();return qre(()=>(...n)=>{Wre(r.current)(i=>{t(i)(...n)})},e!=null?[...e,r]:void 0)}var Yre=Jre;class Qre{constructor(e){lt(this,"value",void 0),this.value=e}}var Xre={WrappedValue:Qre},Zre=Xre.WrappedValue,O4=Object.freeze({__proto__:null,WrappedValue:Zre});const{isFastRefreshEnabled:ene}=ly;class GB extends Error{}class tne{constructor(e){var r,n,s;lt(this,"_name",void 0),lt(this,"_numLeafs",void 0),lt(this,"_root",void 0),lt(this,"_onHit",void 0),lt(this,"_onSet",void 0),lt(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(r=e==null?void 0:e.onHit)!==null&&r!==void 0?r:()=>{},this._onSet=(n=e==null?void 0:e.onSet)!==null&&n!==void 0?n:()=>{},this._mapNodeValue=(s=e==null?void 0:e.mapNodeValue)!==null&&s!==void 0?s:i=>i}size(){return this._numLeafs}root(){return this._root}get(e,r){var n;return(n=this.getLeafNode(e,r))===null||n===void 0?void 0:n.value}getLeafNode(e,r){if(this._root==null)return;let n=this._root;for(;n;){if(r==null||r.onNodeVisit(n),n.type==="leaf")return this._onHit(n),n;const s=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(s)}}set(e,r,n){const s=()=>{var i,a,o,l;let u,c;for(const[S,g]of e){var f,h,p;const v=this._root;if((v==null?void 0:v.type)==="leaf")throw this.invalidCacheError();const y=u;if(u=y?y.branches.get(c):v,u=(f=u)!==null&&f!==void 0?f:{type:"branch",nodeKey:S,parent:y,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==S)throw this.invalidCacheError();y==null||y.branches.set(c,u),n==null||(h=n.onNodeVisit)===null||h===void 0||h.call(n,u),c=this._mapNodeValue(g),this._root=(p=this._root)!==null&&p!==void 0?p:u}const d=u?(i=u)===null||i===void 0?void 0:i.branches.get(c):this._root;if(d!=null&&(d.type!=="leaf"||d.branchKey!==c))throw this.invalidCacheError();const m={type:"leaf",value:r,parent:u,branchKey:c};(a=u)===null||a===void 0||a.branches.set(c,m),this._root=(o=this._root)!==null&&o!==void 0?o:m,this._numLeafs++,this._onSet(m),n==null||(l=n.onNodeVisit)===null||l===void 0||l.call(n,m)};try{s()}catch(i){if(i instanceof GB)this.clear(),s();else throw i}}delete(e){const r=this.root();if(!r)return!1;if(e===r)return this._root=null,this._numLeafs=0,!0;let n=e.parent,s=e.branchKey;for(;n;){var i;if(n.branches.delete(s),n===r)return n.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;s=(i=n)===null||i===void 0?void 0:i.branchKey,n=n.parent}for(;n!==r;n=n.parent)if(n==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=ene()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw RI(e+(this._name!=null?` - ${this._name}`:"")),new GB}}var rne={TreeCache:tne},nne=rne.TreeCache,L4=Object.freeze({__proto__:null,TreeCache:nne});class sne{constructor(e){var r;lt(this,"_maxSize",void 0),lt(this,"_size",void 0),lt(this,"_head",void 0),lt(this,"_tail",void 0),lt(this,"_map",void 0),lt(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(r=e.mapKey)!==null&&r!==void 0?r:n=>n}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const r=this._keyMapper(e),n=this._map.get(r);if(n)return this.set(e,n.value),n.value}set(e,r){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const i=this.head(),a={key:e,right:i,left:null,value:r};i?i.left=a:this._tail=a,this._map.set(n,a),this._head=a,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const r=this._keyMapper(e);if(!this._size||!this._map.has(r))return;const n=Sr(this._map.get(r)),s=n.right,i=n.left;s&&(s.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=s),n===this.tail()&&(this._tail=i),this._map.delete(r),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var ine={LRUCache:sne},ane=ine.LRUCache,V4=Object.freeze({__proto__:null,LRUCache:ane});const{LRUCache:one}=V4,{TreeCache:lne}=L4;function une({name:t,maxSize:e,mapNodeValue:r=n=>n}){const n=new one({maxSize:e}),s=new lne({name:t,mapNodeValue:r,onHit:i=>{n.set(i,!0)},onSet:i=>{const a=n.tail();n.set(i,!0),a&&s.size()>e&&s.delete(a.key)}});return s}var qB=une;function hi(t,e,r){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw ht("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var n;return(n=JSON.stringify(t))!==null&&n!==void 0?n:""}if(cr(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((s,i)=>hi(s,e,i.toString()))}]`;if(typeof t.toJSON=="function")return hi(t.toJSON(r),e,r);if(t instanceof Map){const s={};for(const[i,a]of t)s[typeof i=="string"?i:hi(i,e)]=a;return hi(s,e,r)}return t instanceof Set?hi(Array.from(t).sort((s,i)=>hi(s,e).localeCompare(hi(i,e))),e,r):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?hi(Array.from(t),e,r):`{${Object.keys(t).filter(s=>t[s]!==void 0).sort().map(s=>`${hi(s,e)}:${hi(t[s],e,s)}`).join(",")}}`}function cne(t,e={allowFunctions:!1}){return hi(t,e)}var pE=cne;const{TreeCache:fne}=L4,zy={equality:"reference",eviction:"keep-all",maxSize:1/0};function hne({equality:t=zy.equality,eviction:e=zy.eviction,maxSize:r=zy.maxSize}=zy,n){const s=dne(t);return pne(e,r,s,n)}function dne(t){switch(t){case"reference":return e=>e;case"value":return e=>pE(e)}throw ht(`Unrecognized equality policy ${t}`)}function pne(t,e,r,n){switch(t){case"keep-all":return new fne({name:n,mapNodeValue:r});case"lru":return qB({name:n,maxSize:Sr(e),mapNodeValue:r});case"most-recent":return qB({name:n,maxSize:1,mapNodeValue:r})}throw ht(`Unrecognized eviction policy ${t}`)}var mne=hne;function gne(t){return()=>null}var vne={startPerfBlock:gne};const{isLoadable:yne,loadableWithError:Wy,loadableWithPromise:Sne,loadableWithValue:Sb}=oy,{WrappedValue:D4}=O4,{getNodeLoadable:Gy,peekNodeLoadable:wne,setNodeValue:Cne}=tu,{saveDepsToStore:Ene}=uy,{DEFAULT_VALUE:bne,getConfigDeletionHandler:xne,getNode:Ane,registerNode:JB}=fs,{isRecoilValue:kne}=op,{markRecoilValueModified:YB}=da,{retainedByOptionWithDefault:Ine}=pf,{recoilCallback:Tne}=P4,{startPerfBlock:Nne}=vne;class U4{}const i0=new U4,a0=[],qy=new Map,Rne=(()=>{let t=0;return()=>t++})();function M4(t){let e=null;const{key:r,get:n,cachePolicy_UNSTABLE:s}=t,i=t.set!=null?t.set:void 0,a=new Set,o=mne(s??{equality:"reference",eviction:"keep-all"},r),l=Ine(t.retainedBy_UNSTABLE),u=new Map;let c=0;function f(){return!tr("recoil_memory_managament_2020")||c>0}function h(B){return B.getState().knownSelectors.add(r),c++,()=>{c--}}function p(){return xne(r)!==void 0&&!f()}function d(B,K,$,ce,Q){ie(K,ce,Q),m(B,$)}function m(B,K){Z(B,K)&&z(B),g(K,!0)}function S(B,K){Z(B,K)&&(Sr(L(B)).stateVersions.clear(),g(K,!1))}function g(B,K){const $=qy.get(B);if($!=null){for(const ce of $)YB(ce,Sr(e));K&&qy.delete(B)}}function v(B,K){let $=qy.get(K);$==null&&qy.set(K,$=new Set),$.add(B)}function y(B,K,$,ce,Q,fe){return K.then(oe=>{if(!f())throw z(B),i0;const X=Sb(oe);return d(B,$,Q,X,ce),oe}).catch(oe=>{if(!f())throw z(B),i0;if(cr(oe))return C(B,oe,$,ce,Q,fe);const X=Wy(oe);throw d(B,$,Q,X,ce),oe})}function C(B,K,$,ce,Q,fe){return K.then(oe=>{if(!f())throw z(B),i0;fe.loadingDepKey!=null&&fe.loadingDepPromise===K?$.atomValues.set(fe.loadingDepKey,Sb(oe)):B.getState().knownSelectors.forEach(Ae=>{$.atomValues.delete(Ae)});const X=T(B,$);if(X&&X.state!=="loading"){if((Z(B,Q)||L(B)==null)&&m(B,Q),X.state==="hasValue")return X.contents;throw X.contents}if(!Z(B,Q)){const Ae=H(B,$);if(Ae!=null)return Ae.loadingLoadable.contents}const[Ie,be]=b(B,$,Q);if(Ie.state!=="loading"&&d(B,$,Q,Ie,be),Ie.state==="hasError")throw Ie.contents;return Ie.contents}).catch(oe=>{if(oe instanceof U4)throw i0;if(!f())throw z(B),i0;const X=Wy(oe);throw d(B,$,Q,X,ce),oe})}function E(B,K,$,ce){var Q,fe,oe,X;if(Z(B,ce)||K.version===((Q=B.getState())===null||Q===void 0||(fe=Q.currentTree)===null||fe===void 0?void 0:fe.version)||K.version===((oe=B.getState())===null||oe===void 0||(X=oe.nextTree)===null||X===void 0?void 0:X.version)){var Ie,be,Ae;Ene(r,$,B,(Ie=(be=B.getState())===null||be===void 0||(Ae=be.nextTree)===null||Ae===void 0?void 0:Ae.version)!==null&&Ie!==void 0?Ie:B.getState().currentTree.version)}for(const me of $)a.add(me)}function b(B,K,$){const ce=Nne(r);let Q=!0,fe=!0;const oe=()=>{ce(),fe=!1};let X,Ie=!1,be;const Ae={loadingDepKey:null,loadingDepPromise:null},me=new Map;function Me({key:Mt}){const mt=Gy(B,K,Mt);switch(me.set(Mt,mt),Q||(E(B,K,new Set(me.keys()),$),S(B,$)),mt.state){case"hasValue":return mt.contents;case"hasError":throw mt.contents;case"loading":throw Ae.loadingDepKey=Mt,Ae.loadingDepPromise=mt.contents,mt.contents}throw ht("Invalid Loadable state")}const Fe=Mt=>(...mt)=>{if(fe)throw ht("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&_0(!1),Tne(B,Mt,mt,{node:e})};try{X=n({get:Me,getCallback:Fe}),X=kne(X)?Me(X):X,yne(X)&&(X.state==="hasError"&&(Ie=!0),X=X.contents),cr(X)?X=y(B,X,K,me,$,Ae).finally(oe):oe(),X=X instanceof D4?X.value:X}catch(Mt){X=Mt,cr(X)?X=C(B,X,K,me,$,Ae).finally(oe):(Ie=!0,oe())}return Ie?be=Wy(X):cr(X)?be=Sne(X):be=Sb(X),Q=!1,ne(B,$,me),E(B,K,new Set(me.keys()),$),[be,me]}function T(B,K){let $=K.atomValues.get(r);if($!=null)return $;const ce=new Set;try{$=o.get(fe=>(typeof fe!="string"&&_0(!1),Gy(B,K,fe).contents),{onNodeVisit:fe=>{fe.type==="branch"&&fe.nodeKey!==r&&ce.add(fe.nodeKey)}})}catch(fe){throw ht(`Problem with cache lookup for selector "${r}": ${fe.message}`)}if($){var Q;K.atomValues.set(r,$),E(B,K,ce,(Q=L(B))===null||Q===void 0?void 0:Q.executionID)}return $}function O(B,K){const $=T(B,K);if($!=null)return z(B),$;const ce=H(B,K);if(ce!=null){var Q;return((Q=ce.loadingLoadable)===null||Q===void 0?void 0:Q.state)==="loading"&&v(B,ce.executionID),ce.loadingLoadable}const fe=Rne(),[oe,X]=b(B,K,fe);return oe.state==="loading"?(Y(B,fe,oe,X,K),v(B,fe)):(z(B),ie(K,oe,X)),oe}function H(B,K){const $=o4([u.has(B)?[Sr(u.get(B))]:[],tE(LI(u,([Q])=>Q!==B),([,Q])=>Q)]);function ce(Q){for(const[fe,oe]of Q)if(!Gy(B,K,fe).is(oe))return!0;return!1}for(const Q of $){if(Q.stateVersions.get(K.version)||!ce(Q.depValuesDiscoveredSoFarDuringAsyncWork))return Q.stateVersions.set(K.version,!0),Q;Q.stateVersions.set(K.version,!1)}}function L(B){return u.get(B)}function Y(B,K,$,ce,Q){u.set(B,{depValuesDiscoveredSoFarDuringAsyncWork:ce,executionID:K,loadingLoadable:$,stateVersions:new Map([[Q.version,!0]])})}function ne(B,K,$){if(Z(B,K)){const ce=L(B);ce!=null&&(ce.depValuesDiscoveredSoFarDuringAsyncWork=$)}}function z(B){u.delete(B)}function Z(B,K){var $;return K===(($=L(B))===null||$===void 0?void 0:$.executionID)}function q(B){return Array.from(B.entries()).map(([K,$])=>[K,$.contents])}function ie(B,K,$){B.atomValues.set(r,K);try{o.set(q($),K)}catch(ce){throw ht(`Problem with setting cache for selector "${r}": ${ce.message}`)}}function J(B){if(a0.includes(r)){const K=`Recoil selector has circular dependencies: ${a0.slice(a0.indexOf(r)).join(" → ")}`;return Wy(ht(K))}a0.push(r);try{return B()}finally{a0.pop()}}function G(B,K){const $=K.atomValues.get(r);return $??o.get(ce=>{var Q;return typeof ce!="string"&&_0(!1),(Q=wne(B,K,ce))===null||Q===void 0?void 0:Q.contents})}function re(B,K){return J(()=>O(B,K))}function D(B){B.atomValues.delete(r)}function ee(B,K){e==null&&_0(!1);for(const ce of a){var $;const Q=Ane(ce);($=Q.clearCache)===null||$===void 0||$.call(Q,B,K)}a.clear(),D(K),o.clear(),YB(B,e)}return i!=null?e=JB({key:r,nodeType:"selector",peek:G,get:re,set:(K,$,ce)=>{let Q=!1;const fe=new Map;function oe({key:Ae}){if(Q)throw ht("Recoil: Async selector sets are not currently supported.");const me=Gy(K,$,Ae);if(me.state==="hasValue")return me.contents;if(me.state==="loading"){const Me=`Getting value of asynchronous atom or selector "${Ae}" in a pending state while setting selector "${r}" is not yet supported.`;throw ht(Me)}else throw me.contents}function X(Ae,me){if(Q)throw ht("Recoil: Async selector sets are not currently supported.");const Me=typeof me=="function"?me(oe(Ae)):me;Cne(K,$,Ae.key,Me).forEach((Mt,mt)=>fe.set(mt,Mt))}function Ie(Ae){X(Ae,bne)}const be=i({set:X,get:oe,reset:Ie},ce);if(be!==void 0)throw cr(be)?ht("Recoil: Async selector sets are not currently supported."):ht("Recoil: selector set should be a void function.");return Q=!0,fe},init:h,invalidate:D,clearCache:ee,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=JB({key:r,nodeType:"selector",peek:G,get:re,init:h,invalidate:D,clearCache:ee,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}M4.value=t=>new D4(t);var cp=M4;const{isLoadable:Bne,loadableWithError:wb,loadableWithPromise:Cb,loadableWithValue:Tf}=oy,{WrappedValue:$4}=O4,{peekNodeInfo:_ne}=tu,{DEFAULT_VALUE:Sc,DefaultValue:ll,getConfigDeletionHandler:F4,registerNode:Pne,setConfigDeletionHandler:One}=fs,{isRecoilValue:Lne}=op,{getRecoilValueAsLoadable:Vne,markRecoilValueModified:Dne,setRecoilValue:QB,setRecoilValueLoadable:Une}=da,{retainedByOptionWithDefault:Mne}=pf,o0=t=>t instanceof $4?t.value:t;function $ne(t){const{key:e,persistence_UNSTABLE:r}=t,n=Mne(t.retainedBy_UNSTABLE);let s=0;function i(v){return Cb(v.then(y=>(a=Tf(y),y)).catch(y=>{throw a=wb(y),y}))}let a=cr(t.default)?i(t.default):Bne(t.default)?t.default.state==="loading"?i(t.default.contents):t.default:Tf(o0(t.default));a.contents;let o;const l=new Map;function u(v){return v}function c(v,y){const C=y.then(E=>{var b,T;return((T=((b=v.getState().nextTree)!==null&&b!==void 0?b:v.getState().currentTree).atomValues.get(e))===null||T===void 0?void 0:T.contents)===C&&QB(v,g,E),E}).catch(E=>{var b,T;throw((T=((b=v.getState().nextTree)!==null&&b!==void 0?b:v.getState().currentTree).atomValues.get(e))===null||T===void 0?void 0:T.contents)===C&&Une(v,g,wb(E)),E});return C}function f(v,y,C){var E;s++;const b=()=>{var L;s--,(L=l.get(v))===null||L===void 0||L.forEach(Y=>Y()),l.delete(v)};if(v.getState().knownAtoms.add(e),a.state==="loading"){const L=()=>{var Y;((Y=v.getState().nextTree)!==null&&Y!==void 0?Y:v.getState().currentTree).atomValues.has(e)||Dne(v,g)};a.contents.finally(L)}const T=(E=t.effects)!==null&&E!==void 0?E:t.effects_UNSTABLE;if(T!=null){let L=function(D){if(Z&&D.key===e){const ee=z;return ee instanceof ll?h(v,y):cr(ee)?Cb(ee.then(B=>B instanceof ll?a.toPromise():B)):Tf(ee)}return Vne(v,D)},Y=function(D){return L(D).toPromise()},ne=function(D){var ee;const B=_ne(v,(ee=v.getState().nextTree)!==null&&ee!==void 0?ee:v.getState().currentTree,D.key);return Z&&D.key===e&&!(z instanceof ll)?{...B,isSet:!0,loadable:L(D)}:B},z=Sc,Z=!0,q=!1,ie=null;const J=D=>ee=>{if(Z){const B=L(g),K=B.state==="hasValue"?B.contents:Sc;z=typeof ee=="function"?ee(K):ee,cr(z)&&(z=z.then($=>(ie={effect:D,value:$},$)))}else{if(cr(ee))throw ht("Setting atoms to async values is not implemented.");typeof ee!="function"&&(ie={effect:D,value:o0(ee)}),QB(v,g,typeof ee=="function"?B=>{const K=o0(ee(B));return ie={effect:D,value:K},K}:o0(ee))}},G=D=>()=>J(D)(Sc),re=D=>ee=>{var B;const{release:K}=v.subscribeToTransactions($=>{var ce;let{currentTree:Q,previousTree:fe}=$.getState();fe||(fe=Q);const oe=(ce=Q.atomValues.get(e))!==null&&ce!==void 0?ce:a;if(oe.state==="hasValue"){var X,Ie,be,Ae;const me=oe.contents,Me=(X=fe.atomValues.get(e))!==null&&X!==void 0?X:a,Fe=Me.state==="hasValue"?Me.contents:Sc;((Ie=ie)===null||Ie===void 0?void 0:Ie.effect)!==D||((be=ie)===null||be===void 0?void 0:be.value)!==me?ee(me,Fe,!Q.atomValues.has(e)):((Ae=ie)===null||Ae===void 0?void 0:Ae.effect)===D&&(ie=null)}},e);l.set(v,[...(B=l.get(v))!==null&&B!==void 0?B:[],K])};for(const D of T)try{const ee=D({node:g,storeID:v.storeID,parentStoreID_UNSTABLE:v.parentStoreID,trigger:C,setSelf:J(D),resetSelf:G(D),onSet:re(D),getPromise:Y,getLoadable:L,getInfo_UNSTABLE:ne});if(ee!=null){var O;l.set(v,[...(O=l.get(v))!==null&&O!==void 0?O:[],ee])}}catch(ee){z=ee,q=!0}if(Z=!1,!(z instanceof ll)){var H;const D=q?wb(z):cr(z)?Cb(c(v,z)):Tf(o0(z));D.contents,y.atomValues.set(e,D),(H=v.getState().nextTree)===null||H===void 0||H.atomValues.set(e,D)}}return b}function h(v,y){var C,E;return(C=(E=y.atomValues.get(e))!==null&&E!==void 0?E:o)!==null&&C!==void 0?C:a}function p(v,y){if(y.atomValues.has(e))return Sr(y.atomValues.get(e));if(y.nonvalidatedAtoms.has(e)){if(o!=null)return o;if(r==null)return a;const C=y.nonvalidatedAtoms.get(e),E=r.validator(C,Sc);return o=E instanceof ll?a:Tf(E),o}else return a}function d(){o=void 0}function m(v,y,C){if(y.atomValues.has(e)){const E=Sr(y.atomValues.get(e));if(E.state==="hasValue"&&C===E.contents)return new Map}else if(!y.nonvalidatedAtoms.has(e)&&C instanceof ll)return new Map;return o=void 0,new Map().set(e,Tf(C))}function S(){return F4(e)!==void 0&&s<=0}const g=Pne({key:e,nodeType:"atom",peek:h,get:p,set:m,init:f,invalidate:d,shouldDeleteConfigOnRelease:S,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:n});return g}function zI(t){const{...e}=t,r="default"in t?t.default:new Promise(()=>{});return Lne(r)?Fne({...e,default:r}):$ne({...e,default:r})}function Fne(t){const e=zI({...t,default:Sc,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:n=>n instanceof ll?n:Sr(t.persistence_UNSTABLE).validator(n,Sc)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),r=cp({key:`${t.key}__withFallback`,get:({get:n})=>{const s=n(e);return s instanceof ll?t.default:s},set:({set:n},s)=>n(e,s),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return One(r.key,F4(t.key)),r}zI.value=t=>new $4(t);var H4=zI;class Hne{constructor(e){var r;lt(this,"_map",void 0),lt(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(r=e==null?void 0:e.mapKey)!==null&&r!==void 0?r:n=>n}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,r){this._map.set(this._keyMapper(e),r)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Kne={MapCache:Hne},jne=Kne.MapCache,zne=Object.freeze({__proto__:null,MapCache:jne});const{LRUCache:XB}=V4,{MapCache:Wne}=zne,Jy={equality:"reference",eviction:"none",maxSize:1/0};function Gne({equality:t=Jy.equality,eviction:e=Jy.eviction,maxSize:r=Jy.maxSize}=Jy){const n=qne(t);return Jne(e,r,n)}function qne(t){switch(t){case"reference":return e=>e;case"value":return e=>pE(e)}throw ht(`Unrecognized equality policy ${t}`)}function Jne(t,e,r){switch(t){case"keep-all":return new Wne({mapKey:r});case"lru":return new XB({mapKey:r,maxSize:Sr(e)});case"most-recent":return new XB({mapKey:r,maxSize:1})}throw ht(`Unrecognized eviction policy ${t}`)}var K4=Gne;const{setConfigDeletionHandler:Yne}=fs;function Qne(t){var e,r;const n=K4({equality:(e=(r=t.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i,a;const o=n.get(s);if(o!=null)return o;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),f=H4({...u,key:`${t.key}__${(i=pE(s))!==null&&i!==void 0?i:"void"}`,default:typeof c=="function"?c(s):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(s):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(s):(a=t.effects)!==null&&a!==void 0?a:t.effects_UNSTABLE});return n.set(s,f),Yne(f.key,()=>{n.delete(s)}),f}}var Xne=Qne;const{setConfigDeletionHandler:Zne}=fs;let ese=0;function tse(t){var e,r;const n=K4({equality:(e=(r=t.cachePolicyForParams_UNSTABLE)===null||r===void 0?void 0:r.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i;let a;try{a=n.get(s)}catch(h){throw ht(`Problem with cache lookup for selector ${t.key}: ${h.message}`)}if(a!=null)return a;const o=`${t.key}__selectorFamily/${(i=pE(s,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${ese++}`,l=h=>t.get(s)(h),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE;let f;if(t.set!=null){const h=t.set;f=cp({key:o,get:l,set:(d,m)=>h(s)(d,m),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else f=cp({key:o,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return n.set(s,f),Zne(f.key,()=>{n.delete(s)}),f}}var ru=tse;const rse=ru({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function nse(t){return rse(t)}var sse=nse;const ise=ru({key:"__error",get:t=>()=>{throw ht(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function ase(t){return ise(t)}var ose=ase;function lse(t){return t}var use=lse;const{loadableWithError:j4,loadableWithPromise:z4,loadableWithValue:W4}=oy;function mE(t,e){const r=Array(e.length).fill(void 0),n=Array(e.length).fill(void 0);for(const[s,i]of e.entries())try{r[s]=t(i)}catch(a){n[s]=a}return[r,n]}function cse(t){return t!=null&&!cr(t)}function gE(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function JA(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((r,n,s)=>({...r,[n]:e[s]}),{})}function Od(t,e,r){const n=r.map((s,i)=>s==null?W4(e[i]):cr(s)?z4(s):j4(s));return JA(t,n)}function fse(t,e){return e.map((r,n)=>r===void 0?t[n]:r)}const hse=ru({key:"__waitForNone",get:t=>({get:e})=>{const r=gE(t),[n,s]=mE(e,r);return Od(t,n,s)},dangerouslyAllowMutability:!0}),dse=ru({key:"__waitForAny",get:t=>({get:e})=>{const r=gE(t),[n,s]=mE(e,r);return s.some(i=>!cr(i))?Od(t,n,s):new Promise(i=>{for(const[a,o]of s.entries())cr(o)&&o.then(l=>{n[a]=l,s[a]=void 0,i(Od(t,n,s))}).catch(l=>{s[a]=l,i(Od(t,n,s))})})},dangerouslyAllowMutability:!0}),pse=ru({key:"__waitForAll",get:t=>({get:e})=>{const r=gE(t),[n,s]=mE(e,r);if(s.every(a=>a==null))return JA(t,n);const i=s.find(cse);if(i!=null)throw i;return Promise.all(s).then(a=>JA(t,fse(n,a)))},dangerouslyAllowMutability:!0}),mse=ru({key:"__waitForAllSettled",get:t=>({get:e})=>{const r=gE(t),[n,s]=mE(e,r);return s.every(i=>!cr(i))?Od(t,n,s):Promise.all(s.map((i,a)=>cr(i)?i.then(o=>{n[a]=o,s[a]=void 0}).catch(o=>{n[a]=void 0,s[a]=o}):null)).then(()=>Od(t,n,s))},dangerouslyAllowMutability:!0}),gse=ru({key:"__noWait",get:t=>({get:e})=>{try{return cp.value(W4(e(t)))}catch(r){return cp.value(cr(r)?z4(r):j4(r))}},dangerouslyAllowMutability:!0});var vse={waitForNone:hse,waitForAny:dse,waitForAll:pse,waitForAllSettled:mse,noWait:gse};const{RecoilLoadable:yse}=oy,{DefaultValue:Sse}=fs,{RecoilRoot:wse,useRecoilStoreID:Cse}=oo,{isRecoilValue:Ese}=op,{retentionZone:bse}=nE,{freshSnapshot:xse}=uE,{useRecoilState:Ase,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:kse,useRecoilStateLoadable:Ise,useRecoilValue:Tse,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Nse,useRecoilValueLoadable:Rse,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Bse,useResetRecoilState:_se,useSetRecoilState:Pse}=Kte,{useGotoRecoilSnapshot:Ose,useRecoilSnapshot:Lse,useRecoilTransactionObserver:Vse}=N4,{useRecoilCallback:Dse}=P4,{noWait:Use,waitForAll:Mse,waitForAllSettled:$se,waitForAny:Fse,waitForNone:Hse}=vse;var G4={DefaultValue:Sse,isRecoilValue:Ese,RecoilLoadable:yse,RecoilEnv:Bp,RecoilRoot:wse,useRecoilStoreID:Cse,useRecoilBridgeAcrossReactRoots_UNSTABLE:gre,atom:H4,selector:cp,atomFamily:Xne,selectorFamily:ru,constSelector:sse,errorSelector:ose,readOnlySelector:use,noWait:Use,waitForNone:Hse,waitForAny:Fse,waitForAll:Mse,waitForAllSettled:$se,useRecoilValue:Tse,useRecoilValueLoadable:Rse,useRecoilState:Ase,useRecoilStateLoadable:Ise,useSetRecoilState:Pse,useResetRecoilState:_se,useGetRecoilValueInfo_UNSTABLE:cre,useRecoilRefresher_UNSTABLE:zre,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Bse,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Nse,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:kse,useRecoilCallback:Dse,useRecoilTransaction_UNSTABLE:Yre,useGotoRecoilSnapshot:Ose,useRecoilSnapshot:Lse,useRecoilTransactionObserver_UNSTABLE:Vse,snapshot_UNSTABLE:xse,useRetain:$I,retentionZone:bse},Kse=G4.atom,jse=G4.useSetRecoilState;const zse=Kse({key:"message",default:void 0}),Wse={error:"Failed",check:"Success",information:"",warning:"Warning"},Gse=()=>{const t=jse(zse);return N.useCallback((r,n)=>{t(r==="clear"?void 0:{message:n||Wse[r],type:r})},[t])},qse=["json","xlsx"],Jse=t=>{const[e,r]=N.useState(null),{onChange:n,authorizedExtensions:s}=t,i=Gse(),a=N.useCallback(f=>{try{console.log("onchange"),t==null||t.onChange(f),r(f)}catch(h){i("error",h.message)}},[n,i]),{getRootProps:o,getInputProps:l,isDragActive:u}=ID({onDrop:a}),c=N.useMemo(()=>(s??qse).map(f=>"."+f).join(","),[s]);return P.jsxs("div",{...o(),style:{display:"inline",float:"left",...t.style},children:[P.jsx("input",{...l(),accept:c,id:"raised-button-file",hidden:!0}),P.jsxs("label",{htmlFor:"raised-button-file",style:{...t.labelStyle},children:[u?P.jsx(nf,{variant:"outlined",color:"primary",style:{marginRight:"10px",...t.buttonStyle},size:"small",children:"Drop the file here"}):P.jsx(nf,{variant:"outlined",color:"primary",style:{marginRight:"10px",border:"1px dashed grey",...t.buttonStyle},size:"small",children:"Browse"}),P.jsx(jW,{placeholder:"Choose a file",value:(e==null?void 0:e.map(f=>f.name).join(", "))??""})]})]})},Yse=t=>{const e=r=>{if(r.length>1)throw new Error("Only one file is accepted");t.onChange(r[0])};return P.jsx(Jse,{...t,onChange:e})},Qse=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];function Xse(t={}){const{disableGlobal:e=!1,productionPrefix:r="jss",seed:n=""}=t,s=n===""?"":`${n}-`;let i=0;const a=()=>(i+=1,i);return(o,l)=>{const u=l.options.name;if(u&&u.indexOf("Mui")===0&&!l.options.link&&!e){if(Qse.indexOf(o.key)!==-1)return`Mui-${o.key}`;const c=`${s}${u}-${o.key}`;return!l.options.theme[TF]||n!==""?c:`${c}-${a()}`}return`${s}${r}${a()}`}}var ZB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dy=(typeof window>"u"?"undefined":ZB(window))==="object"&&(typeof document>"u"?"undefined":ZB(document))==="object"&&document.nodeType===9;function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function Zse(t,e){if(Nv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eie(t){var e=Zse(t,"string");return Nv(e)==="symbol"?e:String(e)}function e_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eie(n.key),n)}}function q4(t,e,r){return e&&e_(t.prototype,e),r&&e_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var tie={}.constructor;function YA(t){if(t==null||typeof t!="object")return t;if(Array.isArray(t))return t.map(YA);if(t.constructor!==tie)return t;var e={};for(var r in t)e[r]=YA(t[r]);return e}function WI(t,e,r){t===void 0&&(t="unnamed");var n=r.jss,s=YA(e),i=n.plugins.onCreateRule(t,s,r);return i||(t[0],null)}var t_=function(e,r){for(var n="",s=0;s<e.length&&e[s]!=="!important";s++)n&&(n+=r),n+=e[s];return n},Dc=function(e){if(!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&e[n]!=="!important";n++)r&&(r+=", "),r+=t_(e[n]," ");else r=t_(e,", ");return e[e.length-1]==="!important"&&(r+=" !important"),r};function Pp(t){return t&&t.format===!1?{linebreak:"",space:""}:{linebreak:`
`,space:" "}}function l0(t,e){for(var r="",n=0;n<e;n++)r+="  ";return r+t}function Rv(t,e,r){r===void 0&&(r={});var n="";if(!e)return n;var s=r,i=s.indent,a=i===void 0?0:i,o=e.fallbacks;r.format===!1&&(a=-1/0);var l=Pp(r),u=l.linebreak,c=l.space;if(t&&a++,o)if(Array.isArray(o))for(var f=0;f<o.length;f++){var h=o[f];for(var p in h){var d=h[p];d!=null&&(n&&(n+=u),n+=l0(p+":"+c+Dc(d)+";",a))}}else for(var m in o){var S=o[m];S!=null&&(n&&(n+=u),n+=l0(m+":"+c+Dc(S)+";",a))}for(var g in e){var v=e[g];v!=null&&g!=="fallbacks"&&(n&&(n+=u),n+=l0(g+":"+c+Dc(v)+";",a))}return!n&&!r.allowEmpty||!t?n:(a--,n&&(n=""+u+n+u),l0(""+t+c+"{"+n,a)+l0("}",a))}var rie=/([[\].#*$><+~=|^:(),"'`\s])/g,r_=typeof CSS<"u"&&CSS.escape,GI=function(t){return r_?r_(t):t.replace(rie,"\\$1")},J4=function(){function t(r,n,s){this.type="style",this.isProcessed=!1;var i=s.sheet,a=s.Renderer;this.key=r,this.options=s,this.style=n,i?this.renderer=i.renderer:a&&(this.renderer=new a)}var e=t.prototype;return e.prop=function(n,s,i){if(s===void 0)return this.style[n];var a=i?i.force:!1;if(!a&&this.style[n]===s)return this;var o=s;(!i||i.process!==!1)&&(o=this.options.jss.plugins.onChangeValue(s,n,this));var l=o==null||o===!1,u=n in this.style;if(l&&!u&&!a)return this;var c=l&&u;if(c?delete this.style[n]:this.style[n]=o,this.renderable&&this.renderer)return c?this.renderer.removeProperty(this.renderable,n):this.renderer.setProperty(this.renderable,n,o),this;var f=this.options.sheet;return f&&f.attached,this},t}(),QA=function(t){BC(e,t);function e(n,s,i){var a;a=t.call(this,n,s,i)||this;var o=i.selector,l=i.scoped,u=i.sheet,c=i.generateId;return o?a.selectorText=o:l!==!1&&(a.id=c(fA(fA(a)),u),a.selectorText="."+GI(a.id)),a}var r=e.prototype;return r.applyTo=function(s){var i=this.renderer;if(i){var a=this.toJSON();for(var o in a)i.setProperty(s,o,a[o])}return this},r.toJSON=function(){var s={};for(var i in this.style){var a=this.style[i];typeof a!="object"?s[i]=a:Array.isArray(a)&&(s[i]=Dc(a))}return s},r.toString=function(s){var i=this.options.sheet,a=i?i.options.link:!1,o=a?R({},s,{allowEmpty:!0}):s;return Rv(this.selectorText,this.style,o)},q4(e,[{key:"selector",set:function(s){if(s!==this.selectorText){this.selectorText=s;var i=this.renderer,a=this.renderable;if(!(!a||!i)){var o=i.setSelector(a,s);o||i.replaceRule(a,this)}}},get:function(){return this.selectorText}}]),e}(J4),nie={onCreateRule:function(e,r,n){return e[0]==="@"||n.parent&&n.parent.type==="keyframes"?null:new QA(e,r,n)}},Eb={indent:1,children:!0},sie=/@([\w-]+)/,iie=function(){function t(r,n,s){this.type="conditional",this.isProcessed=!1,this.key=r;var i=r.match(sie);this.at=i?i[1]:"unknown",this.query=s.name||"@"+this.at,this.options=s,this.rules=new vE(R({},s,{parent:this}));for(var a in n)this.rules.add(a,n[a]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.indexOf=function(n){return this.rules.indexOf(n)},e.addRule=function(n,s,i){var a=this.rules.add(n,s,i);return a?(this.options.jss.plugins.onProcessRule(a),a):null},e.replaceRule=function(n,s,i){var a=this.rules.replace(n,s,i);return a&&this.options.jss.plugins.onProcessRule(a),a},e.toString=function(n){n===void 0&&(n=Eb);var s=Pp(n),i=s.linebreak;if(n.indent==null&&(n.indent=Eb.indent),n.children==null&&(n.children=Eb.children),n.children===!1)return this.query+" {}";var a=this.rules.toString(n);return a?this.query+" {"+i+a+i+"}":""},t}(),aie=/@container|@media|@supports\s+/,oie={onCreateRule:function(e,r,n){return aie.test(e)?new iie(e,r,n):null}},bb={indent:1,children:!0},lie=/@keyframes\s+([\w-]+)/,XA=function(){function t(r,n,s){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=r.match(lie);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=s;var a=s.scoped,o=s.sheet,l=s.generateId;this.id=a===!1?this.name:GI(l(this,o)),this.rules=new vE(R({},s,{parent:this}));for(var u in n)this.rules.add(u,n[u],R({},s,{parent:this}));this.rules.process()}var e=t.prototype;return e.toString=function(n){n===void 0&&(n=bb);var s=Pp(n),i=s.linebreak;if(n.indent==null&&(n.indent=bb.indent),n.children==null&&(n.children=bb.children),n.children===!1)return this.at+" "+this.id+" {}";var a=this.rules.toString(n);return a&&(a=""+i+a+i),this.at+" "+this.id+" {"+a+"}"},t}(),uie=/@keyframes\s+/,cie=/\$([\w-]+)/g,ZA=function(e,r){return typeof e=="string"?e.replace(cie,function(n,s){return s in r?r[s]:n}):e},n_=function(e,r,n){var s=e[r],i=ZA(s,n);i!==s&&(e[r]=i)},fie={onCreateRule:function(e,r,n){return typeof e=="string"&&uie.test(e)?new XA(e,r,n):null},onProcessStyle:function(e,r,n){return r.type!=="style"||!n||("animation-name"in e&&n_(e,"animation-name",n.keyframes),"animation"in e&&n_(e,"animation",n.keyframes)),e},onChangeValue:function(e,r,n){var s=n.options.sheet;if(!s)return e;switch(r){case"animation":return ZA(e,s.keyframes);case"animation-name":return ZA(e,s.keyframes);default:return e}}},hie=function(t){BC(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.toString=function(s){var i=this.options.sheet,a=i?i.options.link:!1,o=a?R({},s,{allowEmpty:!0}):s;return Rv(this.key,this.style,o)},e}(J4),die={onCreateRule:function(e,r,n){return n.parent&&n.parent.type==="keyframes"?new hie(e,r,n):null}},pie=function(){function t(r,n,s){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=r,this.style=n,this.options=s}var e=t.prototype;return e.toString=function(n){var s=Pp(n),i=s.linebreak;if(Array.isArray(this.style)){for(var a="",o=0;o<this.style.length;o++)a+=Rv(this.at,this.style[o]),this.style[o+1]&&(a+=i);return a}return Rv(this.at,this.style,n)},t}(),mie=/@font-face/,gie={onCreateRule:function(e,r,n){return mie.test(e)?new pie(e,r,n):null}},vie=function(){function t(r,n,s){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=r,this.style=n,this.options=s}var e=t.prototype;return e.toString=function(n){return Rv(this.key,this.style,n)},t}(),yie={onCreateRule:function(e,r,n){return e==="@viewport"||e==="@-ms-viewport"?new vie(e,r,n):null}},Sie=function(){function t(r,n,s){this.type="simple",this.isProcessed=!1,this.key=r,this.value=n,this.options=s}var e=t.prototype;return e.toString=function(n){if(Array.isArray(this.value)){for(var s="",i=0;i<this.value.length;i++)s+=this.key+" "+this.value[i]+";",this.value[i+1]&&(s+=`
`);return s}return this.key+" "+this.value+";"},t}(),wie={"@charset":!0,"@import":!0,"@namespace":!0},Cie={onCreateRule:function(e,r,n){return e in wie?new Sie(e,r,n):null}},s_=[nie,oie,fie,die,gie,yie,Cie],Eie={process:!0},i_={force:!0,process:!0},vE=function(){function t(r){this.map={},this.raw={},this.index=[],this.counter=0,this.options=r,this.classes=r.classes,this.keyframes=r.keyframes}var e=t.prototype;return e.add=function(n,s,i){var a=this.options,o=a.parent,l=a.sheet,u=a.jss,c=a.Renderer,f=a.generateId,h=a.scoped,p=R({classes:this.classes,parent:o,sheet:l,jss:u,Renderer:c,generateId:f,scoped:h,name:n,keyframes:this.keyframes,selector:void 0},i),d=n;n in this.raw&&(d=n+"-d"+this.counter++),this.raw[d]=s,d in this.classes&&(p.selector="."+GI(this.classes[d]));var m=WI(d,s,p);if(!m)return null;this.register(m);var S=p.index===void 0?this.index.length:p.index;return this.index.splice(S,0,m),m},e.replace=function(n,s,i){var a=this.get(n),o=this.index.indexOf(a);a&&this.remove(a);var l=i;return o!==-1&&(l=R({},i,{index:o})),this.add(n,s,l)},e.get=function(n){return this.map[n]},e.remove=function(n){this.unregister(n),delete this.raw[n.key],this.index.splice(this.index.indexOf(n),1)},e.indexOf=function(n){return this.index.indexOf(n)},e.process=function(){var n=this.options.jss.plugins;this.index.slice(0).forEach(n.onProcessRule,n)},e.register=function(n){this.map[n.key]=n,n instanceof QA?(this.map[n.selector]=n,n.id&&(this.classes[n.key]=n.id)):n instanceof XA&&this.keyframes&&(this.keyframes[n.name]=n.id)},e.unregister=function(n){delete this.map[n.key],n instanceof QA?(delete this.map[n.selector],delete this.classes[n.key]):n instanceof XA&&delete this.keyframes[n.name]},e.update=function(){var n,s,i;if(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(n=arguments.length<=0?void 0:arguments[0],s=arguments.length<=1?void 0:arguments[1],i=arguments.length<=2?void 0:arguments[2]):(s=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],n=null),n)this.updateOne(this.get(n),s,i);else for(var a=0;a<this.index.length;a++)this.updateOne(this.index[a],s,i)},e.updateOne=function(n,s,i){i===void 0&&(i=Eie);var a=this.options,o=a.jss.plugins,l=a.sheet;if(n.rules instanceof t){n.rules.update(s,i);return}var u=n.style;if(o.onUpdate(s,n,l,i),i.process&&u&&u!==n.style){o.onProcessStyle(n.style,n,l);for(var c in n.style){var f=n.style[c],h=u[c];f!==h&&n.prop(c,f,i_)}for(var p in u){var d=n.style[p],m=u[p];d==null&&d!==m&&n.prop(p,null,i_)}}},e.toString=function(n){for(var s="",i=this.options.sheet,a=i?i.options.link:!1,o=Pp(n),l=o.linebreak,u=0;u<this.index.length;u++){var c=this.index[u],f=c.toString(n);!f&&!a||(s&&(s+=l),s+=f)}return s},t}(),Y4=function(){function t(r,n){this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=R({},n,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),n.Renderer&&(this.renderer=new n.Renderer(this)),this.rules=new vE(this.options);for(var s in r)this.rules.add(s,r[s]);this.rules.process()}var e=t.prototype;return e.attach=function(){return this.attached?this:(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy(),this)},e.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},e.addRule=function(n,s,i){var a=this.queue;this.attached&&!a&&(this.queue=[]);var o=this.rules.add(n,s,i);return o?(this.options.jss.plugins.onProcessRule(o),this.attached?(this.deployed&&(a?a.push(o):(this.insertRule(o),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))),o):(this.deployed=!1,o)):null},e.replaceRule=function(n,s,i){var a=this.rules.get(n);if(!a)return this.addRule(n,s,i);var o=this.rules.replace(n,s,i);return o&&this.options.jss.plugins.onProcessRule(o),this.attached?(this.deployed&&this.renderer&&(o?a.renderable&&this.renderer.replaceRule(a.renderable,o):this.renderer.deleteRule(a)),o):(this.deployed=!1,o)},e.insertRule=function(n){this.renderer&&this.renderer.insertRule(n)},e.addRules=function(n,s){var i=[];for(var a in n){var o=this.addRule(a,n[a],s);o&&i.push(o)}return i},e.getRule=function(n){return this.rules.get(n)},e.deleteRule=function(n){var s=typeof n=="object"?n:this.rules.get(n);return!s||this.attached&&!s.renderable?!1:(this.rules.remove(s),this.attached&&s.renderable&&this.renderer?this.renderer.deleteRule(s.renderable):!0)},e.indexOf=function(n){return this.rules.indexOf(n)},e.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},e.update=function(){var n;return(n=this.rules).update.apply(n,arguments),this},e.updateOne=function(n,s,i){return this.rules.updateOne(n,s,i),this},e.toString=function(n){return this.rules.toString(n)},t}(),bie=function(){function t(){this.plugins={internal:[],external:[]},this.registry={}}var e=t.prototype;return e.onCreateRule=function(n,s,i){for(var a=0;a<this.registry.onCreateRule.length;a++){var o=this.registry.onCreateRule[a](n,s,i);if(o)return o}return null},e.onProcessRule=function(n){if(!n.isProcessed){for(var s=n.options.sheet,i=0;i<this.registry.onProcessRule.length;i++)this.registry.onProcessRule[i](n,s);n.style&&this.onProcessStyle(n.style,n,s),n.isProcessed=!0}},e.onProcessStyle=function(n,s,i){for(var a=0;a<this.registry.onProcessStyle.length;a++)s.style=this.registry.onProcessStyle[a](s.style,s,i)},e.onProcessSheet=function(n){for(var s=0;s<this.registry.onProcessSheet.length;s++)this.registry.onProcessSheet[s](n)},e.onUpdate=function(n,s,i,a){for(var o=0;o<this.registry.onUpdate.length;o++)this.registry.onUpdate[o](n,s,i,a)},e.onChangeValue=function(n,s,i){for(var a=n,o=0;o<this.registry.onChangeValue.length;o++)a=this.registry.onChangeValue[o](a,s,i);return a},e.use=function(n,s){s===void 0&&(s={queue:"external"});var i=this.plugins[s.queue];i.indexOf(n)===-1&&(i.push(n),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce(function(a,o){for(var l in o)l in a&&a[l].push(o[l]);return a},{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},t}(),xie=function(){function t(){this.registry=[]}var e=t.prototype;return e.add=function(n){var s=this.registry,i=n.options.index;if(s.indexOf(n)===-1){if(s.length===0||i>=this.index){s.push(n);return}for(var a=0;a<s.length;a++)if(s[a].options.index>i){s.splice(a,0,n);return}}},e.reset=function(){this.registry=[]},e.remove=function(n){var s=this.registry.indexOf(n);this.registry.splice(s,1)},e.toString=function(n){for(var s=n===void 0?{}:n,i=s.attached,a=He(s,["attached"]),o=Pp(a),l=o.linebreak,u="",c=0;c<this.registry.length;c++){var f=this.registry[c];i!=null&&f.attached!==i||(u&&(u+=l),u+=f.toString(a))}return u},q4(t,[{key:"index",get:function(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]),t}(),Qg=new xie,ek=typeof globalThis<"u"?globalThis:typeof window<"u"&&window.Math===Math?window:typeof self<"u"&&self.Math===Math?self:Function("return this")(),tk="2f1acc6c3a606b082e5eef5e54414ffb";ek[tk]==null&&(ek[tk]=0);var a_=ek[tk]++,o_=function(e){e===void 0&&(e={});var r=0,n=function(i,a){r+=1;var o="",l="";return a&&(a.options.classNamePrefix&&(l=a.options.classNamePrefix),a.options.jss.id!=null&&(o=String(a.options.jss.id))),e.minify?""+(l||"c")+a_+o+r:l+i.key+"-"+a_+(o?"-"+o:"")+"-"+r};return n},Q4=function(e){var r;return function(){return r||(r=e()),r}},Aie=function(e,r){try{return e.attributeStyleMap?e.attributeStyleMap.get(r):e.style.getPropertyValue(r)}catch{return""}},kie=function(e,r,n){try{var s=n;if(Array.isArray(n)&&(s=Dc(n)),e.attributeStyleMap)e.attributeStyleMap.set(r,s);else{var i=s?s.indexOf("!important"):-1,a=i>-1?s.substr(0,i-1):s;e.style.setProperty(r,a,i>-1?"important":"")}}catch{return!1}return!0},Iie=function(e,r){try{e.attributeStyleMap?e.attributeStyleMap.delete(r):e.style.removeProperty(r)}catch{}},Tie=function(e,r){return e.selectorText=r,e.selectorText===r},X4=Q4(function(){return document.querySelector("head")});function Nie(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.attached&&n.options.index>e.index&&n.options.insertionPoint===e.insertionPoint)return n}return null}function Rie(t,e){for(var r=t.length-1;r>=0;r--){var n=t[r];if(n.attached&&n.options.insertionPoint===e.insertionPoint)return n}return null}function Bie(t){for(var e=X4(),r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(n.nodeType===8&&n.nodeValue.trim()===t)return n}return null}function _ie(t){var e=Qg.registry;if(e.length>0){var r=Nie(e,t);if(r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element};if(r=Rie(e,t),r&&r.renderer)return{parent:r.renderer.element.parentNode,node:r.renderer.element.nextSibling}}var n=t.insertionPoint;if(n&&typeof n=="string"){var s=Bie(n);if(s)return{parent:s.parentNode,node:s.nextSibling}}return!1}function Pie(t,e){var r=e.insertionPoint,n=_ie(e);if(n!==!1&&n.parent){n.parent.insertBefore(t,n.node);return}if(r&&typeof r.nodeType=="number"){var s=r,i=s.parentNode;i&&i.insertBefore(t,s.nextSibling);return}X4().appendChild(t)}var Oie=Q4(function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null}),l_=function(e,r,n){try{"insertRule"in e?e.insertRule(r,n):"appendRule"in e&&e.appendRule(r)}catch{return!1}return e.cssRules[n]},u_=function(e,r){var n=e.cssRules.length;return r===void 0||r>n?n:r},Lie=function(){var e=document.createElement("style");return e.textContent=`
`,e},Vie=function(){function t(r){this.getPropertyValue=Aie,this.setProperty=kie,this.removeProperty=Iie,this.setSelector=Tie,this.hasInsertedRules=!1,this.cssRules=[],r&&Qg.add(r),this.sheet=r;var n=this.sheet?this.sheet.options:{},s=n.media,i=n.meta,a=n.element;this.element=a||Lie(),this.element.setAttribute("data-jss",""),s&&this.element.setAttribute("media",s),i&&this.element.setAttribute("data-meta",i);var o=Oie();o&&this.element.setAttribute("nonce",o)}var e=t.prototype;return e.attach=function(){if(!(this.element.parentNode||!this.sheet)){Pie(this.element,this.sheet.options);var n=!!(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&n&&(this.hasInsertedRules=!1,this.deploy())}},e.detach=function(){if(this.sheet){var n=this.element.parentNode;n&&n.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent=`
`)}},e.deploy=function(){var n=this.sheet;if(n){if(n.options.link){this.insertRules(n.rules);return}this.element.textContent=`
`+n.toString()+`
`}},e.insertRules=function(n,s){for(var i=0;i<n.index.length;i++)this.insertRule(n.index[i],i,s)},e.insertRule=function(n,s,i){if(i===void 0&&(i=this.element.sheet),n.rules){var a=n,o=i;if(n.type==="conditional"||n.type==="keyframes"){var l=u_(i,s);if(o=l_(i,a.toString({children:!1}),l),o===!1)return!1;this.refCssRule(n,l,o)}return this.insertRules(a.rules,o),o}var u=n.toString();if(!u)return!1;var c=u_(i,s),f=l_(i,u,c);return f===!1?!1:(this.hasInsertedRules=!0,this.refCssRule(n,c,f),f)},e.refCssRule=function(n,s,i){n.renderable=i,n.options.parent instanceof Y4&&this.cssRules.splice(s,0,i)},e.deleteRule=function(n){var s=this.element.sheet,i=this.indexOf(n);return i===-1?!1:(s.deleteRule(i),this.cssRules.splice(i,1),!0)},e.indexOf=function(n){return this.cssRules.indexOf(n)},e.replaceRule=function(n,s){var i=this.indexOf(n);return i===-1?!1:(this.element.sheet.deleteRule(i),this.cssRules.splice(i,1),this.insertRule(s,i))},e.getRules=function(){return this.element.sheet.cssRules},t}(),Die=0,Uie=function(){function t(r){this.id=Die++,this.version="10.10.0",this.plugins=new bie,this.options={id:{minify:!1},createGenerateId:o_,Renderer:dy?Vie:null,plugins:[]},this.generateId=o_({minify:!1});for(var n=0;n<s_.length;n++)this.plugins.use(s_[n],{queue:"internal"});this.setup(r)}var e=t.prototype;return e.setup=function(n){return n===void 0&&(n={}),n.createGenerateId&&(this.options.createGenerateId=n.createGenerateId),n.id&&(this.options.id=R({},this.options.id,n.id)),(n.createGenerateId||n.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),n.insertionPoint!=null&&(this.options.insertionPoint=n.insertionPoint),"Renderer"in n&&(this.options.Renderer=n.Renderer),n.plugins&&this.use.apply(this,n.plugins),this},e.createStyleSheet=function(n,s){s===void 0&&(s={});var i=s,a=i.index;typeof a!="number"&&(a=Qg.index===0?0:Qg.index+1);var o=new Y4(n,R({},s,{jss:this,generateId:s.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:a}));return this.plugins.onProcessSheet(o),o},e.removeStyleSheet=function(n){return n.detach(),Qg.remove(n),this},e.createRule=function(n,s,i){if(s===void 0&&(s={}),i===void 0&&(i={}),typeof n=="object")return this.createRule(void 0,n,s);var a=R({},i,{name:n,jss:this,Renderer:this.options.Renderer});a.generateId||(a.generateId=this.generateId),a.classes||(a.classes={}),a.keyframes||(a.keyframes={});var o=WI(n,s,a);return o&&this.plugins.onProcessRule(o),o},e.use=function(){for(var n=this,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return i.forEach(function(o){n.plugins.use(o)}),this},t}(),Z4=function(e){return new Uie(e)},qI=typeof CSS=="object"&&CSS!=null&&"number"in CSS;function e3(t){var e=null;for(var r in t){var n=t[r],s=typeof n;if(s==="function")e||(e={}),e[r]=n;else if(s==="object"&&n!==null&&!Array.isArray(n)){var i=e3(n);i&&(e||(e={}),e[r]=i)}}return e}/**
 * A better abstraction over CSS.
 *
 * @copyright Oleg Isonen (Slobodskoi) / Isonen 2014-present
 * @website https://github.com/cssinjs/jss
 * @license MIT
 */Z4();var t3=Date.now(),xb="fnValues"+t3,Ab="fnStyle"+ ++t3,Mie=function(){return{onCreateRule:function(r,n,s){if(typeof n!="function")return null;var i=WI(r,{},s);return i[Ab]=n,i},onProcessStyle:function(r,n){if(xb in n||Ab in n)return r;var s={};for(var i in r){var a=r[i];typeof a=="function"&&(delete r[i],s[i]=a)}return n[xb]=s,r},onUpdate:function(r,n,s,i){var a=n,o=a[Ab];o&&(a.style=o(r)||{});var l=a[xb];if(l)for(var u in l)a.prop(u,l[u](r),i)}}};const $ie=Mie;var Ml="@global",rk="@global ",Fie=function(){function t(r,n,s){this.type="global",this.at=Ml,this.isProcessed=!1,this.key=r,this.options=s,this.rules=new vE(R({},s,{parent:this}));for(var i in n)this.rules.add(i,n[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(n){return this.rules.get(n)},e.addRule=function(n,s,i){var a=this.rules.add(n,s,i);return a&&this.options.jss.plugins.onProcessRule(a),a},e.replaceRule=function(n,s,i){var a=this.rules.replace(n,s,i);return a&&this.options.jss.plugins.onProcessRule(a),a},e.indexOf=function(n){return this.rules.indexOf(n)},e.toString=function(n){return this.rules.toString(n)},t}(),Hie=function(){function t(r,n,s){this.type="global",this.at=Ml,this.isProcessed=!1,this.key=r,this.options=s;var i=r.substr(rk.length);this.rule=s.jss.createRule(i,n,R({},s,{parent:this}))}var e=t.prototype;return e.toString=function(n){return this.rule?this.rule.toString(n):""},t}(),Kie=/\s*,\s*/g;function r3(t,e){for(var r=t.split(Kie),n="",s=0;s<r.length;s++)n+=e+" "+r[s].trim(),r[s+1]&&(n+=", ");return n}function jie(t,e){var r=t.options,n=t.style,s=n?n[Ml]:null;if(s){for(var i in s)e.addRule(i,s[i],R({},r,{selector:r3(i,t.selector)}));delete n[Ml]}}function zie(t,e){var r=t.options,n=t.style;for(var s in n)if(!(s[0]!=="@"||s.substr(0,Ml.length)!==Ml)){var i=r3(s.substr(Ml.length),t.selector);e.addRule(i,n[s],R({},r,{selector:i})),delete n[s]}}function Wie(){function t(r,n,s){if(!r)return null;if(r===Ml)return new Fie(r,n,s);if(r[0]==="@"&&r.substr(0,rk.length)===rk)return new Hie(r,n,s);var i=s.parent;return i&&(i.type==="global"||i.options.parent&&i.options.parent.type==="global")&&(s.scoped=!1),!s.selector&&s.scoped===!1&&(s.selector=r),null}function e(r,n){r.type!=="style"||!n||(jie(r,n),zie(r,n))}return{onCreateRule:t,onProcessRule:e}}var c_=/\s*,\s*/g,Gie=/&/g,qie=/\$([\w-]+)/g;function Jie(){function t(s,i){return function(a,o){var l=s.getRule(o)||i&&i.getRule(o);return l?l.selector:o}}function e(s,i){for(var a=i.split(c_),o=s.split(c_),l="",u=0;u<a.length;u++)for(var c=a[u],f=0;f<o.length;f++){var h=o[f];l&&(l+=", "),l+=h.indexOf("&")!==-1?h.replace(Gie,c):c+" "+h}return l}function r(s,i,a){if(a)return R({},a,{index:a.index+1});var o=s.options.nestingLevel;o=o===void 0?1:o+1;var l=R({},s.options,{nestingLevel:o,index:i.indexOf(s)+1});return delete l.name,l}function n(s,i,a){if(i.type!=="style")return s;var o=i,l=o.options.parent,u,c;for(var f in s){var h=f.indexOf("&")!==-1,p=f[0]==="@";if(!(!h&&!p)){if(u=r(o,l,u),h){var d=e(f,o.selector);c||(c=t(l,a)),d=d.replace(qie,c);var m=o.key+"-"+f;"replaceRule"in l?l.replaceRule(m,s[f],R({},u,{selector:d})):l.addRule(m,s[f],R({},u,{selector:d}))}else p&&l.addRule(f,{},u).addRule(o.key,s[f],{selector:o.selector});delete s[f]}}return s}return{onProcessStyle:n}}var Yie=/[A-Z]/g,Qie=/^ms-/,kb={};function Xie(t){return"-"+t.toLowerCase()}function n3(t){if(kb.hasOwnProperty(t))return kb[t];var e=t.replace(Yie,Xie);return kb[t]=Qie.test(e)?"-"+e:e}function Sw(t){var e={};for(var r in t){var n=r.indexOf("--")===0?r:n3(r);e[n]=t[r]}return t.fallbacks&&(Array.isArray(t.fallbacks)?e.fallbacks=t.fallbacks.map(Sw):e.fallbacks=Sw(t.fallbacks)),e}function Zie(){function t(r){if(Array.isArray(r)){for(var n=0;n<r.length;n++)r[n]=Sw(r[n]);return r}return Sw(r)}function e(r,n,s){if(n.indexOf("--")===0)return r;var i=n3(n);return n===i?r:(s.prop(i,r),null)}return{onProcessStyle:t,onChangeValue:e}}var he=qI&&CSS?CSS.px:"px",Yy=qI&&CSS?CSS.ms:"ms",Nf=qI&&CSS?CSS.percent:"%",eae={"animation-delay":Yy,"animation-duration":Yy,"background-position":he,"background-position-x":he,"background-position-y":he,"background-size":he,border:he,"border-bottom":he,"border-bottom-left-radius":he,"border-bottom-right-radius":he,"border-bottom-width":he,"border-left":he,"border-left-width":he,"border-radius":he,"border-right":he,"border-right-width":he,"border-top":he,"border-top-left-radius":he,"border-top-right-radius":he,"border-top-width":he,"border-width":he,"border-block":he,"border-block-end":he,"border-block-end-width":he,"border-block-start":he,"border-block-start-width":he,"border-block-width":he,"border-inline":he,"border-inline-end":he,"border-inline-end-width":he,"border-inline-start":he,"border-inline-start-width":he,"border-inline-width":he,"border-start-start-radius":he,"border-start-end-radius":he,"border-end-start-radius":he,"border-end-end-radius":he,margin:he,"margin-bottom":he,"margin-left":he,"margin-right":he,"margin-top":he,"margin-block":he,"margin-block-end":he,"margin-block-start":he,"margin-inline":he,"margin-inline-end":he,"margin-inline-start":he,padding:he,"padding-bottom":he,"padding-left":he,"padding-right":he,"padding-top":he,"padding-block":he,"padding-block-end":he,"padding-block-start":he,"padding-inline":he,"padding-inline-end":he,"padding-inline-start":he,"mask-position-x":he,"mask-position-y":he,"mask-size":he,height:he,width:he,"min-height":he,"max-height":he,"min-width":he,"max-width":he,bottom:he,left:he,top:he,right:he,inset:he,"inset-block":he,"inset-block-end":he,"inset-block-start":he,"inset-inline":he,"inset-inline-end":he,"inset-inline-start":he,"box-shadow":he,"text-shadow":he,"column-gap":he,"column-rule":he,"column-rule-width":he,"column-width":he,"font-size":he,"font-size-delta":he,"letter-spacing":he,"text-decoration-thickness":he,"text-indent":he,"text-stroke":he,"text-stroke-width":he,"word-spacing":he,motion:he,"motion-offset":he,outline:he,"outline-offset":he,"outline-width":he,perspective:he,"perspective-origin-x":Nf,"perspective-origin-y":Nf,"transform-origin":Nf,"transform-origin-x":Nf,"transform-origin-y":Nf,"transform-origin-z":Nf,"transition-delay":Yy,"transition-duration":Yy,"vertical-align":he,"flex-basis":he,"shape-margin":he,size:he,gap:he,grid:he,"grid-gap":he,"row-gap":he,"grid-row-gap":he,"grid-column-gap":he,"grid-template-rows":he,"grid-template-columns":he,"grid-auto-rows":he,"grid-auto-columns":he,"box-shadow-x":he,"box-shadow-y":he,"box-shadow-blur":he,"box-shadow-spread":he,"font-line-height":he,"text-shadow-x":he,"text-shadow-y":he,"text-shadow-blur":he};function s3(t){var e=/(-[a-z])/g,r=function(a){return a[1].toUpperCase()},n={};for(var s in t)n[s]=t[s],n[s.replace(e,r)]=t[s];return n}var tae=s3(eae);function Xg(t,e,r){if(e==null)return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=Xg(t,e[n],r);else if(typeof e=="object")if(t==="fallbacks")for(var s in e)e[s]=Xg(s,e[s],r);else for(var i in e)e[i]=Xg(t+"-"+i,e[i],r);else if(typeof e=="number"&&isNaN(e)===!1){var a=r[t]||tae[t];return a&&!(e===0&&a===he)?typeof a=="function"?a(e).toString():""+e+a:e.toString()}return e}function rae(t){t===void 0&&(t={});var e=s3(t);function r(s,i){if(i.type!=="style")return s;for(var a in s)s[a]=Xg(a,s[a],e);return s}function n(s,i){return Xg(i,s,e)}return{onProcessStyle:r,onChangeValue:n}}function nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nae(t){if(Array.isArray(t))return nk(t)}function sae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iae(t,e){if(t){if(typeof t=="string")return nk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nk(t,e)}}function aae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oae(t){return nae(t)||sae(t)||iae(t)||aae()}var P0="",sk="",i3="",a3="",lae=dy&&"ontouchstart"in document.documentElement;if(dy){var Ib={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},uae=document.createElement("p"),Tb=uae.style,cae="Transform";for(var Nb in Ib)if(Nb+cae in Tb){P0=Nb,sk=Ib[Nb];break}P0==="Webkit"&&"msHyphens"in Tb&&(P0="ms",sk=Ib.ms,a3="edge"),P0==="Webkit"&&"-apple-trailing-word"in Tb&&(i3="apple")}var ut={js:P0,css:sk,vendor:i3,browser:a3,isTouch:lae};function fae(t){return t[1]==="-"||ut.js==="ms"?t:"@"+ut.css+"keyframes"+t.substr(10)}var hae={noPrefill:["appearance"],supportedProperty:function(e){return e!=="appearance"?!1:ut.js==="ms"?"-webkit-"+e:ut.css+e}},dae={noPrefill:["color-adjust"],supportedProperty:function(e){return e!=="color-adjust"?!1:ut.js==="Webkit"?ut.css+"print-"+e:e}},pae=/[-\s]+(.)?/g;function mae(t,e){return e?e.toUpperCase():""}function JI(t){return t.replace(pae,mae)}function Yl(t){return JI("-"+t)}var gae={noPrefill:["mask"],supportedProperty:function(e,r){if(!/^mask/.test(e))return!1;if(ut.js==="Webkit"){var n="mask-image";if(JI(n)in r)return e;if(ut.js+Yl(n)in r)return ut.css+e}return e}},vae={noPrefill:["text-orientation"],supportedProperty:function(e){return e!=="text-orientation"?!1:ut.vendor==="apple"&&!ut.isTouch?ut.css+e:e}},yae={noPrefill:["transform"],supportedProperty:function(e,r,n){return e!=="transform"?!1:n.transform?e:ut.css+e}},Sae={noPrefill:["transition"],supportedProperty:function(e,r,n){return e!=="transition"?!1:n.transition?e:ut.css+e}},wae={noPrefill:["writing-mode"],supportedProperty:function(e){return e!=="writing-mode"?!1:ut.js==="Webkit"||ut.js==="ms"&&ut.browser!=="edge"?ut.css+e:e}},Cae={noPrefill:["user-select"],supportedProperty:function(e){return e!=="user-select"?!1:ut.js==="Moz"||ut.js==="ms"||ut.vendor==="apple"?ut.css+e:e}},Eae={supportedProperty:function(e,r){if(!/^break-/.test(e))return!1;if(ut.js==="Webkit"){var n="WebkitColumn"+Yl(e);return n in r?ut.css+"column-"+e:!1}if(ut.js==="Moz"){var s="page"+Yl(e);return s in r?"page-"+e:!1}return!1}},bae={supportedProperty:function(e,r){if(!/^(border|margin|padding)-inline/.test(e))return!1;if(ut.js==="Moz")return e;var n=e.replace("-inline","");return ut.js+Yl(n)in r?ut.css+n:!1}},xae={supportedProperty:function(e,r){return JI(e)in r?e:!1}},Aae={supportedProperty:function(e,r){var n=Yl(e);return e[0]==="-"||e[0]==="-"&&e[1]==="-"?e:ut.js+n in r?ut.css+e:ut.js!=="Webkit"&&"Webkit"+n in r?"-webkit-"+e:!1}},kae={supportedProperty:function(e){return e.substring(0,11)!=="scroll-snap"?!1:ut.js==="ms"?""+ut.css+e:e}},Iae={supportedProperty:function(e){return e!=="overscroll-behavior"?!1:ut.js==="ms"?ut.css+"scroll-chaining":e}},Tae={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Nae={supportedProperty:function(e,r){var n=Tae[e];return n&&ut.js+Yl(n)in r?ut.css+n:!1}},o3={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Rae=Object.keys(o3),Bae=function(e){return ut.css+e},_ae={supportedProperty:function(e,r,n){var s=n.multiple;if(Rae.indexOf(e)>-1){var i=o3[e];if(!Array.isArray(i))return ut.js+Yl(i)in r?ut.css+i:!1;if(!s)return!1;for(var a=0;a<i.length;a++)if(!(ut.js+Yl(i[0])in r))return!1;return i.map(Bae)}return!1}},l3=[hae,dae,gae,vae,yae,Sae,wae,Cae,Eae,bae,xae,Aae,kae,Iae,Nae,_ae],f_=l3.filter(function(t){return t.supportedProperty}).map(function(t){return t.supportedProperty}),Pae=l3.filter(function(t){return t.noPrefill}).reduce(function(t,e){return t.push.apply(t,oae(e.noPrefill)),t},[]),O0,wc={};if(dy){O0=document.createElement("p");var Rb=window.getComputedStyle(document.documentElement,"");for(var Bb in Rb)isNaN(Bb)||(wc[Rb[Bb]]=Rb[Bb]);Pae.forEach(function(t){return delete wc[t]})}function ik(t,e){if(e===void 0&&(e={}),!O0)return t;if(wc[t]!=null)return wc[t];(t==="transition"||t==="transform")&&(e[t]=t in O0.style);for(var r=0;r<f_.length&&(wc[t]=f_[r](t,O0.style,e),!wc[t]);r++);try{O0.style[t]=""}catch{return!1}return wc[t]}var Rf={},Oae={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Lae=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g,Co;function Vae(t,e,r){if(e==="var")return"var";if(e==="all")return"all";if(r==="all")return", all";var n=e?ik(e):", "+ik(r);return n||e||r}dy&&(Co=document.createElement("p"));function h_(t,e){var r=e;if(!Co||t==="content")return e;if(typeof r!="string"||!isNaN(parseInt(r,10)))return r;var n=t+r;if(Rf[n]!=null)return Rf[n];try{Co.style[t]=r}catch{return Rf[n]=!1,!1}if(Oae[t])r=r.replace(Lae,Vae);else if(Co.style[t]===""&&(r=ut.css+r,r==="-ms-flex"&&(Co.style[t]="-ms-flexbox"),Co.style[t]=r,Co.style[t]===""))return Rf[n]=!1,!1;return Co.style[t]="",Rf[n]=r,Rf[n]}function Dae(){function t(s){if(s.type==="keyframes"){var i=s;i.at=fae(i.at)}}function e(s){for(var i in s){var a=s[i];if(i==="fallbacks"&&Array.isArray(a)){s[i]=a.map(e);continue}var o=!1,l=ik(i);l&&l!==i&&(o=!0);var u=!1,c=h_(l,Dc(a));c&&c!==a&&(u=!0),(o||u)&&(o&&delete s[i],s[l||i]=c||a)}return s}function r(s,i){return i.type!=="style"?s:e(s)}function n(s,i){return h_(i,Dc(s))||s}return{onProcessRule:t,onProcessStyle:r,onChangeValue:n}}function Uae(){var t=function(r,n){return r.length===n.length?r>n?1:-1:r.length-n.length};return{onProcessStyle:function(r,n){if(n.type!=="style")return r;for(var s={},i=Object.keys(r).sort(t),a=0;a<i.length;a++)s[i[a]]=r[i[a]];return s}}}function Mae(){return{plugins:[$ie(),Wie(),Jie(),Zie(),rae(),typeof window>"u"?null:Dae(),Uae()]}}var u3={exports:{}},Ot={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var d_=Object.getOwnPropertySymbols,$ae=Object.prototype.hasOwnProperty,Fae=Object.prototype.propertyIsEnumerable;function Hae(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Kae(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(n.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var jae=Kae()?Object.assign:function(t,e){for(var r,n=Hae(t),s,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var a in r)$ae.call(r,a)&&(n[a]=r[a]);if(d_){s=d_(r);for(var o=0;o<s.length;o++)Fae.call(r,s[o])&&(n[s[o]]=r[s[o]])}}return n};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=jae,Op=60103,c3=60106;Ot.Fragment=60107;Ot.StrictMode=60108;Ot.Profiler=60114;var f3=60109,h3=60110,d3=60112;Ot.Suspense=60113;var p3=60115,m3=60116;if(typeof Symbol=="function"&&Symbol.for){var fi=Symbol.for;Op=fi("react.element"),c3=fi("react.portal"),Ot.Fragment=fi("react.fragment"),Ot.StrictMode=fi("react.strict_mode"),Ot.Profiler=fi("react.profiler"),f3=fi("react.provider"),h3=fi("react.context"),d3=fi("react.forward_ref"),Ot.Suspense=fi("react.suspense"),p3=fi("react.memo"),m3=fi("react.lazy")}var p_=typeof Symbol=="function"&&Symbol.iterator;function zae(t){return t===null||typeof t!="object"?null:(t=p_&&t[p_]||t["@@iterator"],typeof t=="function"?t:null)}function py(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v3={};function Lp(t,e,r){this.props=t,this.context=e,this.refs=v3,this.updater=r||g3}Lp.prototype.isReactComponent={};Lp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(py(85));this.updater.enqueueSetState(this,t,e,"setState")};Lp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function y3(){}y3.prototype=Lp.prototype;function QI(t,e,r){this.props=t,this.context=e,this.refs=v3,this.updater=r||g3}var XI=QI.prototype=new y3;XI.constructor=QI;YI(XI,Lp.prototype);XI.isPureReactComponent=!0;var ZI={current:null},S3=Object.prototype.hasOwnProperty,w3={key:!0,ref:!0,__self:!0,__source:!0};function C3(t,e,r){var n,s={},i=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(i=""+e.key),e)S3.call(e,n)&&!w3.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Op,type:t,key:i,ref:a,props:s,_owner:ZI.current}}function Wae(t,e){return{$$typeof:Op,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eT(t){return typeof t=="object"&&t!==null&&t.$$typeof===Op}function Gae(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var m_=/\/+/g;function _b(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gae(""+t.key):e.toString(36)}function W1(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Op:case c3:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+_b(a,0):n,Array.isArray(s)?(r="",t!=null&&(r=t.replace(m_,"$&/")+"/"),W1(s,e,r,"",function(u){return u})):s!=null&&(eT(s)&&(s=Wae(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(m_,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",Array.isArray(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+_b(i,o);a+=W1(i,e,r,l,s)}else if(l=zae(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+_b(i,o++),a+=W1(i,e,r,l,s);else if(i==="object")throw e=""+t,Error(py(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function Qy(t,e,r){if(t==null)return t;var n=[],s=0;return W1(t,n,"","",function(i){return e.call(r,i,s++)}),n}function qae(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var E3={current:null};function lo(){var t=E3.current;if(t===null)throw Error(py(321));return t}var Jae={ReactCurrentDispatcher:E3,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ZI,IsSomeRendererActing:{current:!1},assign:YI};Ot.Children={map:Qy,forEach:function(t,e,r){Qy(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Qy(t,function(){e++}),e},toArray:function(t){return Qy(t,function(e){return e})||[]},only:function(t){if(!eT(t))throw Error(py(143));return t}};Ot.Component=Lp;Ot.PureComponent=QI;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jae;Ot.cloneElement=function(t,e,r){if(t==null)throw Error(py(267,t));var n=YI({},t.props),s=t.key,i=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,a=ZI.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)S3.call(e,l)&&!w3.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Op,type:t.type,key:s,ref:i,props:n,_owner:a}};Ot.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:h3,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:f3,_context:t},t.Consumer=t};Ot.createElement=C3;Ot.createFactory=function(t){var e=C3.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:d3,render:t}};Ot.isValidElement=eT;Ot.lazy=function(t){return{$$typeof:m3,_payload:{_status:-1,_result:t},_init:qae}};Ot.memo=function(t,e){return{$$typeof:p3,type:t,compare:e===void 0?null:e}};Ot.useCallback=function(t,e){return lo().useCallback(t,e)};Ot.useContext=function(t,e){return lo().useContext(t,e)};Ot.useDebugValue=function(){};Ot.useEffect=function(t,e){return lo().useEffect(t,e)};Ot.useImperativeHandle=function(t,e,r){return lo().useImperativeHandle(t,e,r)};Ot.useLayoutEffect=function(t,e){return lo().useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return lo().useMemo(t,e)};Ot.useReducer=function(t,e,r){return lo().useReducer(t,e,r)};Ot.useRef=function(t){return lo().useRef(t)};Ot.useState=function(t){return lo().useState(t)};Ot.version="17.0.2";u3.exports=Ot;var Da=u3.exports;function b3(t={}){const{baseClasses:e,newClasses:r,Component:n}=t;if(!r)return e;const s=R({},e);return Object.keys(r).forEach(i=>{r[i]&&(s[i]=`${e[i]} ${r[i]}`)}),s}const Yae={set:(t,e,r,n)=>{let s=t.get(e);s||(s=new Map,t.set(e,s)),s.set(r,n)},get:(t,e,r)=>{const n=t.get(e);return n?n.get(r):void 0},delete:(t,e,r)=>{t.get(e).delete(r)}},Ed=Yae;function Qae(){var t;const e=kF();return(t=e==null?void 0:e.$$material)!=null?t:e}var yE={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xae=Da,x3=60103;yE.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var g_=Symbol.for;x3=g_("react.element"),yE.Fragment=g_("react.fragment")}var Zae=Xae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eoe=Object.prototype.hasOwnProperty,toe={key:!0,ref:!0,__self:!0,__source:!0};function A3(t,e,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)eoe.call(e,n)&&!toe.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:x3,type:t,key:i,ref:a,props:s,_owner:Zae.current}}yE.jsx=A3;yE.jsxs=A3;const roe=Z4(Mae()),noe=Xse(),soe=new Map,ioe={disableGeneration:!1,generateClassName:noe,jss:roe,sheetsCache:null,sheetsManager:soe,sheetsRegistry:null},aoe=Da.createContext(ioe);let v_=-1e9;function ooe(){return v_+=1,v_}const loe=["variant"];function y_(t){return t.length===0}function uoe(t){const{variant:e}=t,r=He(t,loe);let n=e||"";return Object.keys(r).sort().forEach(s=>{s==="color"?n+=y_(n)?t[s]:at(t[s]):n+=`${y_(n)?s:at(s)}${at(t[s].toString())}`}),n}const coe={},foe=coe;function hoe(t){const e=typeof t=="function";return{create:(r,n)=>{let s;try{s=e?t(r):t}catch(l){throw l}if(!n||!r.components||!r.components[n]||!r.components[n].styleOverrides&&!r.components[n].variants)return s;const i=r.components[n].styleOverrides||{},a=r.components[n].variants||[],o=R({},s);return Object.keys(i).forEach(l=>{o[l]=Nn(o[l]||{},i[l])}),a.forEach(l=>{const u=uoe(l.props);o[u]=Nn(o[u]||{},l.style)}),o},options:{}}}const doe=["name","classNamePrefix","Component","defaultTheme"];function poe({state:t,stylesOptions:e},r,n){if(e.disableGeneration)return r||{};t.cacheClasses||(t.cacheClasses={value:null,lastProp:null,lastJSS:{}});let s=!1;return t.classes!==t.cacheClasses.lastJSS&&(t.cacheClasses.lastJSS=t.classes,s=!0),r!==t.cacheClasses.lastProp&&(t.cacheClasses.lastProp=r,s=!0),s&&(t.cacheClasses.value=b3({baseClasses:t.cacheClasses.lastJSS,newClasses:r,Component:n})),t.cacheClasses.value}function moe({state:t,theme:e,stylesOptions:r,stylesCreator:n,name:s},i){if(r.disableGeneration)return;let a=Ed.get(r.sheetsManager,n,e);a||(a={refs:0,staticSheet:null,dynamicStyles:null},Ed.set(r.sheetsManager,n,e,a));const o=R({},n.options,r,{theme:e,flip:typeof r.flip=="boolean"?r.flip:e.direction==="rtl"});o.generateId=o.serverGenerateClassName||o.generateClassName;const l=r.sheetsRegistry;if(a.refs===0){let u;r.sheetsCache&&(u=Ed.get(r.sheetsCache,n,e));const c=n.create(e,s);u||(u=r.jss.createStyleSheet(c,R({link:!1},o)),u.attach(),r.sheetsCache&&Ed.set(r.sheetsCache,n,e,u)),l&&l.add(u),a.staticSheet=u,a.dynamicStyles=e3(c)}if(a.dynamicStyles){const u=r.jss.createStyleSheet(a.dynamicStyles,R({link:!0},o));u.update(i),u.attach(),t.dynamicSheet=u,t.classes=b3({baseClasses:a.staticSheet.classes,newClasses:u.classes}),l&&l.add(u)}else t.classes=a.staticSheet.classes;a.refs+=1}function goe({state:t},e){t.dynamicSheet&&t.dynamicSheet.update(e)}function voe({state:t,theme:e,stylesOptions:r,stylesCreator:n}){if(r.disableGeneration)return;const s=Ed.get(r.sheetsManager,n,e);s.refs-=1;const i=r.sheetsRegistry;s.refs===0&&(Ed.delete(r.sheetsManager,n,e),r.jss.removeStyleSheet(s.staticSheet),i&&i.remove(s.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),i&&i.remove(t.dynamicSheet))}function yoe(t,e){const r=Da.useRef([]);let n;const s=Da.useMemo(()=>({}),e);r.current!==s&&(r.current=s,n=t()),Da.useEffect(()=>()=>{n&&n()},[s])}function Soe(t,e={}){const{name:r,classNamePrefix:n,Component:s,defaultTheme:i=foe}=e,a=He(e,doe),o=hoe(t),l=r||n||"makeStyles";return o.options={index:ooe(),name:r,meta:l,classNamePrefix:l},(c={})=>{const f=Qae()||i,h=R({},Da.useContext(aoe),a),p=Da.useRef(),d=Da.useRef();return yoe(()=>{const S={name:r,state:{},stylesCreator:o,stylesOptions:h,theme:f};return moe(S,c),d.current=!1,p.current=S,()=>{voe(S)}},[f,o]),Da.useEffect(()=>{d.current&&goe(p.current,c),d.current=!0}),poe(p.current,c.classes,s)}}Soe(t=>({div:e=>({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"1em",...e.style})}));const woe=t=>t.loading?P.jsx("div",{children:P.jsxs("div",{style:{textAlign:"center"},children:[t.text&&P.jsx(Hn,{variant:"h2",children:t.text}),P.jsx(a7,{})]})}):P.jsx("div",{style:t.style,children:t.children});/*!
 * MIT License
 * 
 * Copyright (c) 2017-2022 Peculiar Ventures, LLC
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const Coe="[object ArrayBuffer]";class ze{static isArrayBuffer(e){return Object.prototype.toString.call(e)===Coe}static toArrayBuffer(e){return this.isArrayBuffer(e)?e:e.byteLength===e.buffer.byteLength||e.byteOffset===0&&e.byteLength===e.buffer.byteLength?e.buffer:this.toUint8Array(e.buffer).slice(e.byteOffset,e.byteOffset+e.byteLength).buffer}static toUint8Array(e){return this.toView(e,Uint8Array)}static toView(e,r){if(e.constructor===r)return e;if(this.isArrayBuffer(e))return new r(e);if(this.isArrayBufferView(e))return new r(e.buffer,e.byteOffset,e.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(e){return this.isArrayBufferView(e)||this.isArrayBuffer(e)}static isArrayBufferView(e){return ArrayBuffer.isView(e)||e&&this.isArrayBuffer(e.buffer)}static isEqual(e,r){const n=ze.toUint8Array(e),s=ze.toUint8Array(r);if(n.length!==s.byteLength)return!1;for(let i=0;i<n.length;i++)if(n[i]!==s[i])return!1;return!0}static concat(...e){let r;Array.isArray(e[0])&&!(e[1]instanceof Function)||Array.isArray(e[0])&&e[1]instanceof Function?r=e[0]:e[e.length-1]instanceof Function?r=e.slice(0,e.length-1):r=e;let n=0;for(const a of r)n+=a.byteLength;const s=new Uint8Array(n);let i=0;for(const a of r){const o=this.toUint8Array(a);s.set(o,i),i+=o.length}return e[e.length-1]instanceof Function?this.toView(s,e[e.length-1]):s.buffer}}const Pb="string",Eoe=/^[0-9a-f]+$/i,boe=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,xoe=/^[a-zA-Z0-9-_]+$/;class S_{static fromString(e){const r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n.buffer}static toString(e){const r=ze.toUint8Array(e);let n="";for(let i=0;i<r.length;i++)n+=String.fromCharCode(r[i]);return decodeURIComponent(escape(n))}}class Ui{static toString(e,r=!1){const n=ze.toArrayBuffer(e),s=new DataView(n);let i="";for(let a=0;a<n.byteLength;a+=2){const o=s.getUint16(a,r);i+=String.fromCharCode(o)}return i}static fromString(e,r=!1){const n=new ArrayBuffer(e.length*2),s=new DataView(n);for(let i=0;i<e.length;i++)s.setUint16(i*2,e.charCodeAt(i),r);return n}}class We{static isHex(e){return typeof e===Pb&&Eoe.test(e)}static isBase64(e){return typeof e===Pb&&boe.test(e)}static isBase64Url(e){return typeof e===Pb&&xoe.test(e)}static ToString(e,r="utf8"){const n=ze.toUint8Array(e);switch(r.toLowerCase()){case"utf8":return this.ToUtf8String(n);case"binary":return this.ToBinary(n);case"hex":return this.ToHex(n);case"base64":return this.ToBase64(n);case"base64url":return this.ToBase64Url(n);case"utf16le":return Ui.toString(n,!0);case"utf16":case"utf16be":return Ui.toString(n);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromString(e,r="utf8"){if(!e)return new ArrayBuffer(0);switch(r.toLowerCase()){case"utf8":return this.FromUtf8String(e);case"binary":return this.FromBinary(e);case"hex":return this.FromHex(e);case"base64":return this.FromBase64(e);case"base64url":return this.FromBase64Url(e);case"utf16le":return Ui.fromString(e,!0);case"utf16":case"utf16be":return Ui.fromString(e);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToBase64(e){const r=ze.toUint8Array(e);if(typeof btoa<"u"){const n=this.ToString(r,"binary");return btoa(n)}else return Buffer.from(r).toString("base64")}static FromBase64(e){const r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!We.isBase64(r))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(r)):new Uint8Array(Buffer.from(r,"base64")).buffer}static FromBase64Url(e){const r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!We.isBase64Url(r))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(r.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(e){return this.ToBase64(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(e,r=We.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.FromBinary(e);case"utf8":return S_.fromString(e);case"utf16":case"utf16be":return Ui.fromString(e);case"utf16le":case"usc2":return Ui.fromString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static ToUtf8String(e,r=We.DEFAULT_UTF8_ENCODING){switch(r){case"ascii":return this.ToBinary(e);case"utf8":return S_.toString(e);case"utf16":case"utf16be":return Ui.toString(e);case"utf16le":case"usc2":return Ui.toString(e,!0);default:throw new Error(`Unknown type of encoding '${r}'`)}}static FromBinary(e){const r=e.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=e.charCodeAt(s);return n.buffer}static ToBinary(e){const r=ze.toUint8Array(e);let n="";for(let s=0;s<r.length;s++)n+=String.fromCharCode(r[s]);return n}static ToHex(e){const r=ze.toUint8Array(e);let n="";const s=r.length;for(let i=0;i<s;i++){const a=r[i];a<16&&(n+="0"),n+=a.toString(16)}return n}static FromHex(e){let r=this.formatString(e);if(!r)return new ArrayBuffer(0);if(!We.isHex(r))throw new TypeError("Argument 'hexString' is not HEX encoded");r.length%2&&(r=`0${r}`);const n=new Uint8Array(r.length/2);for(let s=0;s<r.length;s=s+2){const i=r.slice(s,s+2);n[s/2]=parseInt(i,16)}return n.buffer}static ToUtf16String(e,r=!1){return Ui.toString(e,r)}static FromUtf16String(e,r=!1){return Ui.fromString(e,r)}static Base64Padding(e){const r=4-e.length%4;if(r<4)for(let n=0;n<r;n++)e+="=";return e}static formatString(e){return(e==null?void 0:e.replace(/[\n\r\t ]/g,""))||""}}We.DEFAULT_UTF8_ENCODING="utf8";/*!
 Copyright (c) Peculiar Ventures, LLC
*/function w(t,e,r){var n;return t instanceof Object&&(n=t[e])!==null&&n!==void 0?n:r}function w_(t,e=0,r=t.byteLength-e,n=!1){let s="";for(const i of new Uint8Array(t,e,r)){const a=i.toString(16).toUpperCase();a.length===1&&(s+="0"),s+=a,n&&(s+=" ")}return s.trim()}function of(t,e){let r=0;if(t.length===1)return t[0];for(let n=t.length-1;n>=0;n--)r+=t[t.length-1-n]*Math.pow(2,e*n);return r}function no(t,e,r=-1){const n=r;let s=t,i=0,a=Math.pow(2,e);for(let o=1;o<8;o++){if(t<a){let l;if(n<0)l=new ArrayBuffer(o),i=o;else{if(n<o)return new ArrayBuffer(0);l=new ArrayBuffer(n),i=n}const u=new Uint8Array(l);for(let c=o-1;c>=0;c--){const f=Math.pow(2,c*e);u[i-c-1]=Math.floor(s/f),s-=u[i-c-1]*f}return l}a*=Math.pow(2,e)}return new ArrayBuffer(0)}function Ld(...t){let e=0,r=0;for(const i of t)e+=i.byteLength;const n=new ArrayBuffer(e),s=new Uint8Array(n);for(const i of t)s.set(new Uint8Array(i),r),r+=i.byteLength;return n}function ak(...t){let e=0,r=0;for(const i of t)e+=i.length;const n=new ArrayBuffer(e),s=new Uint8Array(n);for(const i of t)s.set(i,r),r+=i.length;return s}function k3(){const t=new Uint8Array(this.valueHex);if(this.valueHex.byteLength>=2){const o=t[0]===255&&t[1]&128,l=t[0]===0&&(t[1]&128)===0;(o||l)&&this.warnings.push("Needlessly long format")}const e=new ArrayBuffer(this.valueHex.byteLength),r=new Uint8Array(e);for(let o=0;o<this.valueHex.byteLength;o++)r[o]=0;r[0]=t[0]&128;const n=of(r,8),s=new ArrayBuffer(this.valueHex.byteLength),i=new Uint8Array(s);for(let o=0;o<this.valueHex.byteLength;o++)i[o]=t[o];return i[0]&=127,of(i,8)-n}function Aoe(t){const e=t<0?t*-1:t;let r=128;for(let n=1;n<8;n++){if(e<=r){if(t<0){const a=r-e,o=no(a,8,n),l=new Uint8Array(o);return l[0]|=128,o}let s=no(e,8,n),i=new Uint8Array(s);if(i[0]&128){const a=s.slice(0),o=new Uint8Array(a);s=new ArrayBuffer(s.byteLength+1),i=new Uint8Array(s);for(let l=0;l<a.byteLength;l++)i[l+1]=o[l];i[0]=0}return s}r*=Math.pow(2,8)}return new ArrayBuffer(0)}function fp(t,e){if(t.byteLength!==e.byteLength)return!1;const r=new Uint8Array(t),n=new Uint8Array(e);for(let s=0;s<r.length;s++)if(r[s]!==n[s])return!1;return!0}function ws(t,e){const r=t.toString(10);if(e<r.length)return"";const n=e-r.length,s=new Array(n);for(let a=0;a<n;a++)s[a]="0";return s.join("").concat(r)}const I3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",T3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function ww(t,e=!1,r=!1,n=!1){let s=0,i=0,a=0,o="";const l=e?T3:I3;if(n){let u=0;for(let c=0;c<t.length;c++)if(t.charCodeAt(c)!==0){u=c;break}t=t.slice(u)}for(;s<t.length;){const u=t.charCodeAt(s++);s>=t.length&&(i=1);const c=t.charCodeAt(s++);s>=t.length&&(a=1);const f=t.charCodeAt(s++),h=u>>2,p=(u&3)<<4|c>>4;let d=(c&15)<<2|f>>6,m=f&63;i===1?d=m=64:a===1&&(m=64),r?d===64?o+=`${l.charAt(h)}${l.charAt(p)}`:m===64?o+=`${l.charAt(h)}${l.charAt(p)}${l.charAt(d)}`:o+=`${l.charAt(h)}${l.charAt(p)}${l.charAt(d)}${l.charAt(m)}`:o+=`${l.charAt(h)}${l.charAt(p)}${l.charAt(d)}${l.charAt(m)}`}return o}function Bv(t,e=!1,r=!1){const n=e?T3:I3;function s(l){for(let u=0;u<64;u++)if(n.charAt(u)===l)return u;return 64}function i(l){return l===64?0:l}let a=0,o="";for(;a<t.length;){const l=s(t.charAt(a++)),u=a>=t.length?0:s(t.charAt(a++)),c=a>=t.length?0:s(t.charAt(a++)),f=a>=t.length?0:s(t.charAt(a++)),h=i(l)<<2|i(u)>>4,p=(i(u)&15)<<4|i(c)>>2,d=(i(c)&3)<<6|i(f);o+=String.fromCharCode(h),c!==64&&(o+=String.fromCharCode(p)),f!==64&&(o+=String.fromCharCode(d))}if(r){const l=o.length;let u=-1;for(let c=l-1;c>=0;c--)if(o.charCodeAt(c)!==0){u=c;break}u!==-1?o=o.slice(0,u+1):o=""}return o}function _v(t){let e="";const r=new Uint8Array(t);for(const n of r)e+=String.fromCharCode(n);return e}function hp(t){const e=t.length,r=new ArrayBuffer(e),n=new Uint8Array(r);for(let s=0;s<e;s++)n[s]=t.charCodeAt(s);return r}const koe=Math.log(2);function Ioe(t){const e=Math.log(t)/koe,r=Math.floor(e),n=Math.round(e);return r===n?r:n}function ge(t,e){for(const r of e)delete t[r]}/*!
 * Copyright (c) 2014, GMO GlobalSign
 * Copyright (c) 2015-2022, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the copyright holder nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */function Cw(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function tT(t){let e=0,r=0;for(let s=0;s<t.length;s++){const i=t[s];e+=i.byteLength}const n=new Uint8Array(e);for(let s=0;s<t.length;s++){const i=t[s];n.set(new Uint8Array(i),r),r+=i.byteLength}return n.buffer}function uo(t,e,r,n){return e instanceof Uint8Array?e.byteLength?r<0?(t.error="Wrong parameter: inputOffset less than zero",!1):n<0?(t.error="Wrong parameter: inputLength less than zero",!1):e.byteLength-r-n<0?(t.error="End of input reached before message was fully decoded (inconsistent offset and length values)",!1):!0:(t.error="Wrong parameter: inputBuffer has zero length",!1):(t.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class rT{constructor(){this.items=[]}write(e){this.items.push(e)}final(){return tT(this.items)}}const u0=[new Uint8Array([1])],C_="0123456789",Ob="name",E_="valueHexView",Toe="isHexOnly",Noe="idBlock",Roe="tagClass",Boe="tagNumber",_oe="isConstructed",Poe="fromBER",Ooe="toBER",Loe="local",Xn="",Pi=new ArrayBuffer(0),SE=new Uint8Array(0),Pv="EndOfContent",N3="OCTET STRING",R3="BIT STRING";function co(t){var e;return e=class extends t{constructor(...n){var s;super(...n);const i=n[0]||{};this.isHexOnly=(s=i.isHexOnly)!==null&&s!==void 0?s:!1,this.valueHexView=i.valueHex?ze.toUint8Array(i.valueHex):SE}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(n){this.valueHexView=new Uint8Array(n)}fromBER(n,s,i){const a=n instanceof ArrayBuffer?new Uint8Array(n):n;if(!uo(this,a,s,i))return-1;const o=s+i;return this.valueHexView=a.subarray(s,o),this.valueHexView.length?(this.blockLength=i,o):(this.warnings.push("Zero buffer length"),s)}toBER(n=!1){return this.isHexOnly?n?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Pi)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:We.ToHex(this.valueHexView)}}},e.NAME="hexBlock",e}class mf{constructor({blockLength:e=0,error:r=Xn,warnings:n=[],valueBeforeDecode:s=SE}={}){this.blockLength=e,this.error=r,this.warnings=n,this.valueBeforeDecodeView=ze.toUint8Array(s)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(e){this.valueBeforeDecodeView=new Uint8Array(e)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:We.ToHex(this.valueBeforeDecodeView)}}}mf.NAME="baseBlock";class hs extends mf{fromBER(e,r,n){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(e,r){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}hs.NAME="valueBlock";class B3 extends co(mf){constructor({idBlock:e={}}={}){var r,n,s,i;super(),e?(this.isHexOnly=(r=e.isHexOnly)!==null&&r!==void 0?r:!1,this.valueHexView=e.valueHex?ze.toUint8Array(e.valueHex):SE,this.tagClass=(n=e.tagClass)!==null&&n!==void 0?n:-1,this.tagNumber=(s=e.tagNumber)!==null&&s!==void 0?s:-1,this.isConstructed=(i=e.isConstructed)!==null&&i!==void 0?i:!1):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(e=!1){let r=0;switch(this.tagClass){case 1:r|=0;break;case 2:r|=64;break;case 3:r|=128;break;case 4:r|=192;break;default:return this.error="Unknown tag class",Pi}if(this.isConstructed&&(r|=32),this.tagNumber<31&&!this.isHexOnly){const s=new Uint8Array(1);if(!e){let i=this.tagNumber;i&=31,r|=i,s[0]=r}return s.buffer}if(!this.isHexOnly){const s=no(this.tagNumber,7),i=new Uint8Array(s),a=s.byteLength,o=new Uint8Array(a+1);if(o[0]=r|31,!e){for(let l=0;l<a-1;l++)o[l+1]=i[l]|128;o[a]=i[a-1]}return o.buffer}const n=new Uint8Array(this.valueHexView.byteLength+1);if(n[0]=r|31,!e){const s=this.valueHexView;for(let i=0;i<s.length-1;i++)n[i+1]=s[i]|128;n[this.valueHexView.byteLength]=s[s.length-1]}return n.buffer}fromBER(e,r,n){const s=ze.toUint8Array(e);if(!uo(this,s,r,n))return-1;const i=s.subarray(r,r+n);if(i.length===0)return this.error="Zero buffer length",-1;switch(i[0]&192){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=(i[0]&32)===32,this.isHexOnly=!1;const o=i[0]&31;if(o!==31)this.tagNumber=o,this.blockLength=1;else{let l=1,u=this.valueHexView=new Uint8Array(255),c=255;for(;i[l]&128;){if(u[l-1]=i[l]&127,l++,l>=i.length)return this.error="End of input reached before message was fully decoded",-1;if(l===c){c+=255;const h=new Uint8Array(c);for(let p=0;p<u.length;p++)h[p]=u[p];u=this.valueHexView=new Uint8Array(c)}}this.blockLength=l+1,u[l-1]=i[l]&127;const f=new Uint8Array(l);for(let h=0;h<l;h++)f[h]=u[h];u=this.valueHexView=new Uint8Array(l),u.set(f),this.blockLength<=9?this.tagNumber=of(u,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(this.tagClass===1&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return r+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}B3.NAME="identificationBlock";class _3 extends mf{constructor({lenBlock:e={}}={}){var r,n,s;super(),this.isIndefiniteForm=(r=e.isIndefiniteForm)!==null&&r!==void 0?r:!1,this.longFormUsed=(n=e.longFormUsed)!==null&&n!==void 0?n:!1,this.length=(s=e.length)!==null&&s!==void 0?s:0}fromBER(e,r,n){const s=ze.toUint8Array(e);if(!uo(this,s,r,n))return-1;const i=s.subarray(r,r+n);if(i.length===0)return this.error="Zero buffer length",-1;if(i[0]===255)return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=i[0]===128,this.isIndefiniteForm)return this.blockLength=1,r+this.blockLength;if(this.longFormUsed=!!(i[0]&128),this.longFormUsed===!1)return this.length=i[0],this.blockLength=1,r+this.blockLength;const a=i[0]&127;if(a>8)return this.error="Too big integer",-1;if(a+1>i.length)return this.error="End of input reached before message was fully decoded",-1;const o=r+1,l=s.subarray(o,o+a);return l[a-1]===0&&this.warnings.push("Needlessly long encoded length"),this.length=of(l,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=a+1,r+this.blockLength}toBER(e=!1){let r,n;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=128),r;if(this.longFormUsed){const s=no(this.length,8);if(s.byteLength>127)return this.error="Too big length",Pi;if(r=new ArrayBuffer(s.byteLength+1),e)return r;const i=new Uint8Array(s);n=new Uint8Array(r),n[0]=s.byteLength|128;for(let a=0;a<s.byteLength;a++)n[a+1]=i[a];return r}return r=new ArrayBuffer(1),e===!1&&(n=new Uint8Array(r),n[0]=this.length),r}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}_3.NAME="lengthBlock";const Ve={};class Gn extends mf{constructor({name:e=Xn,optional:r=!1,primitiveSchema:n,...s}={},i){super(s),this.name=e,this.optional=r,n&&(this.primitiveSchema=n),this.idBlock=new B3(s),this.lenBlock=new _3(s),this.valueBlock=i?new i(s):new hs(s)}fromBER(e,r,n){const s=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return s===-1?(this.error=this.valueBlock.error,s):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}toBER(e,r){const n=r||new rT;r||P3(this);const s=this.idBlock.toBER(e);if(n.write(s),this.lenBlock.isIndefiniteForm)n.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(e,n),n.write(new ArrayBuffer(2));else{const i=this.valueBlock.toBER(e);this.lenBlock.length=i.byteLength;const a=this.lenBlock.toBER(e);n.write(a),n.write(i)}return r?Pi:n.final()}toJSON(){const e={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(e.primitiveSchema=this.primitiveSchema.toJSON()),e}toString(e="ascii"){return e==="ascii"?this.onAsciiEncoding():We.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${We.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(e){if(this===e)return!0;if(!(e instanceof this.constructor))return!1;const r=this.toBER(),n=e.toBER();return fp(r,n)}}Gn.NAME="BaseBlock";function P3(t){if(t instanceof Ve.Constructed)for(const e of t.valueBlock.value)P3(e)&&(t.lenBlock.isIndefiniteForm=!0);return!!t.lenBlock.isIndefiniteForm}class O3 extends Gn{constructor({value:e=Xn,...r}={},n){super(r,n),e&&this.fromString(e)}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}fromBER(e,r,n){const s=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return s===-1?(this.error=this.valueBlock.error,s):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}O3.NAME="BaseStringBlock";class L3 extends co(hs){constructor({isHexOnly:e=!0,...r}={}){super(r),this.isHexOnly=e}}L3.NAME="PrimitiveValueBlock";var V3;class qe extends Gn{constructor(e={}){super(e,L3),this.idBlock.isConstructed=!1}}V3=qe;Ve.Primitive=V3;qe.NAME="PRIMITIVE";function Voe(t,e){if(t instanceof e)return t;const r=new e;return r.idBlock=t.idBlock,r.lenBlock=t.lenBlock,r.warnings=t.warnings,r.valueBeforeDecodeView=t.valueBeforeDecodeView,r}function my(t,e=0,r=t.length){const n=e;let s=new Gn({},hs);const i=new mf;if(!uo(i,t,e,r))return s.error=i.error,{offset:-1,result:s};if(!t.subarray(e,e+r).length)return s.error="Zero buffer length",{offset:-1,result:s};let o=s.idBlock.fromBER(t,e,r);if(s.idBlock.warnings.length&&s.warnings.concat(s.idBlock.warnings),o===-1)return s.error=s.idBlock.error,{offset:-1,result:s};if(e=o,r-=s.idBlock.blockLength,o=s.lenBlock.fromBER(t,e,r),s.lenBlock.warnings.length&&s.warnings.concat(s.lenBlock.warnings),o===-1)return s.error=s.lenBlock.error,{offset:-1,result:s};if(e=o,r-=s.lenBlock.blockLength,!s.idBlock.isConstructed&&s.lenBlock.isIndefiniteForm)return s.error="Indefinite length form used for primitive encoding form",{offset:-1,result:s};let l=Gn;switch(s.idBlock.tagClass){case 1:if(s.idBlock.tagNumber>=37&&s.idBlock.isHexOnly===!1)return s.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:s};switch(s.idBlock.tagNumber){case 0:if(s.idBlock.isConstructed&&s.lenBlock.length>0)return s.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:s};l=Ve.EndOfContent;break;case 1:l=Ve.Boolean;break;case 2:l=Ve.Integer;break;case 3:l=Ve.BitString;break;case 4:l=Ve.OctetString;break;case 5:l=Ve.Null;break;case 6:l=Ve.ObjectIdentifier;break;case 10:l=Ve.Enumerated;break;case 12:l=Ve.Utf8String;break;case 13:l=Ve.RelativeObjectIdentifier;break;case 14:l=Ve.TIME;break;case 15:return s.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:s};case 16:l=Ve.Sequence;break;case 17:l=Ve.Set;break;case 18:l=Ve.NumericString;break;case 19:l=Ve.PrintableString;break;case 20:l=Ve.TeletexString;break;case 21:l=Ve.VideotexString;break;case 22:l=Ve.IA5String;break;case 23:l=Ve.UTCTime;break;case 24:l=Ve.GeneralizedTime;break;case 25:l=Ve.GraphicString;break;case 26:l=Ve.VisibleString;break;case 27:l=Ve.GeneralString;break;case 28:l=Ve.UniversalString;break;case 29:l=Ve.CharacterString;break;case 30:l=Ve.BmpString;break;case 31:l=Ve.DATE;break;case 32:l=Ve.TimeOfDay;break;case 33:l=Ve.DateTime;break;case 34:l=Ve.Duration;break;default:{const u=s.idBlock.isConstructed?new Ve.Constructed:new Ve.Primitive;u.idBlock=s.idBlock,u.lenBlock=s.lenBlock,u.warnings=s.warnings,s=u}}break;case 2:case 3:case 4:default:l=s.idBlock.isConstructed?Ve.Constructed:Ve.Primitive}return s=Voe(s,l),o=s.fromBER(t,e,s.lenBlock.isIndefiniteForm?r:s.lenBlock.length),s.valueBeforeDecodeView=t.subarray(n,n+s.blockLength),{offset:o,result:s}}function Ar(t){if(!t.byteLength){const e=new Gn({},hs);return e.error="Input buffer has zero length",{offset:-1,result:e}}return my(ze.toUint8Array(t).slice(),0,t.byteLength)}function Doe(t,e){return t?1:e}class $l extends hs{constructor({value:e=[],isIndefiniteForm:r=!1,...n}={}){super(n),this.value=e,this.isIndefiniteForm=r}fromBER(e,r,n){const s=ze.toUint8Array(e);if(!uo(this,s,r,n))return-1;if(this.valueBeforeDecodeView=s.subarray(r,r+n),this.valueBeforeDecodeView.length===0)return this.warnings.push("Zero buffer length"),r;let i=r;for(;Doe(this.isIndefiniteForm,n)>0;){const a=my(s,i,n);if(a.offset===-1)return this.error=a.result.error,this.warnings.concat(a.result.warnings),-1;if(i=a.offset,this.blockLength+=a.result.blockLength,n-=a.result.blockLength,this.value.push(a.result),this.isIndefiniteForm&&a.result.constructor.NAME===Pv)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===Pv?this.value.pop():this.warnings.push("No EndOfContent block encoded")),i}toBER(e,r){const n=r||new rT;for(let s=0;s<this.value.length;s++)this.value[s].toBER(e,n);return r?Pi:n.final()}toJSON(){const e={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const r of this.value)e.value.push(r.toJSON());return e}}$l.NAME="ConstructedValueBlock";var D3;class W extends Gn{constructor(e={}){super(e,$l),this.idBlock.isConstructed=!0}fromBER(e,r,n){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const s=this.valueBlock.fromBER(e,r,this.lenBlock.isIndefiniteForm?n:this.lenBlock.length);return s===-1?(this.error=this.valueBlock.error,s):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),s)}onAsciiEncoding(){const e=[];for(const n of this.valueBlock.value)e.push(n.toString("ascii").split(`
`).map(s=>`  ${s}`).join(`
`));const r=this.idBlock.tagClass===3?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return e.length?`${r} :
${e.join(`
`)}`:`${r} :`}}D3=W;Ve.Constructed=D3;W.NAME="CONSTRUCTED";class U3 extends hs{fromBER(e,r,n){return r}toBER(e){return Pi}}U3.override="EndOfContentValueBlock";var M3;class $3 extends Gn{constructor(e={}){super(e,U3),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}M3=$3;Ve.EndOfContent=M3;$3.NAME=Pv;var F3;class Pr extends Gn{constructor(e={}){super(e,hs),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(e,r,n){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=n,r+n>e.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):r+n}toBER(e,r){const n=new ArrayBuffer(2);if(!e){const s=new Uint8Array(n);s[0]=5,s[1]=0}return r&&r.write(n),n}onAsciiEncoding(){return`${this.constructor.NAME}`}}F3=Pr;Ve.Null=F3;Pr.NAME="NULL";class H3 extends co(hs){constructor({value:e,...r}={}){super(r),r.valueHex?this.valueHexView=ze.toUint8Array(r.valueHex):this.valueHexView=new Uint8Array(1),e&&(this.value=e)}get value(){for(const e of this.valueHexView)if(e>0)return!0;return!1}set value(e){this.valueHexView[0]=e?255:0}fromBER(e,r,n){const s=ze.toUint8Array(e);return uo(this,s,r,n)?(this.valueHexView=s.subarray(r,r+n),n>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,k3.call(this),this.blockLength=n,r+n):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}H3.NAME="BooleanValueBlock";var K3;let fa=class extends Gn{constructor(e={}){super(e,H3),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(e){this.valueBlock.value=e}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}};K3=fa;Ve.Boolean=K3;fa.NAME="BOOLEAN";class j3 extends co($l){constructor({isConstructed:e=!1,...r}={}){super(r),this.isConstructed=e}fromBER(e,r,n){let s=0;if(this.isConstructed){if(this.isHexOnly=!1,s=$l.prototype.fromBER.call(this,e,r,n),s===-1)return s;for(let i=0;i<this.value.length;i++){const a=this.value[i].constructor.NAME;if(a===Pv){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(a!==N3)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,s=super.fromBER(e,r,n),this.blockLength=n;return s}toBER(e,r){return this.isConstructed?$l.prototype.toBER.call(this,e,r):e?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}j3.NAME="OctetStringValueBlock";var z3;class Ce extends Gn{constructor({idBlock:e={},lenBlock:r={},...n}={}){var s,i;(s=n.isConstructed)!==null&&s!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},j3),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(e,r,n){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,n===0)return this.idBlock.error.length===0&&(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length===0&&(this.blockLength+=this.lenBlock.blockLength),r;if(!this.valueBlock.isConstructed){const i=(e instanceof ArrayBuffer?new Uint8Array(e):e).subarray(r,r+n);try{if(i.byteLength){const a=my(i,0,i.byteLength);a.offset!==-1&&a.offset===n&&(this.valueBlock.value=[a.result])}}catch{}}return super.fromBER(e,r,n)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?W.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${We.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const e=[];for(const r of this.valueBlock.value)r instanceof Ce&&e.push(r.valueBlock.valueHexView);return ze.concat(e)}}z3=Ce;Ve.OctetString=z3;Ce.NAME=N3;class W3 extends co($l){constructor({unusedBits:e=0,isConstructed:r=!1,...n}={}){super(n),this.unusedBits=e,this.isConstructed=r,this.blockLength=this.valueHexView.byteLength}fromBER(e,r,n){if(!n)return r;let s=-1;if(this.isConstructed){if(s=$l.prototype.fromBER.call(this,e,r,n),s===-1)return s;for(const o of this.value){const l=o.constructor.NAME;if(l===Pv){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(l!==R3)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const u=o.valueBlock;if(this.unusedBits>0&&u.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=u.unusedBits}return s}const i=ze.toUint8Array(e);if(!uo(this,i,r,n))return-1;const a=i.subarray(r,r+n);if(this.unusedBits=a[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const o=a.subarray(1);try{if(o.byteLength){const l=my(o,0,o.byteLength);l.offset!==-1&&l.offset===n-1&&(this.value=[l.result])}}catch{}}return this.valueHexView=a.subarray(1),this.blockLength=a.length,r+n}toBER(e,r){if(this.isConstructed)return $l.prototype.toBER.call(this,e,r);if(e)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return Pi;const n=new Uint8Array(this.valueHexView.length+1);return n[0]=this.unusedBits,n.set(this.valueHexView,1),n.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}W3.NAME="BitStringValueBlock";var G3;class dt extends Gn{constructor({idBlock:e={},lenBlock:r={},...n}={}){var s,i;(s=n.isConstructed)!==null&&s!==void 0||(n.isConstructed=!!(!((i=n.value)===null||i===void 0)&&i.length)),super({idBlock:{isConstructed:n.isConstructed,...e},lenBlock:{...r,isIndefiniteForm:!!n.isIndefiniteForm},...n},W3),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(e,r,n){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(e,r,n)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return W.prototype.onAsciiEncoding.call(this);{const e=[],r=this.valueBlock.valueHexView;for(const s of r)e.push(s.toString(2).padStart(8,"0"));const n=e.join("");return`${this.constructor.NAME} : ${n.substring(0,n.length-this.valueBlock.unusedBits)}`}}}G3=dt;Ve.BitString=G3;dt.NAME=R3;var q3;function Uoe(t,e){const r=new Uint8Array([0]),n=new Uint8Array(t),s=new Uint8Array(e);let i=n.slice(0);const a=i.length-1,o=s.slice(0),l=o.length-1;let u=0;const c=l<a?a:l;let f=0;for(let h=c;h>=0;h--,f++){switch(!0){case f<o.length:u=i[a-f]+o[l-f]+r[0];break;default:u=i[a-f]+r[0]}switch(r[0]=u/10,!0){case f>=i.length:i=ak(new Uint8Array([u%10]),i);break;default:i[a-f]=u%10}}return r[0]>0&&(i=ak(r,i)),i}function b_(t){if(t>=u0.length)for(let e=u0.length;e<=t;e++){const r=new Uint8Array([0]);let n=u0[e-1].slice(0);for(let s=n.length-1;s>=0;s--){const i=new Uint8Array([(n[s]<<1)+r[0]]);r[0]=i[0]/10,n[s]=i[0]%10}r[0]>0&&(n=ak(r,n)),u0.push(n)}return u0[t]}function Moe(t,e){let r=0;const n=new Uint8Array(t),s=new Uint8Array(e),i=n.slice(0),a=i.length-1,o=s.slice(0),l=o.length-1;let u,c=0;for(let f=l;f>=0;f--,c++)switch(u=i[a-c]-o[l-c]-r,!0){case u<0:r=1,i[a-c]=u+10;break;default:r=0,i[a-c]=u}if(r>0)for(let f=a-l+1;f>=0;f--,c++)if(u=i[a-c]-r,u<0)r=1,i[a-c]=u+10;else{r=0,i[a-c]=u;break}return i.slice()}class nT extends co(hs){constructor({value:e,...r}={}){super(r),this._valueDec=0,r.valueHex&&this.setValueHex(),e!==void 0&&(this.valueDec=e)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=k3.call(this)))}set valueDec(e){this._valueDec=e,this.isHexOnly=!1,this.valueHexView=new Uint8Array(Aoe(e))}get valueDec(){return this._valueDec}fromDER(e,r,n,s=0){const i=this.fromBER(e,r,n);if(i===-1)return i;const a=this.valueHexView;return a[0]===0&&a[1]&128?this.valueHexView=a.subarray(1):s!==0&&a.length<s&&(s-a.length>1&&(s=a.length+1),this.valueHexView=a.subarray(s-a.length)),i}toDER(e=!1){const r=this.valueHexView;switch(!0){case(r[0]&128)!==0:{const n=new Uint8Array(this.valueHexView.length+1);n[0]=0,n.set(r,1),this.valueHexView=n}break;case(r[0]===0&&(r[1]&128)===0):this.valueHexView=this.valueHexView.subarray(1);break}return this.toBER(e)}fromBER(e,r,n){const s=super.fromBER(e,r,n);return s===-1||this.setValueHex(),s}toBER(e){return e?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const e=this.valueHexView.length*8-1;let r=new Uint8Array(this.valueHexView.length*8/3),n=0,s;const i=this.valueHexView;let a="",o=!1;for(let l=i.byteLength-1;l>=0;l--){s=i[l];for(let u=0;u<8;u++){if((s&1)===1)switch(n){case e:r=Moe(b_(n),r),a="-";break;default:r=Uoe(r,b_(n))}n++,s>>=1}}for(let l=0;l<r.length;l++)r[l]&&(o=!0),o&&(a+=C_.charAt(r[l]));return o===!1&&(a+=C_.charAt(0)),a}}q3=nT;nT.NAME="IntegerValueBlock";Object.defineProperty(q3.prototype,"valueHex",{set:function(t){this.valueHexView=new Uint8Array(t),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});var J3;class se extends Gn{constructor(e={}){super(e,nT),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Cw(),BigInt(this.valueBlock.toString())}static fromBigInt(e){Cw();const r=BigInt(e),n=new rT,s=r.toString(16).replace(/^-/,""),i=new Uint8Array(We.FromHex(s));if(r<0){const o=new Uint8Array(i.length+(i[0]&128?1:0));o[0]|=128;const u=BigInt(`0x${We.ToHex(o)}`)+r,c=ze.toUint8Array(We.FromHex(u.toString(16)));c[0]|=128,n.write(c)}else i[0]&128&&n.write(new Uint8Array([0])),n.write(i);return new se({valueHex:n.final()})}convertToDER(){const e=new se({valueHex:this.valueBlock.valueHexView});return e.valueBlock.toDER(),e}convertFromDER(){return new se({valueHex:this.valueBlock.valueHexView[0]===0?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}J3=se;Ve.Integer=J3;se.NAME="INTEGER";var Y3;class lf extends se{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Y3=lf;Ve.Enumerated=Y3;lf.NAME="ENUMERATED";class ok extends co(hs){constructor({valueDec:e=-1,isFirstSid:r=!1,...n}={}){super(n),this.valueDec=e,this.isFirstSid=r}fromBER(e,r,n){if(!n)return r;const s=ze.toUint8Array(e);if(!uo(this,s,r,n))return-1;const i=s.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let o=0;o<n&&(this.valueHexView[o]=i[o]&127,this.blockLength++,!!(i[o]&128));o++);const a=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength;o++)a[o]=this.valueHexView[o];return this.valueHexView=a,i[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=of(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}set valueBigInt(e){Cw();let r=BigInt(e).toString(2);for(;r.length%7;)r="0"+r;const n=new Uint8Array(r.length/7);for(let s=0;s<n.length;s++)n[s]=parseInt(r.slice(s*7,s*7+7),2)+(s+1<n.length?128:0);this.fromBER(n.buffer,0,n.length)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const s=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=s[a]|128;return i[this.blockLength-1]=s[this.blockLength-1],i.buffer}const r=no(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",Pi;const n=new Uint8Array(r.byteLength);if(!e){const s=new Uint8Array(r),i=r.byteLength-1;for(let a=0;a<i;a++)n[a]=s[a]|128;n[i]=s[i]}return n}toString(){let e="";if(this.isHexOnly)e=We.ToHex(this.valueHexView);else if(this.isFirstSid){let r=this.valueDec;this.valueDec<=39?e="0.":this.valueDec<=79?(e="1.",r-=40):(e="2.",r-=80),e+=r.toString()}else e=this.valueDec.toString();return e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}ok.NAME="sidBlock";class Q3 extends hs{constructor({value:e=Xn,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let s=r;for(;n>0;){const i=new ok;if(s=i.fromBER(e,s,n),s===-1)return this.blockLength=0,this.error=i.error,s;this.value.length===0&&(i.isFirstSid=!0),this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return s}toBER(e){const r=[];for(let n=0;n<this.value.length;n++){const s=this.value[n].toBER(e);if(s.byteLength===0)return this.error=this.value[n].error,Pi;r.push(s)}return tT(r)}fromString(e){this.value=[];let r=0,n=0,s="",i=!1;do if(n=e.indexOf(".",r),n===-1?s=e.substring(r):s=e.substring(r,n),r=n+1,i){const a=this.value[0];let o=0;switch(a.valueDec){case 0:break;case 1:o=40;break;case 2:o=80;break;default:this.value=[];return}const l=parseInt(s,10);if(isNaN(l))return;a.valueDec=l+o,i=!1}else{const a=new ok;if(s>Number.MAX_SAFE_INTEGER){Cw();const o=BigInt(s);a.valueBigInt=o}else if(a.valueDec=parseInt(s,10),isNaN(a.valueDec))return;this.value.length||(a.isFirstSid=!0,i=!0),this.value.push(a)}while(n!==-1)}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let s=this.value[n].toString();n!==0&&(e=`${e}.`),r?(s=`{${s}}`,this.value[n].isFirstSid?e=`2.{${s} - 80}`:e+=s):e+=s}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}}Q3.NAME="ObjectIdentifierValueBlock";var X3;class Oe extends Gn{constructor(e={}){super(e,Q3),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}X3=Oe;Ve.ObjectIdentifier=X3;Oe.NAME="OBJECT IDENTIFIER";class lk extends co(mf){constructor({valueDec:e=0,...r}={}){super(r),this.valueDec=e}fromBER(e,r,n){if(n===0)return r;const s=ze.toUint8Array(e);if(!uo(this,s,r,n))return-1;const i=s.subarray(r,r+n);this.valueHexView=new Uint8Array(n);for(let o=0;o<n&&(this.valueHexView[o]=i[o]&127,this.blockLength++,!!(i[o]&128));o++);const a=new Uint8Array(this.blockLength);for(let o=0;o<this.blockLength;o++)a[o]=this.valueHexView[o];return this.valueHexView=a,i[this.blockLength-1]&128?(this.error="End of input reached before message was fully decoded",-1):(this.valueHexView[0]===0&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=of(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),r+this.blockLength)}toBER(e){if(this.isHexOnly){if(e)return new ArrayBuffer(this.valueHexView.byteLength);const s=this.valueHexView,i=new Uint8Array(this.blockLength);for(let a=0;a<this.blockLength-1;a++)i[a]=s[a]|128;return i[this.blockLength-1]=s[this.blockLength-1],i.buffer}const r=no(this.valueDec,7);if(r.byteLength===0)return this.error="Error during encoding SID value",Pi;const n=new Uint8Array(r.byteLength);if(!e){const s=new Uint8Array(r),i=r.byteLength-1;for(let a=0;a<i;a++)n[a]=s[a]|128;n[i]=s[i]}return n.buffer}toString(){let e="";return this.isHexOnly?e=We.ToHex(this.valueHexView):e=this.valueDec.toString(),e}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}lk.NAME="relativeSidBlock";class Z3 extends hs{constructor({value:e=Xn,...r}={}){super(r),this.value=[],e&&this.fromString(e)}fromBER(e,r,n){let s=r;for(;n>0;){const i=new lk;if(s=i.fromBER(e,s,n),s===-1)return this.blockLength=0,this.error=i.error,s;this.blockLength+=i.blockLength,n-=i.blockLength,this.value.push(i)}return s}toBER(e,r){const n=[];for(let s=0;s<this.value.length;s++){const i=this.value[s].toBER(e);if(i.byteLength===0)return this.error=this.value[s].error,Pi;n.push(i)}return tT(n)}fromString(e){this.value=[];let r=0,n=0,s="";do{n=e.indexOf(".",r),n===-1?s=e.substring(r):s=e.substring(r,n),r=n+1;const i=new lk;if(i.valueDec=parseInt(s,10),isNaN(i.valueDec))return!0;this.value.push(i)}while(n!==-1);return!0}toString(){let e="",r=!1;for(let n=0;n<this.value.length;n++){r=this.value[n].isHexOnly;let s=this.value[n].toString();n!==0&&(e=`${e}.`),r&&(s=`{${s}}`),e+=s}return e}toJSON(){const e={...super.toJSON(),value:this.toString(),sidArray:[]};for(let r=0;r<this.value.length;r++)e.sidArray.push(this.value[r].toJSON());return e}}Z3.NAME="RelativeObjectIdentifierValueBlock";var e5;class t5 extends Gn{constructor(e={}){super(e,Z3),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(e){this.valueBlock.fromString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}e5=t5;Ve.RelativeObjectIdentifier=e5;t5.NAME="RelativeObjectIdentifier";var r5;class _ extends W{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}r5=_;Ve.Sequence=r5;_.NAME="SEQUENCE";var n5;let Or=class extends W{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}};n5=Or;Ve.Set=n5;Or.NAME="SET";class s5 extends co(hs){constructor({...e}={}){super(e),this.isHexOnly=!0,this.value=Xn}toJSON(){return{...super.toJSON(),value:this.value}}}s5.NAME="StringValueBlock";class i5 extends s5{}i5.NAME="SimpleStringValueBlock";class Ls extends O3{constructor({...e}={}){super(e,i5)}fromBuffer(e){this.valueBlock.value=String.fromCharCode.apply(null,ze.toUint8Array(e))}fromString(e){const r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=e.charCodeAt(s);this.valueBlock.value=e}}Ls.NAME="SIMPLE STRING";class a5 extends Ls{fromBuffer(e){this.valueBlock.valueHexView=ze.toUint8Array(e);try{this.valueBlock.value=We.ToUtf8String(e)}catch(r){this.warnings.push(`Error during "decodeURIComponent": ${r}, using raw string`),this.valueBlock.value=We.ToBinary(e)}}fromString(e){this.valueBlock.valueHexView=new Uint8Array(We.FromUtf8String(e)),this.valueBlock.value=e}}a5.NAME="Utf8StringValueBlock";var o5;class _i extends a5{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}o5=_i;Ve.Utf8String=o5;_i.NAME="UTF8String";class l5 extends Ls{fromBuffer(e){this.valueBlock.value=We.ToUtf16String(e),this.valueBlock.valueHexView=ze.toUint8Array(e)}fromString(e){this.valueBlock.value=e,this.valueBlock.valueHexView=new Uint8Array(We.FromUtf16String(e))}}l5.NAME="BmpStringValueBlock";var u5;class Ov extends l5{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}u5=Ov;Ve.BmpString=u5;Ov.NAME="BMPString";class c5 extends Ls{fromBuffer(e){const r=ArrayBuffer.isView(e)?e.slice().buffer:e.slice(0),n=new Uint8Array(r);for(let s=0;s<n.length;s+=4)n[s]=n[s+3],n[s+1]=n[s+2],n[s+2]=0,n[s+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(r))}fromString(e){const r=e.length,n=this.valueBlock.valueHexView=new Uint8Array(r*4);for(let s=0;s<r;s++){const i=no(e.charCodeAt(s),8),a=new Uint8Array(i);if(a.length>4)continue;const o=4-a.length;for(let l=a.length-1;l>=0;l--)n[s*4+l+o]=a[l]}this.valueBlock.value=e}}c5.NAME="UniversalStringValueBlock";var f5;class Lv extends c5{constructor({...e}={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}f5=Lv;Ve.UniversalString=f5;Lv.NAME="UniversalString";var h5;class Vd extends Ls{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}h5=Vd;Ve.NumericString=h5;Vd.NAME="NumericString";var d5;class ki extends Ls{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}d5=ki;Ve.PrintableString=d5;ki.NAME="PrintableString";var p5;class Vv extends Ls{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}p5=Vv;Ve.TeletexString=p5;Vv.NAME="TeletexString";var m5;class sT extends Ls{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}m5=sT;Ve.VideotexString=m5;sT.NAME="VideotexString";var g5;class wE extends Ls{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}g5=wE;Ve.IA5String=g5;wE.NAME="IA5String";var v5;class iT extends Ls{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}v5=iT;Ve.GraphicString=v5;iT.NAME="GraphicString";var y5;class CE extends Ls{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}y5=CE;Ve.VisibleString=y5;CE.NAME="VisibleString";var S5;class aT extends Ls{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}S5=aT;Ve.GeneralString=S5;aT.NAME="GeneralString";var w5;class oT extends Ls{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}w5=oT;Ve.CharacterString=w5;oT.NAME="CharacterString";var C5;class dp extends CE{constructor({value:e,valueDate:r,...n}={}){if(super(n),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,e){this.fromString(e),this.valueBlock.valueHexView=new Uint8Array(e.length);for(let s=0;s<e.length;s++)this.valueBlock.valueHexView[s]=e.charCodeAt(s)}r&&(this.fromDate(r),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(e){this.fromString(String.fromCharCode.apply(null,ze.toUint8Array(e)))}toBuffer(){const e=this.toString(),r=new ArrayBuffer(e.length),n=new Uint8Array(r);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return r}fromDate(e){this.year=e.getUTCFullYear(),this.month=e.getUTCMonth()+1,this.day=e.getUTCDate(),this.hour=e.getUTCHours(),this.minute=e.getUTCMinutes(),this.second=e.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(e){const n=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/ig.exec(e);if(n===null){this.error="Wrong input string for conversion";return}const s=parseInt(n[1],10);s>=50?this.year=1900+s:this.year=2e3+s,this.month=parseInt(n[2],10),this.day=parseInt(n[3],10),this.hour=parseInt(n[4],10),this.minute=parseInt(n[5],10),this.second=parseInt(n[6],10)}toString(e="iso"){if(e==="iso"){const r=new Array(7);return r[0]=ws(this.year<2e3?this.year-1900:this.year-2e3,2),r[1]=ws(this.month,2),r[2]=ws(this.day,2),r[3]=ws(this.hour,2),r[4]=ws(this.minute,2),r[5]=ws(this.second,2),r[6]="Z",r.join("")}return super.toString(e)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}C5=dp;Ve.UTCTime=C5;dp.NAME="UTCTime";var E5;class fr extends dp{constructor(e={}){var r;super(e),(r=this.millisecond)!==null&&r!==void 0||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(e){super.fromDate(e),this.millisecond=e.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(e){let r=!1,n="",s="",i=0,a,o=0,l=0;if(e[e.length-1]==="Z")n=e.substring(0,e.length-1),r=!0;else{const f=new Number(e[e.length-1]);if(isNaN(f.valueOf()))throw new Error("Wrong input string for conversion");n=e}if(r){if(n.indexOf("+")!==-1)throw new Error("Wrong input string for conversion");if(n.indexOf("-")!==-1)throw new Error("Wrong input string for conversion")}else{let f=1,h=n.indexOf("+"),p="";if(h===-1&&(h=n.indexOf("-"),f=-1),h!==-1){if(p=n.substring(h+1),n=n.substring(0,h),p.length!==2&&p.length!==4)throw new Error("Wrong input string for conversion");let d=parseInt(p.substring(0,2),10);if(isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");if(o=f*d,p.length===4){if(d=parseInt(p.substring(2,4),10),isNaN(d.valueOf()))throw new Error("Wrong input string for conversion");l=f*d}}}let u=n.indexOf(".");if(u===-1&&(u=n.indexOf(",")),u!==-1){const f=new Number(`0${n.substring(u)}`);if(isNaN(f.valueOf()))throw new Error("Wrong input string for conversion");i=f.valueOf(),s=n.substring(0,u)}else s=n;switch(!0){case s.length===8:if(a=/(\d{4})(\d{2})(\d{2})/ig,u!==-1)throw new Error("Wrong input string for conversion");break;case s.length===10:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})/ig,u!==-1){let f=60*i;this.minute=Math.floor(f),f=60*(f-this.minute),this.second=Math.floor(f),f=1e3*(f-this.second),this.millisecond=Math.floor(f)}break;case s.length===12:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/ig,u!==-1){let f=60*i;this.second=Math.floor(f),f=1e3*(f-this.second),this.millisecond=Math.floor(f)}break;case s.length===14:if(a=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/ig,u!==-1){const f=1e3*i;this.millisecond=Math.floor(f)}break;default:throw new Error("Wrong input string for conversion")}const c=a.exec(s);if(c===null)throw new Error("Wrong input string for conversion");for(let f=1;f<c.length;f++)switch(f){case 1:this.year=parseInt(c[f],10);break;case 2:this.month=parseInt(c[f],10);break;case 3:this.day=parseInt(c[f],10);break;case 4:this.hour=parseInt(c[f],10)+o;break;case 5:this.minute=parseInt(c[f],10)+l;break;case 6:this.second=parseInt(c[f],10);break;default:throw new Error("Wrong input string for conversion")}if(r===!1){const f=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=f.getUTCFullYear(),this.month=f.getUTCMonth(),this.day=f.getUTCDay(),this.hour=f.getUTCHours(),this.minute=f.getUTCMinutes(),this.second=f.getUTCSeconds(),this.millisecond=f.getUTCMilliseconds()}}toString(e="iso"){if(e==="iso"){const r=[];return r.push(ws(this.year,4)),r.push(ws(this.month,2)),r.push(ws(this.day,2)),r.push(ws(this.hour,2)),r.push(ws(this.minute,2)),r.push(ws(this.second,2)),this.millisecond!==0&&(r.push("."),r.push(ws(this.millisecond,3))),r.push("Z"),r.join("")}return super.toString(e)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}E5=fr;Ve.GeneralizedTime=E5;fr.NAME="GeneralizedTime";var b5;let x5=class extends _i{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}};b5=x5;Ve.DATE=b5;x5.NAME="DATE";var A5;class k5 extends _i{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}A5=k5;Ve.TimeOfDay=A5;k5.NAME="TimeOfDay";var I5;class T5 extends _i{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}I5=T5;Ve.DateTime=I5;T5.NAME="DateTime";var N5;class R5 extends _i{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}N5=R5;Ve.Duration=N5;R5.NAME="Duration";var B5;class _5 extends _i{constructor(e={}){super(e),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}B5=_5;Ve.TIME=B5;_5.NAME="TIME";class Ye{constructor({name:e=Xn,optional:r=!1}={}){this.name=e,this.optional=r}}class dr extends Ye{constructor({value:e=[],...r}={}){super(r),this.value=e}}class rt extends Ye{constructor({value:e=new Ye,local:r=!1,...n}={}){super(n),this.value=e,this.local=r}}class Ew{constructor({data:e=SE}={}){this.dataView=ze.toUint8Array(e)}get data(){return this.dataView.slice().buffer}set data(e){this.dataView=ze.toUint8Array(e)}fromBER(e,r,n){const s=r+n;return this.dataView=ze.toUint8Array(e).subarray(r,s),s}toBER(e){return this.dataView.slice().buffer}}function pe(t,e,r){if(r instanceof dr){for(let i=0;i<r.value.length;i++)if(pe(t,e,r.value[i]).verified)return{verified:!0,result:t};{const i={verified:!1,result:{error:"Wrong values for Choice type"}};return r.hasOwnProperty(Ob)&&(i.name=r.name),i}}if(r instanceof Ye)return r.hasOwnProperty(Ob)&&(t[r.name]=e),{verified:!0,result:t};if(!(t instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(e instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(r instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(Noe in r))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(Poe in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!(Ooe in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const n=r.idBlock.toBER(!1);if(n.byteLength===0)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(r.idBlock.fromBER(n,0,n.byteLength)===-1)return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(r.idBlock.hasOwnProperty(Roe)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagClass!==e.idBlock.tagClass)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(Boe)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.tagNumber!==e.idBlock.tagNumber)return{verified:!1,result:t};if(r.idBlock.hasOwnProperty(_oe)===!1)return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isConstructed!==e.idBlock.isConstructed)return{verified:!1,result:t};if(!(Toe in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(r.idBlock.isHexOnly!==e.idBlock.isHexOnly)return{verified:!1,result:t};if(r.idBlock.isHexOnly){if(!(E_ in r.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const i=r.idBlock.valueHexView,a=e.idBlock.valueHexView;if(i.length!==a.length)return{verified:!1,result:t};for(let o=0;o<i.length;o++)if(i[o]!==a[1])return{verified:!1,result:t}}if(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Xn),r.name&&(t[r.name]=e)),r instanceof Ve.Constructed){let i=0,a={verified:!1,result:{error:"Unknown error"}},o=r.valueBlock.value.length;if(o>0&&r.valueBlock.value[0]instanceof rt&&(o=e.valueBlock.value.length),o===0)return{verified:!0,result:t};if(e.valueBlock.value.length===0&&r.valueBlock.value.length!==0){let l=!0;for(let u=0;u<r.valueBlock.value.length;u++)l=l&&(r.valueBlock.value[u].optional||!1);return l?{verified:!0,result:t}:(r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Xn),r.name&&delete t[r.name]),t.error="Inconsistent object length",{verified:!1,result:t})}for(let l=0;l<o;l++)if(l-i>=e.valueBlock.value.length){if(r.valueBlock.value[l].optional===!1){const u={verified:!1,result:t};return t.error="Inconsistent length between ASN.1 data and schema",r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Xn),r.name&&(delete t[r.name],u.name=r.name)),u}}else if(r.valueBlock.value[0]instanceof rt){if(a=pe(t,e.valueBlock.value[l],r.valueBlock.value[0].value),a.verified===!1)if(r.valueBlock.value[0].optional)i++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Xn),r.name&&delete t[r.name]),a;if(Ob in r.valueBlock.value[0]&&r.valueBlock.value[0].name.length>0){let u={};Loe in r.valueBlock.value[0]&&r.valueBlock.value[0].local?u=e:u=t,typeof u[r.valueBlock.value[0].name]>"u"&&(u[r.valueBlock.value[0].name]=[]),u[r.valueBlock.value[0].name].push(e.valueBlock.value[l])}}else if(a=pe(t,e.valueBlock.value[l-i],r.valueBlock.value[l]),a.verified===!1)if(r.valueBlock.value[l].optional)i++;else return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Xn),r.name&&delete t[r.name]),a;if(a.verified===!1){const l={verified:!1,result:t};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Xn),r.name&&(delete t[r.name],l.name=r.name)),l}return{verified:!0,result:t}}if(r.primitiveSchema&&E_ in e.valueBlock){const i=my(e.valueBlock.valueHexView);if(i.offset===-1){const a={verified:!1,result:i.result};return r.name&&(r.name=r.name.replace(/^\s+|\s+$/g,Xn),r.name&&(delete t[r.name],a.name=r.name)),a}return pe(t,i.result,r.primitiveSchema)}return{verified:!0,result:t}}class vr{constructor(e={}){if("view"in e)this.fromUint8Array(e.view);else if("buffer"in e)this.fromArrayBuffer(e.buffer);else if("string"in e)this.fromString(e.string);else if("hexstring"in e)this.fromHexString(e.hexstring);else if("length"in e&&e.length>0){if(this.length=e.length,e.stub)for(let r=0;r<this._view.length;r++)this._view[r]=e.stub}else this.length=0}set buffer(e){this._buffer=e,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(e){this._buffer=new ArrayBuffer(e.length),this._view=new Uint8Array(this._buffer),this._view.set(e)}get view(){return this._view}get length(){return this.view.byteLength}set length(e){this._buffer=new ArrayBuffer(e),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(e){this._buffer=e,this._view=new Uint8Array(this._buffer)}fromUint8Array(e){this.fromArrayBuffer(new Uint8Array(e).buffer)}fromString(e){const r=e.length;this.length=r;for(let n=0;n<r;n++)this.view[n]=e.charCodeAt(n)}toString(e=0,r=this.view.length-e){let n="";(e>=this.view.length||e<0)&&(e=0),(r>=this.view.length||r<0)&&(r=this.view.length-e);for(let s=e;s<e+r;s++)n+=String.fromCharCode(this.view[s]);return n}fromHexString(e){const r=e.length;this.buffer=new ArrayBuffer(r>>1),this.view=new Uint8Array(this.buffer);const n=new Map;n.set("0",0),n.set("1",1),n.set("2",2),n.set("3",3),n.set("4",4),n.set("5",5),n.set("6",6),n.set("7",7),n.set("8",8),n.set("9",9),n.set("A",10),n.set("a",10),n.set("B",11),n.set("b",11),n.set("C",12),n.set("c",12),n.set("D",13),n.set("d",13),n.set("E",14),n.set("e",14),n.set("F",15),n.set("f",15);let s=0,i=0;for(let a=0;a<r;a++)a%2?(i|=n.get(e.charAt(a)),this.view[s]=i,s++):i=n.get(e.charAt(a))<<4}toHexString(e=0,r=this.view.length-e){let n="";(e>=this.view.length||e<0)&&(e=0),(r>=this.view.length||r<0)&&(r=this.view.length-e);for(let s=e;s<e+r;s++){const i=this.view[s].toString(16).toUpperCase();n=n+(i.length==1?"0":"")+i}return n}copy(e=0,r=this.length-e){if(!e&&!this.length)return new vr;if(e<0||e>this.length-1)throw new Error(`Wrong start position: ${e}`);return new vr({buffer:this._buffer.slice(e,e+r)})}slice(e=0,r=this.length){if(!e&&!this.length)return new vr;if(e<0||e>this.length-1)throw new Error(`Wrong start position: ${e}`);return new vr({buffer:this._buffer.slice(e,r)})}realloc(e){const r=new ArrayBuffer(e),n=new Uint8Array(r);e>this._view.length?n.set(this._view):n.set(new Uint8Array(this._buffer,0,e)),this._buffer=r,this._view=new Uint8Array(this._buffer)}append(e){const r=this.length,n=e.length,s=e._view.subarray();this.realloc(r+n),this._view.set(s,r)}insert(e,r=0,n=this.length-r){return r>this.length-1?!1:(n>this.length-r&&(n=this.length-r),n>e.length&&(n=e.length),n==e.length?this._view.set(e._view,r):this._view.set(e._view.subarray(0,n),r),!0)}isEqual(e){if(this.length!=e.length)return!1;for(let r=0;r<e.length;r++)if(this.view[r]!=e.view[r])return!1;return!0}isEqualView(e){if(e.length!=this.view.length)return!1;for(let r=0;r<e.length;r++)if(this.view[r]!=e[r])return!1;return!0}findPattern(e,r,n,s){const{start:i,length:a,backward:o}=this.prepareFindParameters(r,n,s),l=e.length;if(l>a)return-1;const u=[];for(let c=0;c<l;c++)u.push(e.view[c]);for(let c=0;c<=a-l;c++){let f=!0;const h=o?i-l-c:i+c;for(let p=0;p<l;p++)if(this.view[p+h]!=u[p]){f=!1;break}if(f)return o?i-l-c:i+l+c}return-1}findFirstIn(e,r,n,s){const{start:i,length:a,backward:o}=this.prepareFindParameters(r,n,s),l={id:-1,position:o?0:i+a,length:0};for(let u=0;u<e.length;u++){const c=this.findPattern(e[u],i,a,o);if(c!=-1){let f=!1;const h=e[u].length;o?c-h>=l.position-l.length&&(f=!0):c-h<=l.position-l.length&&(f=!0),f&&(l.position=c,l.id=u,l.length=h)}}return l}findAllIn(e,r,n){let{start:s,length:i}=this.prepareFindParameters(r,n);const a=[];let o={id:-1,position:s};do{const l=o.position;if(o=this.findFirstIn(e,o.position,i),o.id==-1)break;i-=o.position-l,a.push({id:o.id,position:o.position})}while(!0);return a}findAllPatternIn(e,r,n){const{start:s,length:i}=this.prepareFindParameters(r,n),a=[],o=e.length;if(o>i)return-1;const l=Array.from(e.view);for(let u=0;u<=i-o;u++){let c=!0;const f=s+u;for(let h=0;h<o;h++)if(this.view[h+f]!=l[h]){c=!1;break}c&&(a.push(s+o+u),u+=o-1)}return a}findFirstNotIn(e,r,n,s){let{start:i,length:a,backward:o}=this.prepareFindParameters(r,n,s);const l={left:{id:-1,position:i},right:{id:-1,position:0},value:new vr};let u=a;for(;u>0;){if(l.right=this.findFirstIn(e,o?i-a+u:i+a-u,u,o),l.right.id==-1){a=u,o?i-=a:i=l.left.position,l.value=new vr({buffer:this._buffer.slice(i,i+a)});break}if(l.right.position!=(o?l.left.position-e[l.right.id].length:l.left.position+e[l.right.id].length)){o?(i=l.right.position+e[l.right.id].length,a=l.left.position-l.right.position-e[l.right.id].length):(i=l.left.position,a=l.right.position-l.left.position-e[l.right.id].length),l.value=new vr({buffer:this._buffer.slice(i,i+a)});break}l.left=l.right,u-=e[l.right.id].length}if(o){const c=l.right;l.right=l.left,l.left=c}return l}findAllNotIn(e,r,n){let{start:s,length:i}=this.prepareFindParameters(r,n);const a=[];let o={left:{id:-1,position:s},right:{id:-1,position:s},value:new vr};do{const l=o.right.position;o=this.findFirstNotIn(e,o.right.position,i),i-=o.right.position-l,a.push({left:{id:o.left.id,position:o.left.position},right:{id:o.right.id,position:o.right.position},value:o.value})}while(o.right.id!=-1);return a}findFirstSequence(e,r,n,s){let{start:i,length:a,backward:o}=this.prepareFindParameters(r,n,s);const l=this.skipNotPatterns(e,i,a,o);if(l==-1)return{position:-1,value:new vr};const u=this.skipPatterns(e,l,a-(o?i-l:l-i),o);o?(i=u,a=l-u):(i=l,a=u-l);const c=new vr({buffer:this._buffer.slice(i,i+a)});return{position:u,value:c}}findAllSequences(e,r,n){let{start:s,length:i}=this.prepareFindParameters(r,n);const a=[];let o={position:s,value:new vr};do{const l=o.position;o=this.findFirstSequence(e,o.position,i),o.position!=-1&&(i-=o.position-l,a.push({position:o.position,value:o.value}))}while(o.position!=-1);return a}findPairedPatterns(e,r,n,s){const i=[];if(e.isEqual(r))return i;const{start:a,length:o}=this.prepareFindParameters(n,s);let l=0;const u=this.findAllPatternIn(e,a,o);if(!Array.isArray(u)||u.length==0)return i;const c=this.findAllPatternIn(r,a,o);if(!Array.isArray(c)||c.length==0)return i;for(;l<u.length&&c.length!=0;){if(u[0]==c[0]){i.push({left:u[0],right:c[0]}),u.splice(0,1),c.splice(0,1);continue}if(u[l]>c[0])break;for(;u[l]<c[0]&&(l++,!(l>=u.length)););i.push({left:u[l-1],right:c[0]}),u.splice(l-1,1),c.splice(0,1),l=0}return i.sort((f,h)=>f.left-h.left),i}findPairedArrays(e,r,n,s){const{start:i,length:a}=this.prepareFindParameters(n,s),o=[];let l=0;const u=this.findAllIn(e,i,a);if(u.length==0)return o;const c=this.findAllIn(r,i,a);if(c.length==0)return o;for(;l<u.length&&c.length!=0;){if(u[0].position==c[0].position){o.push({left:u[0],right:c[0]}),u.splice(0,1),c.splice(0,1);continue}if(u[l].position>c[0].position)break;for(;u[l].position<c[0].position&&(l++,!(l>=u.length)););o.push({left:u[l-1],right:c[0]}),u.splice(l-1,1),c.splice(0,1),l=0}return o.sort((f,h)=>f.left.position-h.left.position),o}replacePattern(e,r,n,s,i=null){let a=[],o;const l={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:u,length:c}=this.prepareFindParameters(n,s);if(i==null){if(a=this.findAllIn([e],u,c),a.length==0)return l}else a=i;l.searchPatternPositions.push(...Array.from(a,d=>d.position));const f=e.length-r.length,h=new ArrayBuffer(this.view.length-a.length*f),p=new Uint8Array(h);for(p.set(new Uint8Array(this.buffer,0,u)),o=0;o<a.length;o++){const d=o==0?u:a[o-1].position;p.set(new Uint8Array(this.buffer,d,a[o].position-e.length-d),d-o*f),p.set(r.view,a[o].position-e.length-o*f),l.replacePatternPositions.push(a[o].position-e.length-o*f)}return o--,p.set(new Uint8Array(this.buffer,a[o].position,this.length-a[o].position),a[o].position-e.length+r.length-o*f),this.buffer=h,this.view=new Uint8Array(this.buffer),l.status=1,l}skipPatterns(e,r,n,s){const{start:i,length:a,backward:o}=this.prepareFindParameters(r,n,s);let l=i;for(let u=0;u<e.length;u++){const c=e[u].length,f=o?l-c:l;let h=!0;for(let p=0;p<c;p++)if(this.view[p+f]!=e[u].view[p]){h=!1;break}if(h){if(u=-1,o){if(l-=c,l<=0)return l}else if(l+=c,l>=i+a)return l}}return l}skipNotPatterns(e,r,n,s){const{start:i,length:a,backward:o}=this.prepareFindParameters(r,n,s);let l=-1;for(let u=0;u<a;u++){for(let c=0;c<e.length;c++){const f=e[c].length,h=o?i-u-f:i+u;let p=!0;for(let d=0;d<f;d++)if(this.view[d+h]!=e[c].view[d]){p=!1;break}if(p){l=o?i-u:i+u;break}}if(l!=-1)break}return l}prepareFindParameters(e=null,r=null,n=!1){return e===null&&(e=n?this.length:0),e>this.length&&(e=this.length),n?(r===null&&(r=e),r>e&&(r=e)):(r===null&&(r=this.length-e),r>this.length-e&&(r=this.length-e)),{start:e,length:r,backward:n}}}const $oe=16777216;class Fl{constructor(e={}){this._stream=new vr,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,"view"in e?this.stream=new vr({view:e.view}):"buffer"in e?this.stream=new vr({buffer:e.buffer}):"string"in e?this.stream=new vr({string:e.string}):"hexstring"in e?this.stream=new vr({hexstring:e.hexstring}):"stream"in e?this.stream=e.stream.slice():this.stream=new vr,"backward"in e&&e.backward&&(this.backward=e.backward,this._start=this.stream.length),"length"in e&&e.length>0&&(this._length=e.length),"start"in e&&e.start&&e.start>0&&(this._start=e.start),"appendBlock"in e&&e.appendBlock&&e.appendBlock>0&&(this.appendBlock=e.appendBlock)}set stream(e){this._stream=e,this.prevLength=this._length,this._length=e.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(e){this.prevLength=this._length,this._length=e}get length(){return this.appendBlock?this.start:this._length}set start(e){e>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-e:e-this._start,this._start=e)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(e,r=null){(r==null||r>this.length)&&(r=this.length);const n=this.stream.findPattern(e,this.start,this.length,this.backward);if(n==-1)return n;if(this.backward){if(n<this.start-e.length-r)return-1}else if(n>this.start+e.length+r)return-1;return this.start=n,n}findFirstIn(e,r=null){(r==null||r>this.length)&&(r=this.length);const n=this.stream.findFirstIn(e,this.start,this.length,this.backward);if(n.id==-1)return n;if(this.backward){if(n.position<this.start-e[n.id].length-r)return{id:-1,position:this.backward?0:this.start+this.length}}else if(n.position>this.start+e[n.id].length+r)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=n.position,n}findAllIn(e){const r=this.backward?this.start-this.length:this.start;return this.stream.findAllIn(e,r,this.length)}findFirstNotIn(e,r=null){(r==null||r>this._length)&&(r=this._length);const n=this._stream.findFirstNotIn(e,this._start,this._length,this.backward);if(n.left.id==-1&&n.right.id==-1)return n;if(this.backward){if(n.right.id!=-1&&n.right.position<this._start-e[n.right.id].length-r)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new vr}}else if(n.left.id!=-1&&n.left.position>this._start+e[n.left.id].length+r)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new vr};return this.backward?n.left.id==-1?this.start=0:this.start=n.left.position:n.right.id==-1?this.start=this._start+this._length:this.start=n.right.position,n}findAllNotIn(e){const r=this.backward?this._start-this._length:this._start;return this._stream.findAllNotIn(e,r,this._length)}findFirstSequence(e,r=null,n=null){(r==null||r>this._length)&&(r=this._length),(n==null||n>r)&&(n=r);const s=this._stream.findFirstSequence(e,this._start,r,this.backward);if(s.value.length==0)return s;if(this.backward){if(s.position<this._start-s.value.length-n)return{position:-1,value:new vr}}else if(s.position>this._start+s.value.length+n)return{position:-1,value:new vr};return this.start=s.position,s}findAllSequences(e){const r=this.backward?this.start-this.length:this.start;return this.stream.findAllSequences(e,r,this.length)}findPairedPatterns(e,r,n=null){(n==null||n>this.length)&&(n=this.length);const s=this.backward?this.start-this.length:this.start,i=this.stream.findPairedPatterns(e,r,s,this.length);if(i.length){if(this.backward){if(i[0].right<this.start-r.length-n)return[]}else if(i[0].left>this.start+e.length+n)return[]}return i}findPairedArrays(e,r,n=null){(n==null||n>this.length)&&(n=this.length);const s=this.backward?this.start-this.length:this.start,i=this.stream.findPairedArrays(e,r,s,this.length);if(i.length){if(this.backward){if(i[0].right.position<this.start-r[i[0].right.id].length-n)return[]}else if(i[0].left.position>this.start+e[i[0].left.id].length+n)return[]}return i}replacePattern(e,r){const n=this.backward?this.start-this.length:this.start;return this.stream.replacePattern(e,r,n,this.length)}skipPatterns(e){const r=this.stream.skipPatterns(e,this.start,this.length,this.backward);return this.start=r,r}skipNotPatterns(e){const r=this.stream.skipNotPatterns(e,this.start,this.length,this.backward);return r==-1?-1:(this.start=r,r)}append(e){this.beforeAppend(e.length),this._stream.view.set(e.view,this._start),this._length+=e.length*2,this.start=this._start+e.length,this.prevLength-=e.length*2}appendView(e){this.beforeAppend(e.length),this._stream.view.set(e,this._start),this._length+=e.length*2,this.start=this._start+e.length,this.prevLength-=e.length*2}appendChar(e){this.beforeAppend(1),this._stream.view[this._start]=e,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(e){this.beforeAppend(2);const r=new Uint16Array([e]),n=new Uint8Array(r.buffer);this.stream.view[this._start]=n[1],this._stream.view[this._start+1]=n[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(e){this.beforeAppend(3);const r=new Uint32Array([e]),n=new Uint8Array(r.buffer);this._stream.view[this._start]=n[2],this._stream.view[this._start+1]=n[1],this._stream.view[this._start+2]=n[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(e){this.beforeAppend(4);const r=new Uint32Array([e]),n=new Uint8Array(r.buffer);this._stream.view[this._start]=n[3],this._stream.view[this._start+1]=n[2],this._stream.view[this._start+2]=n[1],this._stream.view[this._start+3]=n[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(e){this.beforeAppend(2);const r=new Int16Array([e]),n=new Uint8Array(r.buffer);this._stream.view[this._start]=n[1],this._stream.view[this._start+1]=n[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(e){this.beforeAppend(4);const r=new Int32Array([e]),n=new Uint8Array(r.buffer);this._stream.view[this._start]=n[3],this._stream.view[this._start+1]=n[2],this._stream.view[this._start+2]=n[1],this._stream.view[this._start+3]=n[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(e,r=!0){if(this._length<=0)return new Uint8Array(0);this._length<e&&(e=this._length);let n;if(this.backward){const s=this._stream.view.subarray(this._length-e,this._length);n=new Uint8Array(e);for(let i=0;i<e;i++)n[e-1-i]=s[i]}else n=this._stream.view.subarray(this._start,this._start+e);return r&&(this.start+=this.backward?-1*e:e),n}getUint16(e=!0){const r=this.getBlock(2,e);return r.length<2?0:r[0]<<8|r[1]}getInt16(e=!0){const r=this.getUint16(e),n=32768;return r&n?-(n-(r^n)):r}getUint24(e=!0){const r=this.getBlock(4,e);return r.length<3?0:r[0]<<16|r[1]<<8|r[2]}getUint32(e=!0){const r=this.getBlock(4,e);return r.length<4?0:r[0]*$oe+(r[1]<<16)+(r[2]<<8)+r[3]}getInt32(e=!0){const r=this.getUint32(e),n=2147483648;return r&n?-(n-(r^n)):r}beforeAppend(e){this._start+e>this._stream.length&&(e>this.appendBlock&&(this.appendBlock=e+Fl.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}Fl.APPEND_BLOCK=1e3;/*!
 * Copyright (c) 2014, GlobalSign
 * Copyright (c) 2015-2019, Peculiar Ventures
 * All rights reserved.
 * 
 * Author 2014-2019, Yury Strozhevsky
 * 
 * Redistribution and use in source and binary forms, with or without modification,
 * are permitted provided that the following conditions are met:
 * 
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 * 
 * * Redistributions in binary form must reproduce the above copyright notice, this
 *   list of conditions and the following disclaimer in the documentation and/or
 *   other materials provided with the distribution.
 * 
 * * Neither the name of the {organization} nor the names of its
 *   contributors may be used to endorse or promote products derived from
 *   this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR
 * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 */const Hr=new ArrayBuffer(0),A="";class Ht extends TypeError{constructor(){super(...arguments),this.name=Ht.NAME}static isType(e,r){if(typeof r=="string"){if(r==="Array"&&Array.isArray(e))return!0;if(r==="ArrayBuffer"&&e instanceof ArrayBuffer)return!0;if(r==="ArrayBufferView"&&ArrayBuffer.isView(e))return!0;if(typeof e===r)return!0}else if(e instanceof r)return!0;return!1}static assert(e,r,...n){for(const i of n)if(this.isType(e,i))return;const s=n.map(i=>i instanceof Function&&"name"in i?i.name:`${i}`);throw new Ht(`Parameter '${r}' is not of type ${s.length>1?`(${s.join(" or ")})`:s[0]}`)}}Ht.NAME="ArgumentError";class vt extends TypeError{constructor(e,r=null,n){super(),this.name=vt.NAME,this.field=e,r&&(this.target=r),n?this.message=n:this.message=`Absent mandatory parameter '${e}' ${r?` in '${r}'`:A}`}static assert(...e){let r=null,n,s;typeof e[0]=="string"?(r=e[0],n=e[1],s=e.slice(2)):(n=e[0],s=e.slice(1)),Ht.assert(n,"parameters","object");for(const i of s){const a=n[i];if(a==null)throw new vt(i,r)}}static assertEmpty(e,r,n){if(e==null)throw new vt(r,n)}}vt.NAME="ParameterError";class le extends Error{static assertSchema(e,r){if(!e.verified)throw new Error(`Object's schema was not verified against input data for ${r}`)}static assert(e,r){if(e.offset===-1)throw new le(`Error during parsing of ASN.1 data. Data is not correct for '${r}'.`)}constructor(e){super(e),this.name="AsnError"}}class de{static blockName(){return this.CLASS_NAME}static fromBER(e){const r=Ar(e);le.assert(r,this.name);try{return new this({schema:r.result})}catch{throw new le(`Cannot create '${this.CLASS_NAME}' from ASN.1 object`)}}static defaultValues(e){throw new Error(`Invalid member name for ${this.CLASS_NAME} class: ${e}`)}static schema(e={}){throw new Error(`Method '${this.CLASS_NAME}.schema' should be overridden`)}get className(){return this.constructor.CLASS_NAME}toString(e="hex"){let r;try{r=this.toSchema()}catch{r=this.toSchema(!0)}return We.ToString(r.toBER(),e)}}de.CLASS_NAME="PkiObject";function ul(t){let e=!1,r=A;const n=t.trim();for(let s=0;s<n.length;s++)n.charCodeAt(s)===32?e===!1&&(e=!0):(e&&(r+=" ",e=!1),r+=n[s]);return r.toLowerCase()}const c0="type",Lb="value";class xl extends de{constructor(e={}){super(),this.type=w(e,c0,xl.defaultValues(c0)),this.value=w(e,Lb,xl.defaultValues(Lb)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case c0:return A;case Lb:return{};default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.type||A}),new Ye({name:r.value||A})]})}fromSchema(e){ge(e,[c0,"typeValue"]);const r=pe(e,e,xl.schema({names:{type:c0,value:"typeValue"}}));le.assertSchema(r,this.className),this.type=r.result.type.valueBlock.toString(),this.value=r.result.typeValue}toSchema(){return new _({value:[new Oe({value:this.type}),this.value]})}toJSON(){const e={type:this.type};return Object.keys(this.value).length!==0?e.value=this.value.toJSON():e.value=this.value,e}isEqual(e){const r=[_i.blockName(),Ov.blockName(),Lv.blockName(),Vd.blockName(),ki.blockName(),Vv.blockName(),sT.blockName(),wE.blockName(),iT.blockName(),CE.blockName(),aT.blockName(),oT.blockName()];if(e instanceof ArrayBuffer)return ze.isEqual(this.value.valueBeforeDecodeView,e);if(e.constructor.blockName()===xl.blockName()){if(this.type!==e.type)return!1;const n=[!1,!1],s=this.value.constructor.blockName();for(const a of r)s===a&&(n[0]=!0),e.value.constructor.blockName()===a&&(n[1]=!0);if(n[0]!==n[1])return!1;if(n[0]&&n[1]){const a=ul(this.value.valueBlock.value),o=ul(e.value.valueBlock.value);if(a.localeCompare(o)!==0)return!1}else if(!ze.isEqual(this.value.valueBeforeDecodeView,e.value.valueBeforeDecodeView))return!1;return!0}return!1}}xl.CLASS_NAME="AttributeTypeAndValue";const ou="typesAndValues",Xy="valueBeforeDecode",x_="RDN";class Kt extends de{constructor(e={}){super(),this.typesAndValues=w(e,ou,Kt.defaultValues(ou)),this.valueBeforeDecode=w(e,Xy,Kt.defaultValues(Xy)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ou:return[];case Xy:return Hr;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case ou:return r.length===0;case Xy:return r.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.repeatedSequence||A,value:new Or({value:[new rt({name:r.repeatedSet||A,value:xl.schema(r.typeAndValue||{})})]})})]})}fromSchema(e){ge(e,[x_,ou]);const r=pe(e,e,Kt.schema({names:{blockName:x_,repeatedSet:ou}}));le.assertSchema(r,this.className),ou in r.result&&(this.typesAndValues=Array.from(r.result.typesAndValues,n=>new xl({schema:n}))),this.valueBeforeDecode=r.result.RDN.valueBeforeDecodeView.slice().buffer}toSchema(){if(this.valueBeforeDecode.byteLength===0)return new _({value:[new Or({value:Array.from(this.typesAndValues,r=>r.toSchema())})]});const e=Ar(this.valueBeforeDecode);if(le.assert(e,"RelativeDistinguishedNames"),!(e.result instanceof _))throw new Error("ASN.1 result should be SEQUENCE");return e.result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,e=>e.toJSON())}}isEqual(e){if(e instanceof Kt){if(this.typesAndValues.length!==e.typesAndValues.length)return!1;for(const[r,n]of this.typesAndValues.entries())if(n.isEqual(e.typesAndValues[r])===!1)return!1;return!0}return e instanceof ArrayBuffer?fp(this.valueBeforeDecode,e):!1}}Kt.CLASS_NAME="RelativeDistinguishedNames";const L0="type",V0="value";function Foe(t={},e=!1){const r=w(t,"names",{});return new _({optional:e,value:[new W({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:r.country_name||A,value:[new dr({value:[new Vd,new ki]})]}),new W({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:r.administration_domain_name||A,value:[new dr({value:[new Vd,new ki]})]}),new qe({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:r.network_address||A,isHexOnly:!0}),new qe({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:r.terminal_identifier||A,isHexOnly:!0}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:r.private_domain_name||A,value:[new dr({value:[new Vd,new ki]})]}),new qe({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:r.organization_name||A,isHexOnly:!0}),new qe({optional:!0,name:r.numeric_user_identifier||A,idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new W({optional:!0,name:r.personal_name||A,idBlock:{tagClass:3,tagNumber:5},value:[new qe({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new qe({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new qe({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new qe({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new W({optional:!0,name:r.organizational_unit_names||A,idBlock:{tagClass:3,tagNumber:6},value:[new rt({value:new ki})]})]})}function Hoe(t=!1){return new _({optional:t,value:[new ki,new ki]})}function Koe(t=!1){return new Or({optional:t,value:[new qe({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ye]})]})}class Tt extends de{constructor(e={}){super(),this.type=w(e,L0,Tt.defaultValues(L0)),this.value=w(e,V0,Tt.defaultValues(V0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case L0:return 9;case V0:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case L0:return r===Tt.defaultValues(e);case V0:return Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new dr({value:[new W({idBlock:{tagClass:3,tagNumber:0},name:r.blockName||A,value:[new Oe,new W({idBlock:{tagClass:3,tagNumber:0},value:[new Ye]})]}),new qe({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:1}}),new qe({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:2}}),new W({idBlock:{tagClass:3,tagNumber:3},name:r.blockName||A,value:[Foe(r.builtInStandardAttributes||{},!1),Hoe(!0),Koe(!0)]}),new W({idBlock:{tagClass:3,tagNumber:4},name:r.blockName||A,value:[Kt.schema(r.directoryName||{})]}),new W({idBlock:{tagClass:3,tagNumber:5},name:r.blockName||A,value:[new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dr({value:[new Vv,new ki,new Lv,new _i,new Ov]})]}),new W({idBlock:{tagClass:3,tagNumber:1},value:[new dr({value:[new Vv,new ki,new Lv,new _i,new Ov]})]})]}),new qe({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:6}}),new qe({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:7}}),new qe({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(e){ge(e,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const r=pe(e,e,Tt.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));switch(le.assertSchema(r,this.className),this.type=r.result.blockName.idBlock.tagNumber,this.type){case 0:this.value=r.result.blockName;break;case 1:case 2:case 6:{const n=r.result.blockName;n.idBlock.tagClass=1,n.idBlock.tagNumber=22;const s=n.toBER(!1),i=Ar(s);le.assert(i,"GeneralName value"),this.value=i.result.valueBlock.value}break;case 3:this.value=r.result.blockName;break;case 4:this.value=new Kt({schema:r.result.directoryName});break;case 5:this.value=r.result.ediPartyName;break;case 7:this.value=new Ce({valueHex:r.result.blockName.valueBlock.valueHex});break;case 8:{const n=r.result.blockName;n.idBlock.tagClass=1,n.idBlock.tagNumber=6;const s=n.toBER(!1),i=Ar(s);le.assert(i,"GeneralName registeredID"),this.value=i.result.valueBlock.toString()}break}}toSchema(){switch(this.type){case 0:case 3:case 5:return new W({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const e=new wE({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 4:return new W({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const e=this.value;return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}case 8:{const e=new Oe({value:this.value});return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.type,e}default:return Tt.schema()}}toJSON(){const e={type:this.type,value:A};if(typeof this.value=="string")e.value=this.value;else try{e.value=this.value.toJSON()}catch{}return e}}Tt.CLASS_NAME="GeneralName";const D0="accessMethod",U0="accessLocation",joe=[D0,U0];class Uc extends de{constructor(e={}){super(),this.accessMethod=w(e,D0,Uc.defaultValues(D0)),this.accessLocation=w(e,U0,Uc.defaultValues(U0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case D0:return A;case U0:return new Tt;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.accessMethod||A}),Tt.schema(r.accessLocation||{})]})}fromSchema(e){ge(e,joe);const r=pe(e,e,Uc.schema({names:{accessMethod:D0,accessLocation:{names:{blockName:U0}}}}));le.assertSchema(r,this.className),this.accessMethod=r.result.accessMethod.valueBlock.toString(),this.accessLocation=new Tt({schema:r.result.accessLocation})}toSchema(){return new _({value:[new Oe({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}Uc.CLASS_NAME="AccessDescription";const Eo="seconds",bo="millis",xo="micros";class Cs extends de{constructor(e={}){super(),Eo in e&&(this.seconds=w(e,Eo,Cs.defaultValues(Eo))),bo in e&&(this.millis=w(e,bo,Cs.defaultValues(bo))),xo in e&&(this.micros=w(e,xo,Cs.defaultValues(xo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Eo:case bo:case xo:return 0;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Eo:case bo:case xo:return r===Cs.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,optional:!0,value:[new se({optional:!0,name:r.seconds||A}),new qe({name:r.millis||A,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new qe({name:r.micros||A,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){ge(e,[Eo,bo,xo]);const r=pe(e,e,Cs.schema({names:{seconds:Eo,millis:bo,micros:xo}}));if(le.assertSchema(r,this.className),"seconds"in r.result&&(this.seconds=r.result.seconds.valueBlock.valueDec),"millis"in r.result){const n=new se({valueHex:r.result.millis.valueBlock.valueHex});this.millis=n.valueBlock.valueDec}if("micros"in r.result){const n=new se({valueHex:r.result.micros.valueBlock.valueHex});this.micros=n.valueBlock.valueDec}}toSchema(){const e=[];if(this.seconds!==void 0&&e.push(new se({value:this.seconds})),this.millis!==void 0){const r=new se({value:this.millis});e.push(new qe({idBlock:{tagClass:3,tagNumber:0},valueHex:r.valueBlock.valueHexView}))}if(this.micros!==void 0){const r=new se({value:this.micros});e.push(new qe({idBlock:{tagClass:3,tagNumber:1},valueHex:r.valueBlock.valueHexView}))}return new _({value:e})}toJSON(){const e={};return this.seconds!==void 0&&(e.seconds=this.seconds),this.millis!==void 0&&(e.millis=this.millis),this.micros!==void 0&&(e.micros=this.micros),e}}Cs.CLASS_NAME="Accuracy";const Zy="algorithmId",f0="algorithmParams",P5="algorithm",uk="params",zoe=[P5,uk];class ae extends de{constructor(e={}){super(),this.algorithmId=w(e,Zy,ae.defaultValues(Zy)),f0 in e&&(this.algorithmParams=w(e,f0,ae.defaultValues(f0))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Zy:return A;case f0:return new Ye;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Zy:return r===A;case f0:return r instanceof Ye;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,optional:r.optional||!1,value:[new Oe({name:r.algorithmIdentifier||A}),new Ye({name:r.algorithmParams||A,optional:!0})]})}fromSchema(e){ge(e,zoe);const r=pe(e,e,ae.schema({names:{algorithmIdentifier:P5,algorithmParams:uk}}));le.assertSchema(r,this.className),this.algorithmId=r.result.algorithm.valueBlock.toString(),uk in r.result&&(this.algorithmParams=r.result.params)}toSchema(){const e=[];return e.push(new Oe({value:this.algorithmId})),this.algorithmParams&&!(this.algorithmParams instanceof Ye)&&e.push(this.algorithmParams),new _({value:e})}toJSON(){const e={algorithmId:this.algorithmId};return this.algorithmParams&&!(this.algorithmParams instanceof Ye)&&(e.algorithmParams=this.algorithmParams.toJSON()),e}isEqual(e){return!(e instanceof ae)||this.algorithmId!==e.algorithmId?!1:this.algorithmParams?e.algorithmParams?JSON.stringify(this.algorithmParams)===JSON.stringify(e.algorithmParams):!1:!e.algorithmParams}}ae.CLASS_NAME="AlgorithmIdentifier";const Ff="altNames",Woe=[Ff];class pp extends de{constructor(e={}){super(),this.altNames=w(e,Ff,pp.defaultValues(Ff)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ff:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.altNames||A,value:Tt.schema()})]})}fromSchema(e){ge(e,Woe);const r=pe(e,e,pp.schema({names:{altNames:Ff}}));le.assertSchema(r,this.className),Ff in r.result&&(this.altNames=Array.from(r.result.altNames,n=>new Tt({schema:n})))}toSchema(){return new _({value:Array.from(this.altNames,e=>e.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,e=>e.toJSON())}}}pp.CLASS_NAME="AltName";const Hf="type",Kf="values",Goe=[Hf,Kf];class ir extends de{constructor(e={}){super(),this.type=w(e,Hf,ir.defaultValues(Hf)),this.values=w(e,Kf,ir.defaultValues(Kf)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Hf:return A;case Kf:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Hf:return r===A;case Kf:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.type||A}),new Or({name:r.setName||A,value:[new rt({name:r.values||A,value:new Ye})]})]})}fromSchema(e){ge(e,Goe);const r=pe(e,e,ir.schema({names:{type:Hf,values:Kf}}));le.assertSchema(r,this.className),this.type=r.result.type.valueBlock.toString(),this.values=r.result.values}toSchema(){return new _({value:[new Oe({value:this.type}),new Or({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,e=>e.toJSON())}}}ir.CLASS_NAME="Attribute";const M0="notBeforeTime",$0="notAfterTime",qoe=[M0,$0];class Ni extends de{constructor(e={}){super(),this.notBeforeTime=w(e,M0,Ni.defaultValues(M0)),this.notAfterTime=w(e,$0,Ni.defaultValues($0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case M0:case $0:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new fr({name:r.notBeforeTime||A}),new fr({name:r.notAfterTime||A})]})}fromSchema(e){ge(e,qoe);const r=pe(e,e,Ni.schema({names:{notBeforeTime:M0,notAfterTime:$0}}));le.assertSchema(r,this.className),this.notBeforeTime=r.result.notBeforeTime.toDate(),this.notAfterTime=r.result.notAfterTime.toDate()}toSchema(){return new _({value:[new fr({valueDate:this.notBeforeTime}),new fr({valueDate:this.notAfterTime})]})}toJSON(){return{notBeforeTime:this.notBeforeTime,notAfterTime:this.notAfterTime}}}Ni.CLASS_NAME="AttCertValidityPeriod";const h0="names",A_="generalNames";class qr extends de{constructor(e={}){super(),this.names=w(e,h0,qr.defaultValues(h0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case"names":return[];default:return super.defaultValues(e)}}static schema(e={},r=!1){const n=w(e,h0,{});return new _({optional:r,name:n.blockName||A,value:[new rt({name:n.generalNames||A,value:Tt.schema()})]})}fromSchema(e){ge(e,[h0,A_]);const r=pe(e,e,qr.schema({names:{blockName:h0,generalNames:A_}}));le.assertSchema(r,this.className),this.names=Array.from(r.result.generalNames,n=>new Tt({schema:n}))}toSchema(){return new _({value:Array.from(this.names,e=>e.toSchema())})}toJSON(){return{names:Array.from(this.names,e=>e.toJSON())}}}qr.CLASS_NAME="GeneralNames";const Joe="2.5.29.9",Yoe="2.5.29.14",Qoe="2.5.29.15",Xoe="2.5.29.16",O5="2.5.29.17",L5="2.5.29.18",lT="2.5.29.19",Zoe="2.5.29.20",ele="2.5.29.27",tle="2.5.29.21",rle="2.5.29.24",V5="2.5.29.28",D5="2.5.29.29",U5="2.5.29.30",M5="2.5.29.31",uT="2.5.29.46",$5="2.5.29.32",Ds="2.5.29.32.0",nle="1.3.6.1.4.1.311.21.10",F5="2.5.29.33",cT="2.5.29.35",H5="2.5.29.36",sle="2.5.29.37",ile="2.5.29.54",fT="1.3.6.1.5.5.7.1.1",ale="1.3.6.1.5.5.7.1.11",ole="1.3.6.1.4.1.11129.2.4.2",lle="1.3.6.1.4.1.311.21.7",ule="1.3.6.1.4.1.311.21.1",cle="1.3.6.1.5.5.7.1.3",hT="1.2.840.113549.1.7.1",K5="1.2.840.113549.1.7.2",j5="1.2.840.113549.1.7.3",z5="1.2.840.113549.1.7.6",fle="1.2.840.113549.1.9.16.1.4",k_="1.2.840.113549.1.9.22.1",hle="1.2.840.113549.1.9.22.2",I_="1.2.840.113549.1.9.22.3",T_="1.2.840.113549.1.9.23.1",dle="1.3.6.1.5.5.7",ple=`${dle}.48`,G1=`${ple}.1.1`,mu="keyIdentifier",gu="authorityCertIssuer",vu="authorityCertSerialNumber",mle=[mu,gu,vu];class Al extends de{constructor(e={}){super(),mu in e&&(this.keyIdentifier=w(e,mu,Al.defaultValues(mu))),gu in e&&(this.authorityCertIssuer=w(e,gu,Al.defaultValues(gu))),vu in e&&(this.authorityCertSerialNumber=w(e,vu,Al.defaultValues(vu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case mu:return new Ce;case gu:return[];case vu:return new se;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new qe({name:r.keyIdentifier||A,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new rt({name:r.authorityCertIssuer||A,value:Tt.schema()})]}),new qe({name:r.authorityCertSerialNumber||A,optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(e){ge(e,mle);const r=pe(e,e,Al.schema({names:{keyIdentifier:mu,authorityCertIssuer:gu,authorityCertSerialNumber:vu}}));le.assertSchema(r,this.className),mu in r.result&&(this.keyIdentifier=new Ce({valueHex:r.result.keyIdentifier.valueBlock.valueHex})),gu in r.result&&(this.authorityCertIssuer=Array.from(r.result.authorityCertIssuer,n=>new Tt({schema:n}))),vu in r.result&&(this.authorityCertSerialNumber=new se({valueHex:r.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const e=[];return this.keyIdentifier&&e.push(new qe({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHexView})),this.authorityCertIssuer&&e.push(new W({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,r=>r.toSchema())})),this.authorityCertSerialNumber&&e.push(new qe({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHexView})),new _({value:e})}toJSON(){const e={};return this.keyIdentifier&&(e.keyIdentifier=this.keyIdentifier.toJSON()),this.authorityCertIssuer&&(e.authorityCertIssuer=Array.from(this.authorityCertIssuer,r=>r.toJSON())),this.authorityCertSerialNumber&&(e.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),e}}Al.CLASS_NAME="AuthorityKeyIdentifier";const lu="pathLenConstraint",uu="cA";class Mc extends de{constructor(e={}){super(),this.cA=w(e,uu,!1),lu in e&&(this.pathLenConstraint=w(e,lu,0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case uu:return!1;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new fa({optional:!0,name:r.cA||A}),new se({optional:!0,name:r.pathLenConstraint||A})]})}fromSchema(e){ge(e,[uu,lu]);const r=pe(e,e,Mc.schema({names:{cA:uu,pathLenConstraint:lu}}));le.assertSchema(r,this.className),uu in r.result&&(this.cA=r.result.cA.valueBlock.value),lu in r.result&&(r.result.pathLenConstraint.valueBlock.isHexOnly?this.pathLenConstraint=r.result.pathLenConstraint:this.pathLenConstraint=r.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const e=[];return this.cA!==Mc.defaultValues(uu)&&e.push(new fa({value:this.cA})),lu in this&&(this.pathLenConstraint instanceof se?e.push(this.pathLenConstraint):e.push(new se({value:this.pathLenConstraint}))),new _({value:e})}toJSON(){const e={};return this.cA!==Mc.defaultValues(uu)&&(e.cA=this.cA),lu in this&&(this.pathLenConstraint instanceof se?e.pathLenConstraint=this.pathLenConstraint.toJSON():e.pathLenConstraint=this.pathLenConstraint),e}}Mc.CLASS_NAME="BasicConstraints";const Vb="certificateIndex",Db="keyIndex";class Dv extends de{constructor(e={}){super(),this.certificateIndex=w(e,Vb,Dv.defaultValues(Vb)),this.keyIndex=w(e,Db,Dv.defaultValues(Db)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Vb:case Db:return 0;default:return super.defaultValues(e)}}static schema(){return new se}fromSchema(e){if(e.constructor.blockName()!==se.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let r=e.valueBlock.valueHex.slice(0);const n=new Uint8Array(r);switch(!0){case r.byteLength<4:{const f=new ArrayBuffer(4);new Uint8Array(f).set(n,4-r.byteLength),r=f.slice(0)}break;case r.byteLength>4:{const f=new ArrayBuffer(4);new Uint8Array(f).set(n.slice(0,4)),r=f.slice(0)}break}const s=r.slice(0,2),i=new Uint8Array(s);let a=i[0];i[0]=i[1],i[1]=a;const o=new Uint16Array(s);this.keyIndex=o[0];const l=r.slice(2),u=new Uint8Array(l);a=u[0],u[0]=u[1],u[1]=a;const c=new Uint16Array(l);this.certificateIndex=c[0]}toSchema(){const e=new ArrayBuffer(2),r=new Uint16Array(e);r[0]=this.certificateIndex;const n=new Uint8Array(e);let s=n[0];n[0]=n[1],n[1]=s;const i=new ArrayBuffer(2),a=new Uint16Array(i);a[0]=this.keyIndex;const o=new Uint8Array(i);return s=o[0],o[0]=o[1],o[1]=s,new se({valueHex:Ld(i,e)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}Dv.CLASS_NAME="CAVersion";const F0="policyQualifierId",H0="qualifier",gle=[F0,H0];class $c extends de{constructor(e={}){super(),this.policyQualifierId=w(e,F0,$c.defaultValues(F0)),this.qualifier=w(e,H0,$c.defaultValues(H0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case F0:return A;case H0:return new Ye;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.policyQualifierId||A}),new Ye({name:r.qualifier||A})]})}fromSchema(e){ge(e,gle);const r=pe(e,e,$c.schema({names:{policyQualifierId:F0,qualifier:H0}}));le.assertSchema(r,this.className),this.policyQualifierId=r.result.policyQualifierId.valueBlock.toString(),this.qualifier=r.result.qualifier}toSchema(){return new _({value:[new Oe({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}$c.CLASS_NAME="PolicyQualifierInfo";const K0="policyIdentifier",yu="policyQualifiers",vle=[K0,yu];class Fc extends de{constructor(e={}){super(),this.policyIdentifier=w(e,K0,Fc.defaultValues(K0)),yu in e&&(this.policyQualifiers=w(e,yu,Fc.defaultValues(yu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case K0:return A;case yu:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.policyIdentifier||A}),new _({optional:!0,value:[new rt({name:r.policyQualifiers||A,value:$c.schema()})]})]})}fromSchema(e){ge(e,vle);const r=pe(e,e,Fc.schema({names:{policyIdentifier:K0,policyQualifiers:yu}}));le.assertSchema(r,this.className),this.policyIdentifier=r.result.policyIdentifier.valueBlock.toString(),yu in r.result&&(this.policyQualifiers=Array.from(r.result.policyQualifiers,n=>new $c({schema:n})))}toSchema(){const e=[];return e.push(new Oe({value:this.policyIdentifier})),this.policyQualifiers&&e.push(new _({value:Array.from(this.policyQualifiers,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={policyIdentifier:this.policyIdentifier};return this.policyQualifiers&&(e.policyQualifiers=Array.from(this.policyQualifiers,r=>r.toJSON())),e}}Fc.CLASS_NAME="PolicyInformation";const j0="certificatePolicies",yle=[j0];class mp extends de{constructor(e={}){super(),this.certificatePolicies=w(e,j0,mp.defaultValues(j0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case j0:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.certificatePolicies||A,value:Fc.schema()})]})}fromSchema(e){ge(e,yle);const r=pe(e,e,mp.schema({names:{certificatePolicies:j0}}));le.assertSchema(r,this.className),this.certificatePolicies=Array.from(r.result.certificatePolicies,n=>new Fc({schema:n}))}toSchema(){return new _({value:Array.from(this.certificatePolicies,e=>e.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,e=>e.toJSON())}}}mp.CLASS_NAME="CertificatePolicies";const z0="templateID",va="templateMajorVersion",ya="templateMinorVersion",Sle=[z0,va,ya];class bd extends de{constructor(e={}){super(),this.templateID=w(e,z0,bd.defaultValues(z0)),va in e&&(this.templateMajorVersion=w(e,va,bd.defaultValues(va))),ya in e&&(this.templateMinorVersion=w(e,ya,bd.defaultValues(ya))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case z0:return A;case va:case ya:return 0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.templateID||A}),new se({name:r.templateMajorVersion||A,optional:!0}),new se({name:r.templateMinorVersion||A,optional:!0})]})}fromSchema(e){ge(e,Sle);const r=pe(e,e,bd.schema({names:{templateID:z0,templateMajorVersion:va,templateMinorVersion:ya}}));le.assertSchema(r,this.className),this.templateID=r.result.templateID.valueBlock.toString(),va in r.result&&(this.templateMajorVersion=r.result.templateMajorVersion.valueBlock.valueDec),ya in r.result&&(this.templateMinorVersion=r.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const e=[];return e.push(new Oe({value:this.templateID})),va in this&&e.push(new se({value:this.templateMajorVersion})),ya in this&&e.push(new se({value:this.templateMinorVersion})),new _({value:e})}toJSON(){const e={templateID:this.templateID};return va in this&&(e.templateMajorVersion=this.templateMajorVersion),ya in this&&(e.templateMinorVersion=this.templateMinorVersion),e}}const Su="distributionPoint",W5="distributionPointNames",wu="reasons",Cu="cRLIssuer",G5="cRLIssuerNames",wle=[Su,W5,wu,Cu,G5];class kl extends de{constructor(e={}){super(),Su in e&&(this.distributionPoint=w(e,Su,kl.defaultValues(Su))),wu in e&&(this.reasons=w(e,wu,kl.defaultValues(wu))),Cu in e&&(this.cRLIssuer=w(e,Cu,kl.defaultValues(Cu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Su:return[];case wu:return new dt;case Cu:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dr({value:[new W({name:r.distributionPoint||A,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new rt({name:r.distributionPointNames||A,value:Tt.schema()})]}),new W({name:r.distributionPoint||A,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Kt.schema().valueBlock.value})]})]}),new qe({name:r.reasons||A,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new W({name:r.cRLIssuer||A,optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new rt({name:r.cRLIssuerNames||A,value:Tt.schema()})]})]})}fromSchema(e){ge(e,wle);const r=pe(e,e,kl.schema({names:{distributionPoint:Su,distributionPointNames:W5,reasons:wu,cRLIssuer:Cu,cRLIssuerNames:G5}}));le.assertSchema(r,this.className),Su in r.result&&(r.result.distributionPoint.idBlock.tagNumber===0&&(this.distributionPoint=Array.from(r.result.distributionPointNames,n=>new Tt({schema:n}))),r.result.distributionPoint.idBlock.tagNumber===1&&(this.distributionPoint=new Kt({schema:new _({value:r.result.distributionPoint.valueBlock.value})}))),wu in r.result&&(this.reasons=new dt({valueHex:r.result.reasons.valueBlock.valueHex})),Cu in r.result&&(this.cRLIssuer=Array.from(r.result.cRLIssuerNames,n=>new Tt({schema:n})))}toSchema(){const e=[];if(this.distributionPoint){let r;this.distributionPoint instanceof Array?r=new W({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,n=>n.toSchema())}):r=new W({idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[r]}))}return this.reasons&&e.push(new qe({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHexView})),this.cRLIssuer&&e.push(new W({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,r=>r.toJSON()):e.distributionPoint=this.distributionPoint.toJSON()),this.reasons&&(e.reasons=this.reasons.toJSON()),this.cRLIssuer&&(e.cRLIssuer=Array.from(this.cRLIssuer,r=>r.toJSON())),e}}kl.CLASS_NAME="DistributionPoint";const W0="distributionPoints",Cle=[W0];class gp extends de{constructor(e={}){super(),this.distributionPoints=w(e,W0,gp.defaultValues(W0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case W0:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.distributionPoints||A,value:kl.schema()})]})}fromSchema(e){ge(e,Cle);const r=pe(e,e,gp.schema({names:{distributionPoints:W0}}));le.assertSchema(r,this.className),this.distributionPoints=Array.from(r.result.distributionPoints,n=>new kl({schema:n}))}toSchema(){return new _({value:Array.from(this.distributionPoints,e=>e.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,e=>e.toJSON())}}}gp.CLASS_NAME="CRLDistributionPoints";const G0="keyPurposes",Ele=[G0];class Uv extends de{constructor(e={}){super(),this.keyPurposes=w(e,G0,Uv.defaultValues(G0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case G0:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.keyPurposes||A,value:new Oe})]})}fromSchema(e){ge(e,Ele);const r=pe(e,e,Uv.schema({names:{keyPurposes:G0}}));le.assertSchema(r,this.className),this.keyPurposes=Array.from(r.result.keyPurposes,n=>n.valueBlock.toString())}toSchema(){return new _({value:Array.from(this.keyPurposes,e=>new Oe({value:e}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}Uv.CLASS_NAME="ExtKeyUsage";const d0="accessDescriptions";class vp extends de{constructor(e={}){super(),this.accessDescriptions=w(e,d0,vp.defaultValues(d0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case d0:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.accessDescriptions||A,value:Uc.schema()})]})}fromSchema(e){ge(e,[d0]);const r=pe(e,e,vp.schema({names:{accessDescriptions:d0}}));le.assertSchema(r,this.className),this.accessDescriptions=Array.from(r.result.accessDescriptions,n=>new Uc({schema:n}))}toSchema(){return new _({value:Array.from(this.accessDescriptions,e=>e.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,e=>e.toJSON())}}}vp.CLASS_NAME="InfoAccess";const Eu="distributionPoint",q5="distributionPointNames",Ao="onlyContainsUserCerts",ko="onlyContainsCACerts",Io="onlySomeReasons",To="indirectCRL",No="onlyContainsAttributeCerts",ble=[Eu,q5,Ao,ko,Io,To,No];class tn extends de{constructor(e={}){super(),Eu in e&&(this.distributionPoint=w(e,Eu,tn.defaultValues(Eu))),this.onlyContainsUserCerts=w(e,Ao,tn.defaultValues(Ao)),this.onlyContainsCACerts=w(e,ko,tn.defaultValues(ko)),Io in e&&(this.onlySomeReasons=w(e,Io,tn.defaultValues(Io))),this.indirectCRL=w(e,To,tn.defaultValues(To)),this.onlyContainsAttributeCerts=w(e,No,tn.defaultValues(No)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Eu:return[];case Ao:return!1;case ko:return!1;case Io:return 0;case To:return!1;case No:return!1;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new dr({value:[new W({name:r.distributionPoint||A,idBlock:{tagClass:3,tagNumber:0},value:[new rt({name:r.distributionPointNames||A,value:Tt.schema()})]}),new W({name:r.distributionPoint||A,idBlock:{tagClass:3,tagNumber:1},value:Kt.schema().valueBlock.value})]})]}),new qe({name:r.onlyContainsUserCerts||A,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new qe({name:r.onlyContainsCACerts||A,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new qe({name:r.onlySomeReasons||A,optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new qe({name:r.indirectCRL||A,optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new qe({name:r.onlyContainsAttributeCerts||A,optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(e){ge(e,ble);const r=pe(e,e,tn.schema({names:{distributionPoint:Eu,distributionPointNames:q5,onlyContainsUserCerts:Ao,onlyContainsCACerts:ko,onlySomeReasons:Io,indirectCRL:To,onlyContainsAttributeCerts:No}}));if(le.assertSchema(r,this.className),Eu in r.result)switch(!0){case r.result.distributionPoint.idBlock.tagNumber===0:this.distributionPoint=Array.from(r.result.distributionPointNames,n=>new Tt({schema:n}));break;case r.result.distributionPoint.idBlock.tagNumber===1:this.distributionPoint=new Kt({schema:new _({value:r.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if(Ao in r.result){const n=new Uint8Array(r.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=n[0]!==0}if(ko in r.result){const n=new Uint8Array(r.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=n[0]!==0}if(Io in r.result){const n=new Uint8Array(r.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=n[0]}if(To in r.result){const n=new Uint8Array(r.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=n[0]!==0}if(No in r.result){const n=new Uint8Array(r.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=n[0]!==0}}toSchema(){const e=[];if(this.distributionPoint){let r;this.distributionPoint instanceof Array?r=new W({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,n=>n.toSchema())}):(r=this.distributionPoint.toSchema(),r.idBlock.tagClass=3,r.idBlock.tagNumber=1),e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[r]}))}if(this.onlyContainsUserCerts!==tn.defaultValues(Ao)&&e.push(new qe({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==tn.defaultValues(ko)&&e.push(new qe({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),this.onlySomeReasons!==void 0){const r=new ArrayBuffer(1),n=new Uint8Array(r);n[0]=this.onlySomeReasons,e.push(new qe({idBlock:{tagClass:3,tagNumber:3},valueHex:r}))}return this.indirectCRL!==tn.defaultValues(To)&&e.push(new qe({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==tn.defaultValues(No)&&e.push(new qe({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new _({value:e})}toJSON(){const e={};return this.distributionPoint&&(this.distributionPoint instanceof Array?e.distributionPoint=Array.from(this.distributionPoint,r=>r.toJSON()):e.distributionPoint=this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==tn.defaultValues(Ao)&&(e.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==tn.defaultValues(ko)&&(e.onlyContainsCACerts=this.onlyContainsCACerts),Io in this&&(e.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==tn.defaultValues(To)&&(e.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==tn.defaultValues(No)&&(e.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),e}}tn.CLASS_NAME="IssuingDistributionPoint";const q0="base",jf="minimum",Ro="maximum",xle=[q0,jf,Ro];class ta extends de{constructor(e={}){super(),this.base=w(e,q0,ta.defaultValues(q0)),this.minimum=w(e,jf,ta.defaultValues(jf)),Ro in e&&(this.maximum=w(e,Ro,ta.defaultValues(Ro))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case q0:return new Tt;case jf:return 0;case Ro:return 0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[Tt.schema(r.base||{}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new se({name:r.minimum||A})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new se({name:r.maximum||A})]})]})}fromSchema(e){ge(e,xle);const r=pe(e,e,ta.schema({names:{base:{names:{blockName:q0}},minimum:jf,maximum:Ro}}));le.assertSchema(r,this.className),this.base=new Tt({schema:r.result.base}),jf in r.result&&(r.result.minimum.valueBlock.isHexOnly?this.minimum=r.result.minimum:this.minimum=r.result.minimum.valueBlock.valueDec),Ro in r.result&&(r.result.maximum.valueBlock.isHexOnly?this.maximum=r.result.maximum:this.maximum=r.result.maximum.valueBlock.valueDec)}toSchema(){const e=[];if(e.push(this.base.toSchema()),this.minimum!==0){let r=0;this.minimum instanceof se?r=this.minimum:r=new se({value:this.minimum}),e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[r]}))}if(Ro in this){let r=0;this.maximum instanceof se?r=this.maximum:r=new se({value:this.maximum}),e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[r]}))}return new _({value:e})}toJSON(){const e={base:this.base.toJSON()};return this.minimum!==0&&(typeof this.minimum=="number"?e.minimum=this.minimum:e.minimum=this.minimum.toJSON()),this.maximum!==void 0&&(typeof this.maximum=="number"?e.maximum=this.maximum:e.maximum=this.maximum.toJSON()),e}}ta.CLASS_NAME="GeneralSubtree";const bu="permittedSubtrees",xu="excludedSubtrees",Ale=[bu,xu];class Dd extends de{constructor(e={}){super(),bu in e&&(this.permittedSubtrees=w(e,bu,Dd.defaultValues(bu))),xu in e&&(this.excludedSubtrees=w(e,xu,Dd.defaultValues(xu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case bu:case xu:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new rt({name:r.permittedSubtrees||A,value:ta.schema()})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new rt({name:r.excludedSubtrees||A,value:ta.schema()})]})]})}fromSchema(e){ge(e,Ale);const r=pe(e,e,Dd.schema({names:{permittedSubtrees:bu,excludedSubtrees:xu}}));le.assertSchema(r,this.className),bu in r.result&&(this.permittedSubtrees=Array.from(r.result.permittedSubtrees,n=>new ta({schema:n}))),xu in r.result&&(this.excludedSubtrees=Array.from(r.result.excludedSubtrees,n=>new ta({schema:n})))}toSchema(){const e=[];return this.permittedSubtrees&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,r=>r.toSchema())})),this.excludedSubtrees&&e.push(new W({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={};return this.permittedSubtrees&&(e.permittedSubtrees=Array.from(this.permittedSubtrees,r=>r.toJSON())),this.excludedSubtrees&&(e.excludedSubtrees=Array.from(this.excludedSubtrees,r=>r.toJSON())),e}}Dd.CLASS_NAME="NameConstraints";const Sa="requireExplicitPolicy",wa="inhibitPolicyMapping",kle=[Sa,wa];class Ud extends de{constructor(e={}){super(),Sa in e&&(this.requireExplicitPolicy=w(e,Sa,Ud.defaultValues(Sa))),wa in e&&(this.inhibitPolicyMapping=w(e,wa,Ud.defaultValues(wa))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sa:return 0;case wa:return 0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new qe({name:r.requireExplicitPolicy||A,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new qe({name:r.inhibitPolicyMapping||A,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){ge(e,kle);const r=pe(e,e,Ud.schema({names:{requireExplicitPolicy:Sa,inhibitPolicyMapping:wa}}));if(le.assertSchema(r,this.className),Sa in r.result){const n=r.result.requireExplicitPolicy;n.idBlock.tagClass=1,n.idBlock.tagNumber=2;const s=n.toBER(!1),i=Ar(s);le.assert(i,"Integer"),this.requireExplicitPolicy=i.result.valueBlock.valueDec}if(wa in r.result){const n=r.result.inhibitPolicyMapping;n.idBlock.tagClass=1,n.idBlock.tagNumber=2;const s=n.toBER(!1),i=Ar(s);le.assert(i,"Integer"),this.inhibitPolicyMapping=i.result.valueBlock.valueDec}}toSchema(){const e=[];if(Sa in this){const r=new se({value:this.requireExplicitPolicy});r.idBlock.tagClass=3,r.idBlock.tagNumber=0,e.push(r)}if(wa in this){const r=new se({value:this.inhibitPolicyMapping});r.idBlock.tagClass=3,r.idBlock.tagNumber=1,e.push(r)}return new _({value:e})}toJSON(){const e={};return Sa in this&&(e.requireExplicitPolicy=this.requireExplicitPolicy),wa in this&&(e.inhibitPolicyMapping=this.inhibitPolicyMapping),e}}Ud.CLASS_NAME="PolicyConstraints";const J0="issuerDomainPolicy",Y0="subjectDomainPolicy",Ile=[J0,Y0];class Hc extends de{constructor(e={}){super(),this.issuerDomainPolicy=w(e,J0,Hc.defaultValues(J0)),this.subjectDomainPolicy=w(e,Y0,Hc.defaultValues(Y0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case J0:return A;case Y0:return A;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.issuerDomainPolicy||A}),new Oe({name:r.subjectDomainPolicy||A})]})}fromSchema(e){ge(e,Ile);const r=pe(e,e,Hc.schema({names:{issuerDomainPolicy:J0,subjectDomainPolicy:Y0}}));le.assertSchema(r,this.className),this.issuerDomainPolicy=r.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=r.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new _({value:[new Oe({value:this.issuerDomainPolicy}),new Oe({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}Hc.CLASS_NAME="PolicyMapping";const Q0="mappings",Tle=[Q0];class Mv extends de{constructor(e={}){super(),this.mappings=w(e,Q0,Mv.defaultValues(Q0)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Q0:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.mappings||A,value:Hc.schema()})]})}fromSchema(e){ge(e,Tle);const r=pe(e,e,Mv.schema({names:{mappings:Q0}}));le.assertSchema(r,this.className),this.mappings=Array.from(r.result.mappings,n=>new Hc({schema:n}))}toSchema(){return new _({value:Array.from(this.mappings,e=>e.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,e=>e.toJSON())}}}Mv.CLASS_NAME="PolicyMappings";const Bo="notBefore",_o="notAfter",Nle=[Bo,_o];class Md extends de{constructor(e={}){super(),Bo in e&&(this.notBefore=w(e,Bo,Md.defaultValues(Bo))),_o in e&&(this.notAfter=w(e,_o,Md.defaultValues(_o))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Bo:return new Date;case _o:return new Date;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new qe({name:r.notBefore||A,optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new qe({name:r.notAfter||A,optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(e){ge(e,Nle);const r=pe(e,e,Md.schema({names:{notBefore:Bo,notAfter:_o}}));if(le.assertSchema(r,this.className),Bo in r.result){const n=new fr;n.fromBuffer(r.result.notBefore.valueBlock.valueHex),this.notBefore=n.toDate()}if(_o in r.result){const n=new fr({valueHex:r.result.notAfter.valueBlock.valueHex});n.fromBuffer(r.result.notAfter.valueBlock.valueHex),this.notAfter=n.toDate()}}toSchema(){const e=[];return Bo in this&&e.push(new qe({idBlock:{tagClass:3,tagNumber:0},valueHex:new fr({valueDate:this.notBefore}).valueBlock.valueHexView})),_o in this&&e.push(new qe({idBlock:{tagClass:3,tagNumber:1},valueHex:new fr({valueDate:this.notAfter}).valueBlock.valueHexView})),new _({value:e})}toJSON(){const e={};return this.notBefore&&(e.notBefore=this.notBefore),this.notAfter&&(e.notAfter=this.notAfter),e}}Md.CLASS_NAME="PrivateKeyUsagePeriod";const zf="id",Ca="type",Wf="values",Rle=[zf,Ca],Ble=[Wf];class Kc extends de{constructor(e={}){super(),this.id=w(e,zf,Kc.defaultValues(zf)),Ca in e&&(this.type=w(e,Ca,Kc.defaultValues(Ca))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case zf:return A;case Ca:return new Pr;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case zf:return r===A;case Ca:return r instanceof Pr;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.id||A}),new Ye({name:r.type||A,optional:!0})]})}fromSchema(e){ge(e,Rle);const r=pe(e,e,Kc.schema({names:{id:zf,type:Ca}}));le.assertSchema(r,this.className),this.id=r.result.id.valueBlock.toString(),Ca in r.result&&(this.type=r.result.type)}toSchema(){const e=[new Oe({value:this.id})];return Ca in this&&e.push(this.type),new _({value:e})}toJSON(){const e={id:this.id};return this.type&&(e.type=this.type.toJSON()),e}}Kc.CLASS_NAME="QCStatement";class $v extends de{constructor(e={}){super(),this.values=w(e,Wf,$v.defaultValues(Wf)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Wf:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Wf:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.values||A,value:Kc.schema(r.value||{})})]})}fromSchema(e){ge(e,Ble);const r=pe(e,e,$v.schema({names:{values:Wf}}));le.assertSchema(r,this.className),this.values=Array.from(r.result.values,n=>new Kc({schema:n}))}toSchema(){return new _({value:Array.from(this.values,e=>e.toSchema())})}toJSON(){return{values:Array.from(this.values,e=>e.toJSON())}}}$v.CLASS_NAME="QCStatements";var Au;class Hl{static register(e,r,n){this.namedCurves[e.toLowerCase()]=this.namedCurves[r]={name:e,id:r,size:n}}static find(e){return this.namedCurves[e.toLowerCase()]||null}}Au=Hl;Hl.namedCurves={};Au.register("P-256","1.2.840.10045.3.1.7",32),Au.register("P-384","1.3.132.0.34",48),Au.register("P-521","1.3.132.0.35",66),Au.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Au.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Au.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);const e1="x",t1="y",r1="namedCurve";class $n extends de{constructor(e={}){super(),this.x=w(e,e1,$n.defaultValues(e1)),this.y=w(e,t1,$n.defaultValues(t1)),this.namedCurve=w(e,r1,$n.defaultValues(r1)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case e1:case t1:return Hr;case r1:return A;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case e1:case t1:return r instanceof ArrayBuffer&&fp(r,$n.defaultValues(e));case r1:return typeof r=="string"&&r===$n.defaultValues(e);default:return super.defaultValues(e)}}static schema(){return new Ew}fromSchema(e){const r=ze.toUint8Array(e);if(r[0]!==4)throw new Error("Object's schema was not verified against input data for ECPublicKey");const n=Hl.find(this.namedCurve);if(!n)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const s=n.size;if(r.byteLength!==s*2+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.namedCurve=n.name,this.x=r.slice(1,s+1).buffer,this.y=r.slice(1+s,s*2+1).buffer}toSchema(){return new Ew({data:Ld(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const e=Hl.find(this.namedCurve);return{crv:e?e.name:this.namedCurve,x:ww(_v(this.x),!0,!0,!1),y:ww(_v(this.y),!0,!0,!1)}}fromJSON(e){vt.assert("json",e,"crv","x","y");let r=0;const n=Hl.find(e.crv);n&&(this.namedCurve=n.id,r=n.size);const s=hp(Bv(e.x,!0));if(s.byteLength<r){this.x=new ArrayBuffer(r);const a=new Uint8Array(this.x),o=new Uint8Array(s);a.set(o,1)}else this.x=s.slice(0,r);const i=hp(Bv(e.y,!0));if(i.byteLength<r){this.y=new ArrayBuffer(r);const a=new Uint8Array(this.y),o=new Uint8Array(i);a.set(o,1)}else this.y=i.slice(0,r)}}$n.CLASS_NAME="ECPublicKey";const X0="modulus",Z0="publicExponent",_le=[X0,Z0];class jc extends de{constructor(e={}){super(),this.modulus=w(e,X0,jc.defaultValues(X0)),this.publicExponent=w(e,Z0,jc.defaultValues(Z0)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case X0:return new se;case Z0:return new se;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.modulus||A}),new se({name:r.publicExponent||A})]})}fromSchema(e){ge(e,_le);const r=pe(e,e,jc.schema({names:{modulus:X0,publicExponent:Z0}}));le.assertSchema(r,this.className),this.modulus=r.result.modulus.convertFromDER(256),this.publicExponent=r.result.publicExponent}toSchema(){return new _({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:We.ToBase64Url(this.modulus.valueBlock.valueHexView),e:We.ToBase64Url(this.publicExponent.valueBlock.valueHexView)}}fromJSON(e){vt.assert("json",e,"n","e");const r=hp(Bv(e.n,!0));this.modulus=new se({valueHex:r.slice(0,Math.pow(2,Ioe(r.byteLength)))}),this.publicExponent=new se({valueHex:hp(Bv(e.e,!0)).slice(0,3)})}}jc.CLASS_NAME="RSAPublicKey";const em="algorithm",tm="subjectPublicKey",Ple=[em,tm];class Wn extends de{constructor(e={}){super(),this.algorithm=w(e,em,Wn.defaultValues(em)),this.subjectPublicKey=w(e,tm,Wn.defaultValues(tm));const r=w(e,"parsedKey",null);r&&(this.parsedKey=r),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}get parsedKey(){if(this._parsedKey===void 0){switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Oe.blockName())try{this._parsedKey=new $n({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHexView})}catch{}break;case"1.2.840.113549.1.1.1":{const e=Ar(this.subjectPublicKey.valueBlock.valueHexView);if(e.offset!==-1)try{this._parsedKey=new jc({schema:e.result})}catch{}}break}this._parsedKey||(this._parsedKey=null)}return this._parsedKey||void 0}set parsedKey(e){this._parsedKey=e}static defaultValues(e){switch(e){case em:return new ae;case tm:return new dt;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[ae.schema(r.algorithm||{}),new dt({name:r.subjectPublicKey||A})]})}fromSchema(e){ge(e,Ple);const r=pe(e,e,Wn.schema({names:{algorithm:{names:{blockName:em}},subjectPublicKey:tm}}));le.assertSchema(r,this.className),this.algorithm=new ae({schema:r.result.algorithm}),this.subjectPublicKey=r.result.subjectPublicKey}toSchema(){return new _({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!this.parsedKey)return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const e={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA";break}const r=this.parsedKey.toJSON();return Object.assign(e,r),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new $n({json:e}),this.algorithm=new ae({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Oe({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new jc({json:e}),this.algorithm=new ae({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Pr});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.subjectPublicKey=new dt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}async importKey(e,r=st(!0)){try{if(!e)throw new Error("Need to provide publicKey input parameter");const n=await r.exportKey("spki",e),s=Ar(n);try{this.fromSchema(s.result)}catch{throw new Error("Error during initializing object from schema")}}catch(n){const s=n instanceof Error?n.message:`${n}`;throw new Error(`Error during exporting public key: ${s}`)}}}Wn.CLASS_NAME="PublicKeyInfo";const Gf="version",qf="privateKey",di="namedCurve",Po="publicKey",Ole=[Gf,qf,di,Po];class Us extends de{constructor(e={}){super(),this.version=w(e,Gf,Us.defaultValues(Gf)),this.privateKey=w(e,qf,Us.defaultValues(qf)),di in e&&(this.namedCurve=w(e,di,Us.defaultValues(di))),Po in e&&(this.publicKey=w(e,Po,Us.defaultValues(Po))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Gf:return 1;case qf:return new Ce;case di:return A;case Po:return new $n;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Gf:return r===Us.defaultValues(e);case qf:return r.isEqual(Us.defaultValues(e));case di:return r===A;case Po:return $n.compareWithDefault(di,r.namedCurve)&&$n.compareWithDefault("x",r.x)&&$n.compareWithDefault("y",r.y);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),new Ce({name:r.privateKey||A}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Oe({name:r.namedCurve||A})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new dt({name:r.publicKey||A})]})]})}fromSchema(e){ge(e,Ole);const r=pe(e,e,Us.schema({names:{version:Gf,privateKey:qf,namedCurve:di,publicKey:Po}}));if(le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,this.privateKey=r.result.privateKey,di in r.result&&(this.namedCurve=r.result.namedCurve.valueBlock.toString()),Po in r.result){const n={schema:r.result.publicKey.valueBlock.valueHex};di in this&&(n.namedCurve=this.namedCurve),this.publicKey=new $n(n)}}toSchema(){const e=[new se({value:this.version}),this.privateKey];return this.namedCurve&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[new Oe({value:this.namedCurve})]})),this.publicKey&&e.push(new W({idBlock:{tagClass:3,tagNumber:1},value:[new dt({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new _({value:e})}toJSON(){if(!this.namedCurve||Us.compareWithDefault(di,this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');const e=Hl.find(this.namedCurve),r={crv:e?e.name:this.namedCurve,d:We.ToBase64Url(this.privateKey.valueBlock.valueHexView)};if(this.publicKey){const n=this.publicKey.toJSON();r.x=n.x,r.y=n.y}return r}fromJSON(e){vt.assert("json",e,"crv","d");let r=0;const n=Hl.find(e.crv);n&&(this.namedCurve=n.id,r=n.size);const s=We.FromBase64Url(e.d);if(s.byteLength<r){const i=new ArrayBuffer(r),a=new Uint8Array(i),o=new Uint8Array(s);a.set(o,1),this.privateKey=new Ce({valueHex:i})}else this.privateKey=new Ce({valueHex:s.slice(0,r)});e.x&&e.y&&(this.publicKey=new $n({json:e}))}}Us.CLASS_NAME="ECPrivateKey";const rm="prime",nm="exponent",sm="coefficient",Lle=[rm,nm,sm];class Ua extends de{constructor(e={}){super(),this.prime=w(e,rm,Ua.defaultValues(rm)),this.exponent=w(e,nm,Ua.defaultValues(nm)),this.coefficient=w(e,sm,Ua.defaultValues(sm)),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case rm:return new se;case nm:return new se;case sm:return new se;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.prime||A}),new se({name:r.exponent||A}),new se({name:r.coefficient||A})]})}fromSchema(e){ge(e,Lle);const r=pe(e,e,Ua.schema({names:{prime:rm,exponent:nm,coefficient:sm}}));le.assertSchema(r,this.className),this.prime=r.result.prime.convertFromDER(),this.exponent=r.result.exponent.convertFromDER(),this.coefficient=r.result.coefficient.convertFromDER()}toSchema(){return new _({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:We.ToBase64Url(this.prime.valueBlock.valueHexView),d:We.ToBase64Url(this.exponent.valueBlock.valueHexView),t:We.ToBase64Url(this.coefficient.valueBlock.valueHexView)}}fromJSON(e){vt.assert("json",e,"r","d","r"),this.prime=new se({valueHex:We.FromBase64Url(e.r)}),this.exponent=new se({valueHex:We.FromBase64Url(e.d)}),this.coefficient=new se({valueHex:We.FromBase64Url(e.t)})}}Ua.CLASS_NAME="OtherPrimeInfo";const im="version",am="modulus",om="publicExponent",lm="privateExponent",um="prime1",cm="prime2",fm="exponent1",hm="exponent2",dm="coefficient",ku="otherPrimeInfos",Vle=[im,am,om,lm,um,cm,fm,hm,dm,ku];class On extends de{constructor(e={}){super(),this.version=w(e,im,On.defaultValues(im)),this.modulus=w(e,am,On.defaultValues(am)),this.publicExponent=w(e,om,On.defaultValues(om)),this.privateExponent=w(e,lm,On.defaultValues(lm)),this.prime1=w(e,um,On.defaultValues(um)),this.prime2=w(e,cm,On.defaultValues(cm)),this.exponent1=w(e,fm,On.defaultValues(fm)),this.exponent2=w(e,hm,On.defaultValues(hm)),this.coefficient=w(e,dm,On.defaultValues(dm)),ku in e&&(this.otherPrimeInfos=w(e,ku,On.defaultValues(ku))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case im:return 0;case am:return new se;case om:return new se;case lm:return new se;case um:return new se;case cm:return new se;case fm:return new se;case hm:return new se;case dm:return new se;case ku:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),new se({name:r.modulus||A}),new se({name:r.publicExponent||A}),new se({name:r.privateExponent||A}),new se({name:r.prime1||A}),new se({name:r.prime2||A}),new se({name:r.exponent1||A}),new se({name:r.exponent2||A}),new se({name:r.coefficient||A}),new _({optional:!0,value:[new rt({name:r.otherPrimeInfosName||A,value:Ua.schema(r.otherPrimeInfo||{})})]})]})}fromSchema(e){ge(e,Vle);const r=pe(e,e,On.schema({names:{version:im,modulus:am,publicExponent:om,privateExponent:lm,prime1:um,prime2:cm,exponent1:fm,exponent2:hm,coefficient:dm,otherPrimeInfo:{names:{blockName:ku}}}}));le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,this.modulus=r.result.modulus.convertFromDER(256),this.publicExponent=r.result.publicExponent,this.privateExponent=r.result.privateExponent.convertFromDER(256),this.prime1=r.result.prime1.convertFromDER(128),this.prime2=r.result.prime2.convertFromDER(128),this.exponent1=r.result.exponent1.convertFromDER(128),this.exponent2=r.result.exponent2.convertFromDER(128),this.coefficient=r.result.coefficient.convertFromDER(128),ku in r.result&&(this.otherPrimeInfos=Array.from(r.result.otherPrimeInfos,n=>new Ua({schema:n})))}toSchema(){const e=[];return e.push(new se({value:this.version})),e.push(this.modulus.convertToDER()),e.push(this.publicExponent),e.push(this.privateExponent.convertToDER()),e.push(this.prime1.convertToDER()),e.push(this.prime2.convertToDER()),e.push(this.exponent1.convertToDER()),e.push(this.exponent2.convertToDER()),e.push(this.coefficient.convertToDER()),this.otherPrimeInfos&&e.push(new _({value:Array.from(this.otherPrimeInfos,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={n:We.ToBase64Url(this.modulus.valueBlock.valueHexView),e:We.ToBase64Url(this.publicExponent.valueBlock.valueHexView),d:We.ToBase64Url(this.privateExponent.valueBlock.valueHexView),p:We.ToBase64Url(this.prime1.valueBlock.valueHexView),q:We.ToBase64Url(this.prime2.valueBlock.valueHexView),dp:We.ToBase64Url(this.exponent1.valueBlock.valueHexView),dq:We.ToBase64Url(this.exponent2.valueBlock.valueHexView),qi:We.ToBase64Url(this.coefficient.valueBlock.valueHexView)};return this.otherPrimeInfos&&(e.oth=Array.from(this.otherPrimeInfos,r=>r.toJSON())),e}fromJSON(e){vt.assert("json",e,"n","e","d","p","q","dp","dq","qi"),this.modulus=new se({valueHex:We.FromBase64Url(e.n)}),this.publicExponent=new se({valueHex:We.FromBase64Url(e.e)}),this.privateExponent=new se({valueHex:We.FromBase64Url(e.d)}),this.prime1=new se({valueHex:We.FromBase64Url(e.p)}),this.prime2=new se({valueHex:We.FromBase64Url(e.q)}),this.exponent1=new se({valueHex:We.FromBase64Url(e.dp)}),this.exponent2=new se({valueHex:We.FromBase64Url(e.dq)}),this.coefficient=new se({valueHex:We.FromBase64Url(e.qi)}),e.oth&&(this.otherPrimeInfos=Array.from(e.oth,r=>new Ua({json:r})))}}On.CLASS_NAME="RSAPrivateKey";const pm="version",mm="privateKeyAlgorithm",gm="privateKey",Iu="attributes",n1="parsedKey",Dle=[pm,mm,gm,Iu];class js extends de{constructor(e={}){super(),this.version=w(e,pm,js.defaultValues(pm)),this.privateKeyAlgorithm=w(e,mm,js.defaultValues(mm)),this.privateKey=w(e,gm,js.defaultValues(gm)),Iu in e&&(this.attributes=w(e,Iu,js.defaultValues(Iu))),n1 in e&&(this.parsedKey=w(e,n1,js.defaultValues(n1))),e.json&&this.fromJSON(e.json),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case pm:return 0;case mm:return new ae;case gm:return new Ce;case Iu:return[];case n1:return{};default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),ae.schema(r.privateKeyAlgorithm||{}),new Ce({name:r.privateKey||A}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new rt({name:r.attributes||A,value:ir.schema()})]})]})}fromSchema(e){ge(e,Dle);const r=pe(e,e,js.schema({names:{version:pm,privateKeyAlgorithm:{names:{blockName:mm}},privateKey:gm,attributes:Iu}}));switch(le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new ae({schema:r.result.privateKeyAlgorithm}),this.privateKey=r.result.privateKey,Iu in r.result&&(this.attributes=Array.from(r.result.attributes,n=>new ir({schema:n}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const n=Ar(this.privateKey.valueBlock.valueHexView);n.offset!==-1&&(this.parsedKey=new On({schema:n.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Oe){const n=Ar(this.privateKey.valueBlock.valueHexView);n.offset!==-1&&(this.parsedKey=new Us({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:n.result}))}break}}toSchema(){const e=[new se({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return this.attributes&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,r=>r.toSchema())})),new _({value:e})}toJSON(){if(!this.parsedKey){const n={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return this.attributes&&(n.attributes=Array.from(this.attributes,s=>s.toJSON())),n}const e={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":e.kty="EC";break;case"1.2.840.113549.1.1.1":e.kty="RSA";break}const r=this.parsedKey.toJSON();return Object.assign(e,r),e}fromJSON(e){if("kty"in e){switch(e.kty.toUpperCase()){case"EC":this.parsedKey=new Us({json:e}),this.privateKeyAlgorithm=new ae({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Oe({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new On({json:e}),this.privateKeyAlgorithm=new ae({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Pr});break;default:throw new Error(`Invalid value for "kty" parameter: ${e.kty}`)}this.privateKey=new Ce({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}js.CLASS_NAME="PrivateKeyInfo";const Jf="contentType",Yf="contentEncryptionAlgorithm",Tu="encryptedContent",Ule=[Jf,Yf,Tu],N_=1024;class Dr extends de{constructor(e={}){if(super(),this.contentType=w(e,Jf,Dr.defaultValues(Jf)),this.contentEncryptionAlgorithm=w(e,Yf,Dr.defaultValues(Yf)),Tu in e&&e.encryptedContent&&(this.encryptedContent=e.encryptedContent,this.encryptedContent.idBlock.tagClass===1&&this.encryptedContent.idBlock.tagNumber===4&&this.encryptedContent.idBlock.isConstructed===!1&&!e.disableSplit)){const r=new Ce({idBlock:{isConstructed:!0},isConstructed:!0});let n=0;const s=this.encryptedContent.valueBlock.valueHexView.slice().buffer;let i=s.byteLength;for(;i>0;){const a=new Uint8Array(s,n,n+N_>s.byteLength?s.byteLength-n:N_),o=new ArrayBuffer(a.length),l=new Uint8Array(o);for(let u=0;u<l.length;u++)l[u]=a[u];r.valueBlock.value.push(new Ce({valueHex:o})),i-=a.length,n+=a.length}this.encryptedContent=r}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Jf:return A;case Yf:return new ae;case Tu:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Jf:return r===A;case Yf:return r.algorithmId===A&&!("algorithmParams"in r);case Tu:return r.isEqual(Dr.defaultValues(Tu));default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.contentType||A}),ae.schema(r.contentEncryptionAlgorithm||{}),new dr({value:[new W({name:r.encryptedContent||A,idBlock:{tagClass:3,tagNumber:0},value:[new rt({value:new Ce})]}),new qe({name:r.encryptedContent||A,idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(e){ge(e,Ule);const r=pe(e,e,Dr.schema({names:{contentType:Jf,contentEncryptionAlgorithm:{names:{blockName:Yf}},encryptedContent:Tu}}));le.assertSchema(r,this.className),this.contentType=r.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new ae({schema:r.result.contentEncryptionAlgorithm}),Tu in r.result&&(this.encryptedContent=r.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const e={isIndefiniteForm:!1},r=[];if(r.push(new Oe({value:this.contentType})),r.push(this.contentEncryptionAlgorithm.toSchema()),this.encryptedContent){e.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const n=this.encryptedContent;n.idBlock.tagClass=3,n.idBlock.tagNumber=0,n.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,r.push(n)}return new _({lenBlock:e,value:r})}toJSON(){const e={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return this.encryptedContent&&(e.encryptedContent=this.encryptedContent.toJSON()),e}getEncryptedContent(){if(!this.encryptedContent)throw new Error("Parameter 'encryptedContent' is undefined");return Ce.prototype.getValue.call(this.encryptedContent)}}Dr.CLASS_NAME="EncryptedContentInfo";const Oo="hashAlgorithm",Lo="maskGenAlgorithm",Vo="saltLength",Do="trailerField",Mle=[Oo,Lo,Vo,Do];class rn extends de{constructor(e={}){super(),this.hashAlgorithm=w(e,Oo,rn.defaultValues(Oo)),this.maskGenAlgorithm=w(e,Lo,rn.defaultValues(Lo)),this.saltLength=w(e,Vo,rn.defaultValues(Vo)),this.trailerField=w(e,Do,rn.defaultValues(Do)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Oo:return new ae({algorithmId:"1.3.14.3.2.26",algorithmParams:new Pr});case Lo:return new ae({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new ae({algorithmId:"1.3.14.3.2.26",algorithmParams:new Pr}).toSchema()});case Vo:return 20;case Do:return 1;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new W({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[ae.schema(r.hashAlgorithm||{})]}),new W({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[ae.schema(r.maskGenAlgorithm||{})]}),new W({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new se({name:r.saltLength||A})]}),new W({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new se({name:r.trailerField||A})]})]})}fromSchema(e){ge(e,Mle);const r=pe(e,e,rn.schema({names:{hashAlgorithm:{names:{blockName:Oo}},maskGenAlgorithm:{names:{blockName:Lo}},saltLength:Vo,trailerField:Do}}));le.assertSchema(r,this.className),Oo in r.result&&(this.hashAlgorithm=new ae({schema:r.result.hashAlgorithm})),Lo in r.result&&(this.maskGenAlgorithm=new ae({schema:r.result.maskGenAlgorithm})),Vo in r.result&&(this.saltLength=r.result.saltLength.valueBlock.valueDec),Do in r.result&&(this.trailerField=r.result.trailerField.valueBlock.valueDec)}toSchema(){const e=[];return this.hashAlgorithm.isEqual(rn.defaultValues(Oo))||e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(rn.defaultValues(Lo))||e.push(new W({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==rn.defaultValues(Vo)&&e.push(new W({idBlock:{tagClass:3,tagNumber:2},value:[new se({value:this.saltLength})]})),this.trailerField!==rn.defaultValues(Do)&&e.push(new W({idBlock:{tagClass:3,tagNumber:3},value:[new se({value:this.trailerField})]})),new _({value:e})}toJSON(){const e={};return this.hashAlgorithm.isEqual(rn.defaultValues(Oo))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(rn.defaultValues(Lo))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==rn.defaultValues(Vo)&&(e.saltLength=this.saltLength),this.trailerField!==rn.defaultValues(Do)&&(e.trailerField=this.trailerField),e}}rn.CLASS_NAME="RSASSAPSSParams";const Qf="salt",vm="iterationCount",pi="keyLength",Ea="prf",$le=[Qf,vm,pi,Ea];class In extends de{constructor(e={}){super(),this.salt=w(e,Qf,In.defaultValues(Qf)),this.iterationCount=w(e,vm,In.defaultValues(vm)),pi in e&&(this.keyLength=w(e,pi,In.defaultValues(pi))),Ea in e&&(this.prf=w(e,Ea,In.defaultValues(Ea))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Qf:return{};case vm:return-1;case pi:return 0;case Ea:return new ae({algorithmId:"1.3.14.3.2.26",algorithmParams:new Pr});default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new dr({value:[new Ce({name:r.saltPrimitive||A}),ae.schema(r.saltConstructed||{})]}),new se({name:r.iterationCount||A}),new se({name:r.keyLength||A,optional:!0}),ae.schema(r.prf||{names:{optional:!0}})]})}fromSchema(e){ge(e,$le);const r=pe(e,e,In.schema({names:{saltPrimitive:Qf,saltConstructed:{names:{blockName:Qf}},iterationCount:vm,keyLength:pi,prf:{names:{blockName:Ea,optional:!0}}}}));le.assertSchema(r,this.className),this.salt=r.result.salt,this.iterationCount=r.result.iterationCount.valueBlock.valueDec,pi in r.result&&(this.keyLength=r.result.keyLength.valueBlock.valueDec),Ea in r.result&&(this.prf=new ae({schema:r.result.prf}))}toSchema(){const e=[];return e.push(this.salt),e.push(new se({value:this.iterationCount})),pi in this&&In.defaultValues(pi)!==this.keyLength&&e.push(new se({value:this.keyLength})),this.prf&&In.defaultValues(Ea).isEqual(this.prf)===!1&&e.push(this.prf.toSchema()),new _({value:e})}toJSON(){const e={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return pi in this&&In.defaultValues(pi)!==this.keyLength&&(e.keyLength=this.keyLength),this.prf&&In.defaultValues(Ea).isEqual(this.prf)===!1&&(e.prf=this.prf.toJSON()),e}}In.CLASS_NAME="PBKDF2Params";const ym="keyDerivationFunc",Sm="encryptionScheme",Fle=[ym,Sm];class zc extends de{constructor(e={}){super(),this.keyDerivationFunc=w(e,ym,zc.defaultValues(ym)),this.encryptionScheme=w(e,Sm,zc.defaultValues(Sm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ym:return new ae;case Sm:return new ae;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[ae.schema(r.keyDerivationFunc||{}),ae.schema(r.encryptionScheme||{})]})}fromSchema(e){ge(e,Fle);const r=pe(e,e,zc.schema({names:{keyDerivationFunc:{names:{blockName:ym}},encryptionScheme:{names:{blockName:Sm}}}}));le.assertSchema(r,this.className),this.keyDerivationFunc=new ae({schema:r.result.keyDerivationFunc}),this.encryptionScheme=new ae({schema:r.result.encryptionScheme})}toSchema(){return new _({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}zc.CLASS_NAME="PBES2Params";class Hle{constructor(e){this.crypto=e.crypto,this.subtle="webkitSubtle"in e.crypto?e.crypto.webkitSubtle:e.crypto.subtle,this.name=w(e,"name",A)}async encrypt(...e){return this.subtle.encrypt(...e)}async decrypt(...e){return this.subtle.decrypt(...e)}sign(...e){return this.subtle.sign(...e)}async verify(...e){return this.subtle.verify(...e)}async digest(...e){return this.subtle.digest(...e)}async generateKey(...e){return this.subtle.generateKey(...e)}async deriveKey(...e){return this.subtle.deriveKey(...e)}async deriveBits(...e){return this.subtle.deriveBits(...e)}async wrapKey(...e){return this.subtle.wrapKey(...e)}async unwrapKey(...e){return this.subtle.unwrapKey(...e)}exportKey(...e){return this.subtle.exportKey(...e)}importKey(...e){return this.subtle.importKey(...e)}getRandomValues(e){return this.crypto.getRandomValues(e)}}async function R_(t,e,r,n,s,i){let a,o;const l=[];switch(e.toUpperCase()){case"SHA-1":a=20,o=64;break;case"SHA-256":a=32,o=64;break;case"SHA-384":a=48,o=128;break;case"SHA-512":a=64,o=128;break;default:throw new Error("Unsupported hashing algorithm")}const u=new Uint8Array(n),c=new ArrayBuffer(n.byteLength*2+2),f=new Uint8Array(c);for(let z=0;z<u.length;z++)f[z*2]=0,f[z*2+1]=u[z];f[f.length-2]=0,f[f.length-1]=0,n=c.slice(0);const h=new ArrayBuffer(o),p=new Uint8Array(h);for(let z=0;z<h.byteLength;z++)p[z]=3;const d=s.byteLength,m=o*Math.ceil(d/o),S=new ArrayBuffer(m),g=new Uint8Array(S),v=new Uint8Array(s);for(let z=0;z<m;z++)g[z]=v[z%d];const y=n.byteLength,C=o*Math.ceil(y/o),E=new ArrayBuffer(C),b=new Uint8Array(E),T=new Uint8Array(n);for(let z=0;z<C;z++)b[z]=T[z%y];const O=S.byteLength+E.byteLength;let H=new ArrayBuffer(O),L=new Uint8Array(H);L.set(g),L.set(b,g.length);const Y=Math.ceil((r>>3)/a);let ne=Promise.resolve(H);for(let z=0;z<=Y;z++){ne=ne.then(Z=>{const q=new ArrayBuffer(h.byteLength+Z.byteLength),ie=new Uint8Array(q);return ie.set(p),ie.set(L,p.length),q});for(let Z=0;Z<i;Z++)ne=ne.then(q=>t.digest({name:e},new Uint8Array(q)));ne=ne.then(Z=>{const q=new ArrayBuffer(o),ie=new Uint8Array(q);for(let ee=0;ee<q.byteLength;ee++)ie[ee]=Z[ee%Z.byteLength];const J=Math.ceil(d/o)+Math.ceil(y/o),G=[];let re=0,D=o;for(let ee=0;ee<J;ee++){const B=Array.from(new Uint8Array(H.slice(re,re+D)));re+=o,re+o>H.byteLength&&(D=H.byteLength-re);let K=511;for(let $=q.byteLength-1;$>=0;$--)K>>=8,K+=ie[$]+B[$],B[$]=K&255;G.push(...B)}return H=new ArrayBuffer(G.length),L=new Uint8Array(H),L.set(G),l.push(...new Uint8Array(Z)),H})}return ne=ne.then(()=>{const z=new ArrayBuffer(r>>3);return new Uint8Array(z).set(new Uint8Array(l).slice(0,r>>3)),z}),ne}function J5(t){const e=typeof t=="string"?{name:t}:t;return"hash"in e?{...e,hash:J5(e.hash)}:e}class bw extends Hle{async importKey(e,r,n,s,i){var a,o,l,u,c,f;let h={};const p=J5(n);switch(e.toLowerCase()){case"raw":return this.subtle.importKey("raw",r,n,s,i);case"spki":{const d=Ar(ze.toArrayBuffer(r));le.assert(d,"keyData");const m=new Wn;try{m.fromSchema(d.result)}catch{throw new Ht("Incorrect keyData")}switch(p.name.toUpperCase()){case"RSA-PSS":{if(!p.hash)throw new vt("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(p.hash.name.toUpperCase()){case"SHA-1":h.alg="PS1";break;case"SHA-256":h.alg="PS256";break;case"SHA-384":h.alg="PS384";break;case"SHA-512":h.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}}case"RSASSA-PKCS1-V1_5":{if(i=["verify"],h.kty="RSA",h.ext=s,h.key_ops=i,m.algorithm.algorithmId!=="1.2.840.113549.1.1.1")throw new Error(`Incorrect public key algorithm: ${m.algorithm.algorithmId}`);if(!h.alg){if(!p.hash)throw new vt("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(p.hash.name.toUpperCase()){case"SHA-1":h.alg="RS1";break;case"SHA-256":h.alg="RS256";break;case"SHA-384":h.alg="RS384";break;case"SHA-512":h.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}}const S=m.toJSON();Object.assign(h,S)}break;case"ECDSA":i=["verify"];case"ECDH":{if(h={kty:"EC",ext:s,key_ops:i},m.algorithm.algorithmId!=="1.2.840.10045.2.1")throw new Error(`Incorrect public key algorithm: ${m.algorithm.algorithmId}`);const S=m.toJSON();Object.assign(h,S)}break;case"RSA-OAEP":{if(h.kty="RSA",h.ext=s,h.key_ops=i,this.name.toLowerCase()==="safari")h.alg="RSA-OAEP";else{if(!p.hash)throw new vt("hash","algorithm.hash","Incorrect hash algorithm: Hash algorithm is missed");switch(p.hash.name.toUpperCase()){case"SHA-1":h.alg="RSA-OAEP";break;case"SHA-256":h.alg="RSA-OAEP-256";break;case"SHA-384":h.alg="RSA-OAEP-384";break;case"SHA-512":h.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${p.hash.name.toUpperCase()}`)}}const S=m.toJSON();Object.assign(h,S)}break;case"RSAES-PKCS1-V1_5":{h.kty="RSA",h.ext=s,h.key_ops=i,h.alg="PS1";const S=m.toJSON();Object.assign(h,S)}break;default:throw new Error(`Incorrect algorithm name: ${p.name.toUpperCase()}`)}}break;case"pkcs8":{const d=new js,m=Ar(ze.toArrayBuffer(r));le.assert(m,"keyData");try{d.fromSchema(m.result)}catch{throw new Error("Incorrect keyData")}if(!d.parsedKey)throw new Error("Incorrect keyData");switch(p.name.toUpperCase()){case"RSA-PSS":switch((a=p.hash)===null||a===void 0?void 0:a.name.toUpperCase()){case"SHA-1":h.alg="PS1";break;case"SHA-256":h.alg="PS256";break;case"SHA-384":h.alg="PS384";break;case"SHA-512":h.alg="PS512";break;default:throw new Error(`Incorrect hash algorithm: ${(o=p.hash)===null||o===void 0?void 0:o.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(i=["sign"],h.kty="RSA",h.ext=s,h.key_ops=i,d.privateKeyAlgorithm.algorithmId!=="1.2.840.113549.1.1.1")throw new Error(`Incorrect private key algorithm: ${d.privateKeyAlgorithm.algorithmId}`);if(!("alg"in h))switch((l=p.hash)===null||l===void 0?void 0:l.name.toUpperCase()){case"SHA-1":h.alg="RS1";break;case"SHA-256":h.alg="RS256";break;case"SHA-384":h.alg="RS384";break;case"SHA-512":h.alg="RS512";break;default:throw new Error(`Incorrect hash algorithm: ${(u=p.hash)===null||u===void 0?void 0:u.name.toUpperCase()}`)}const S=d.toJSON();Object.assign(h,S)}break;case"ECDSA":i=["sign"];case"ECDH":{if(h={kty:"EC",ext:s,key_ops:i},d.privateKeyAlgorithm.algorithmId!=="1.2.840.10045.2.1")throw new Error(`Incorrect algorithm: ${d.privateKeyAlgorithm.algorithmId}`);const S=d.toJSON();Object.assign(h,S)}break;case"RSA-OAEP":{if(h.kty="RSA",h.ext=s,h.key_ops=i,this.name.toLowerCase()==="safari")h.alg="RSA-OAEP";else switch((c=p.hash)===null||c===void 0?void 0:c.name.toUpperCase()){case"SHA-1":h.alg="RSA-OAEP";break;case"SHA-256":h.alg="RSA-OAEP-256";break;case"SHA-384":h.alg="RSA-OAEP-384";break;case"SHA-512":h.alg="RSA-OAEP-512";break;default:throw new Error(`Incorrect hash algorithm: ${(f=p.hash)===null||f===void 0?void 0:f.name.toUpperCase()}`)}const S=d.toJSON();Object.assign(h,S)}break;case"RSAES-PKCS1-V1_5":{i=["decrypt"],h.kty="RSA",h.ext=s,h.key_ops=i,h.alg="PS1";const S=d.toJSON();Object.assign(h,S)}break;default:throw new Error(`Incorrect algorithm name: ${p.name.toUpperCase()}`)}}break;case"jwk":h=r;break;default:throw new Error(`Incorrect format: ${e}`)}if(this.name.toLowerCase()==="safari")try{return this.subtle.importKey("jwk",hp(JSON.stringify(h)),n,s,i)}catch{return this.subtle.importKey("jwk",h,n,s,i)}return this.subtle.importKey("jwk",h,n,s,i)}async exportKey(e,r){let n=await this.subtle.exportKey("jwk",r);switch(this.name.toLowerCase()==="safari"&&n instanceof ArrayBuffer&&(n=JSON.parse(_v(n))),e.toLowerCase()){case"raw":return this.subtle.exportKey("raw",r);case"spki":{const s=new Wn;try{s.fromJSON(n)}catch{throw new Error("Incorrect key data")}return s.toSchema().toBER(!1)}case"pkcs8":{const s=new js;try{s.fromJSON(n)}catch{throw new Error("Incorrect key data")}return s.toSchema().toBER(!1)}case"jwk":return n;default:throw new Error(`Incorrect format: ${e}`)}}async convert(e,r,n,s,i,a){if(e.toLowerCase()===r.toLowerCase())return n;const o=await this.importKey(e,n,s,i,a);return this.exportKey(r,o)}getAlgorithmByOID(e,r=!1,n){switch(e){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}if(r)throw new Error(`Unsupported algorithm identifier ${n?`for ${n} `:A}: ${e}`);return{}}getOIDByAlgorithm(e,r=!1,n){let s=A;switch(e.name.toUpperCase()){case"RSAES-PKCS1-V1_5":s="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(e.hash.name.toUpperCase()){case"SHA-1":s="1.2.840.113549.1.1.5";break;case"SHA-256":s="1.2.840.113549.1.1.11";break;case"SHA-384":s="1.2.840.113549.1.1.12";break;case"SHA-512":s="1.2.840.113549.1.1.13";break}break;case"RSA-PSS":s="1.2.840.113549.1.1.10";break;case"RSA-OAEP":s="1.2.840.113549.1.1.7";break;case"ECDSA":switch(e.hash.name.toUpperCase()){case"SHA-1":s="1.2.840.10045.4.1";break;case"SHA-256":s="1.2.840.10045.4.3.2";break;case"SHA-384":s="1.2.840.10045.4.3.3";break;case"SHA-512":s="1.2.840.10045.4.3.4";break}break;case"ECDH":switch(e.kdf.toUpperCase()){case"SHA-1":s="1.3.133.16.840.63.0.2";break;case"SHA-256":s="1.3.132.1.11.1";break;case"SHA-384":s="1.3.132.1.11.2";break;case"SHA-512":s="1.3.132.1.11.3";break}break;case"AES-CTR":break;case"AES-CBC":switch(e.length){case 128:s="2.16.840.1.101.3.4.1.2";break;case 192:s="2.16.840.1.101.3.4.1.22";break;case 256:s="2.16.840.1.101.3.4.1.42";break}break;case"AES-CMAC":break;case"AES-GCM":switch(e.length){case 128:s="2.16.840.1.101.3.4.1.6";break;case 192:s="2.16.840.1.101.3.4.1.26";break;case 256:s="2.16.840.1.101.3.4.1.46";break}break;case"AES-CFB":switch(e.length){case 128:s="2.16.840.1.101.3.4.1.4";break;case 192:s="2.16.840.1.101.3.4.1.24";break;case 256:s="2.16.840.1.101.3.4.1.44";break}break;case"AES-KW":switch(e.length){case 128:s="2.16.840.1.101.3.4.1.5";break;case 192:s="2.16.840.1.101.3.4.1.25";break;case 256:s="2.16.840.1.101.3.4.1.45";break}break;case"HMAC":switch(e.hash.name.toUpperCase()){case"SHA-1":s="1.2.840.113549.2.7";break;case"SHA-256":s="1.2.840.113549.2.9";break;case"SHA-384":s="1.2.840.113549.2.10";break;case"SHA-512":s="1.2.840.113549.2.11";break}break;case"DH":s="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":s="1.3.14.3.2.26";break;case"SHA-256":s="2.16.840.1.101.3.4.2.1";break;case"SHA-384":s="2.16.840.1.101.3.4.2.2";break;case"SHA-512":s="2.16.840.1.101.3.4.2.3";break;case"CONCAT":break;case"HKDF":break;case"PBKDF2":s="1.2.840.113549.1.5.12";break;case"P-256":s="1.2.840.10045.3.1.7";break;case"P-384":s="1.3.132.0.34";break;case"P-521":s="1.3.132.0.35";break}if(!s&&r)throw new Error(`Unsupported algorithm ${n?`for ${n} `:A}: ${e.name}`);return s}getAlgorithmParameters(e,r){let n={algorithm:{},usages:[]};switch(e.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(r.toLowerCase()){case"generatekey":n={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":n={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(r.toLowerCase()){case"sign":case"verify":n={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":n={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":n={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;case"exportkey":default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(r.toLowerCase()){case"encrypt":case"decrypt":n={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":n={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":n={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;case"exportkey":default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(r.toLowerCase()){case"generatekey":n={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":n={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":n={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(r.toLowerCase()){case"exportkey":case"importkey":case"generatekey":n={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":n={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(r.toLowerCase()){case"importkey":case"exportkey":case"generatekey":n={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":n={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(r.toLowerCase()){case"importkey":case"exportkey":case"generatekey":n={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":n={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(r.toLowerCase()){case"importkey":case"exportkey":case"generatekey":n={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":n={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(r.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":n={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(r.toLowerCase()){case"sign":case"verify":n={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":n={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":switch(r.toLowerCase()){case"derivekey":n={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"HKDF"},usages:[]}}break;case"PBKDF2":switch(r.toLowerCase()){case"derivekey":n={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"PBKDF2"},usages:[]}}break}return n}getHashAlgorithm(e){let r=A;switch(e.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":r="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":r="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":r="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":r="SHA-512";break;case"1.2.840.113549.1.1.10":try{const n=new rn({schema:e.algorithmParams});if(n.hashAlgorithm){const s=this.getAlgorithmByOID(n.hashAlgorithm.algorithmId);if("name"in s)r=s.name;else return A}else r="SHA-1"}catch{}break}return r}async encryptEncryptedContentInfo(e){vt.assert(e,"password","contentEncryptionAlgorithm","hmacHashAlgorithm","iterationCount","contentToEncrypt","contentToEncrypt","contentType");const r=this.getOIDByAlgorithm(e.contentEncryptionAlgorithm,!0,"contentEncryptionAlgorithm"),n=this.getOIDByAlgorithm({name:"PBKDF2"},!0,"PBKDF2"),s=this.getOIDByAlgorithm({name:"HMAC",hash:{name:e.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),i=new ArrayBuffer(16),a=new Uint8Array(i);this.getRandomValues(a);const o=new ArrayBuffer(64),l=new Uint8Array(o);this.getRandomValues(l);const u=new Uint8Array(e.contentToEncrypt),c=new In({salt:new Ce({valueHex:o}),iterationCount:e.iterationCount,prf:new ae({algorithmId:s,algorithmParams:new Pr})}),f=new Uint8Array(e.password),h=await this.importKey("raw",f,"PBKDF2",!1,["deriveKey"]),p=await this.deriveKey({name:"PBKDF2",hash:{name:e.hmacHashAlgorithm},salt:l,iterations:e.iterationCount},h,e.contentEncryptionAlgorithm,!1,["encrypt"]),d=await this.encrypt({name:e.contentEncryptionAlgorithm.name,iv:a},p,u),m=new zc({keyDerivationFunc:new ae({algorithmId:n,algorithmParams:c.toSchema()}),encryptionScheme:new ae({algorithmId:r,algorithmParams:new Ce({valueHex:i})})});return new Dr({contentType:e.contentType,contentEncryptionAlgorithm:new ae({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:m.toSchema()}),encryptedContent:new Ce({valueHex:d})})}async decryptEncryptedContentInfo(e){if(vt.assert(e,"password","encryptedContentInfo"),e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId!=="1.2.840.113549.1.5.13")throw new Error(`Unknown "contentEncryptionAlgorithm": ${e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let r;try{r=new zc({schema:e.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbes2Parameters"')}let n;try{n=new In({schema:r.keyDerivationFunc.algorithmParams})}catch{throw new Error('Incorrectly encoded "pbkdf2Params"')}const s=this.getAlgorithmByOID(r.encryptionScheme.algorithmId,!0),i=r.encryptionScheme.algorithmParams.valueBlock.valueHex,a=new Uint8Array(i),o=n.salt.valueBlock.valueHex,l=new Uint8Array(o),u=n.iterationCount;let c="SHA-1";n.prf&&(c=this.getAlgorithmByOID(n.prf.algorithmId,!0).hash.name);const f=await this.importKey("raw",e.password,"PBKDF2",!1,["deriveKey"]),h=await this.deriveKey({name:"PBKDF2",hash:{name:c},salt:l,iterations:u},f,s,!1,["decrypt"]),p=e.encryptedContentInfo.getEncryptedContent();return this.decrypt({name:s.name,iv:a},h,p)}async stampDataWithPassword(e){if(!(e instanceof Object))throw new Error('Parameters must have type "Object"');vt.assert(e,"password","hashAlgorithm","iterationCount","salt","contentToStamp");let r;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":r=160;break;case"sha-256":r=256;break;case"sha-384":r=384;break;case"sha-512":r=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const n={name:"HMAC",length:r,hash:{name:e.hashAlgorithm}},s=await R_(this,e.hashAlgorithm,r,e.password,e.salt,e.iterationCount),i=await this.importKey("raw",new Uint8Array(s),n,!1,["sign"]);return this.sign(n,i,new Uint8Array(e.contentToStamp))}async verifyDataStampedWithPassword(e){vt.assert(e,"password","hashAlgorithm","salt","iterationCount","contentToVerify","signatureToVerify");let r=0;switch(e.hashAlgorithm.toLowerCase()){case"sha-1":r=160;break;case"sha-256":r=256;break;case"sha-384":r=384;break;case"sha-512":r=512;break;default:throw new Error(`Incorrect "parameters.hashAlgorithm" parameter: ${e.hashAlgorithm}`)}const n={name:"HMAC",length:r,hash:{name:e.hashAlgorithm}},s=await R_(this,e.hashAlgorithm,r,e.password,e.salt,e.iterationCount),i=await this.importKey("raw",new Uint8Array(s),n,!1,["verify"]);return this.verify(n,i,new Uint8Array(e.signatureToVerify),new Uint8Array(e.contentToVerify))}async getSignatureParameters(e,r="SHA-1"){this.getOIDByAlgorithm({name:r},!0,"hashAlgorithm");const n=new ae,s=this.getAlgorithmParameters(e.algorithm.name,"sign");if(!Object.keys(s.algorithm).length)throw new Error("Parameter 'algorithm' is empty");const i=s.algorithm;switch(i.hash.name=r,e.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":n.algorithmId=this.getOIDByAlgorithm(i,!0);break;case"RSA-PSS":{switch(r.toUpperCase()){case"SHA-256":i.saltLength=32;break;case"SHA-384":i.saltLength=48;break;case"SHA-512":i.saltLength=64;break}const a={};if(r.toUpperCase()!=="SHA-1"){const l=this.getOIDByAlgorithm({name:r},!0,"hashAlgorithm");a.hashAlgorithm=new ae({algorithmId:l,algorithmParams:new Pr}),a.maskGenAlgorithm=new ae({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:a.hashAlgorithm.toSchema()})}i.saltLength!==20&&(a.saltLength=i.saltLength);const o=new rn(a);n.algorithmId="1.2.840.113549.1.1.10",n.algorithmParams=o.toSchema()}break;default:throw new Error(`Unsupported signature algorithm: ${e.algorithm.name}`)}return{signatureAlgorithm:n,parameters:s}}async signWithPrivateKey(e,r,n){const s=await this.sign(n.algorithm,r,e);return n.algorithm.name==="ECDSA"?jle(s):s}fillPublicKeyParameters(e,r){const n={},s=this.getHashAlgorithm(r);if(s===A)throw new Error(`Unsupported signature algorithm: ${r.algorithmId}`);let i;r.algorithmId==="1.2.840.113549.1.1.10"?i=r.algorithmId:i=e.algorithm.algorithmId;const a=this.getAlgorithmByOID(i,!0);if(n.algorithm=this.getAlgorithmParameters(a.name,"importKey"),"hash"in n.algorithm.algorithm&&(n.algorithm.algorithm.hash.name=s),a.name==="ECDSA"){const o=e.algorithm;if(!o.algorithmParams)throw new Error("Algorithm parameters for ECDSA public key are missed");const l=o.algorithmParams;if("idBlock"in o.algorithmParams&&!(l.idBlock.tagClass===1&&l.idBlock.tagNumber===6))throw new Error("Incorrect type for ECDSA public key parameters");const u=this.getAlgorithmByOID(l.valueBlock.toString(),!0);n.algorithm.algorithm.namedCurve=u.name}return n}async getPublicKey(e,r,n){n||(n=this.fillPublicKeyParameters(e,r));const s=e.toSchema().toBER(!1);return this.importKey("spki",s,n.algorithm.algorithm,!0,n.algorithm.usages)}async verifyWithPublicKey(e,r,n,s,i){let a;if(i){const u={};let c;s.algorithmId==="1.2.840.113549.1.1.10"?c=s.algorithmId:c=n.algorithm.algorithmId;const f=this.getAlgorithmByOID(c,!0);if(u.algorithm=this.getAlgorithmParameters(f.name,"importKey"),"hash"in u.algorithm.algorithm&&(u.algorithm.algorithm.hash.name=i),f.name==="ECDSA"){let h=!1;if("algorithmParams"in n.algorithm&&"idBlock"in n.algorithm.algorithmParams&&n.algorithm.algorithmParams.idBlock.tagClass===1&&n.algorithm.algorithmParams.idBlock.tagNumber===6&&(h=!0),h===!1)throw new Error("Incorrect type for ECDSA public key parameters");const p=this.getAlgorithmByOID(n.algorithm.algorithmParams.valueBlock.toString(),!0);u.algorithm.algorithm.namedCurve=p.name}a=await this.getPublicKey(n,null,u)}else{if(i=this.getHashAlgorithm(s),!i)throw new Error(`Unsupported signature algorithm: ${s.algorithmId}`);a=await this.getPublicKey(n,s)}const o=this.getAlgorithmParameters(a.algorithm.name,"verify");"hash"in o.algorithm&&(o.algorithm.hash.name=i);let l=r.valueBlock.valueHexView;if(a.algorithm.name==="ECDSA"){const u=Hl.find(a.algorithm.namedCurve);if(!u)throw new Error("Unsupported named curve in use");const c=Ar(l);le.assert(c,"Signature value"),l=zle(c.result,u.size)}if(a.algorithm.name==="RSA-PSS"){const u=new rn({schema:s.algorithmParams});"saltLength"in u?o.algorithm.saltLength=u.saltLength:o.algorithm.saltLength=20;let c="SHA-1";"hashAlgorithm"in u&&(c=this.getAlgorithmByOID(u.hashAlgorithm.algorithmId,!0).name),o.algorithm.hash.name=c}return this.verify(o.algorithm,a,l,e)}}let Y5={name:"none",crypto:null};function B_(t){return!!(t&&typeof t=="object"&&"crypto"in t)}function __(t,...e){let r=null;if(e.length<2)e.length?r=e[0]:r=typeof self<"u"&&self.crypto?new bw({name:"browser",crypto:self.crypto}):null;else{const n=e[0],s=e[1];B_(s)?r=s:B_(n)?r=n:"subtle"in n&&"getRandomValues"in n&&(r=new bw({crypto:n}))}if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if(typeof global[process.pid]!="object")throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if(typeof global[process.pid].pkijs!="object")throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:t,crypto:r}}else Y5={name:t,crypto:r}}function Kle(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let t;try{t=global[process.pid].pkijs.engine}catch{throw new Error("Please call 'setEngine' before call to 'getEngine'")}return t}return Y5}function st(t=!1){const e=Kle();if(!e.crypto&&t)throw new Error("Unable to create WebCrypto object");return e.crypto}function jle(t){if(t.byteLength%2!==0)return Hr;const e=t.byteLength/2,r=new ArrayBuffer(e);new Uint8Array(r).set(new Uint8Array(t,0,e));const s=new se({valueHex:r}),i=new ArrayBuffer(e);new Uint8Array(i).set(new Uint8Array(t,e,e));const o=new se({valueHex:i});return new _({value:[s.convertToDER(),o.convertToDER()]}).toBER(!1)}function zle(t,e){if(!(t instanceof _&&t.valueBlock.value.length===2&&t.valueBlock.value[0]instanceof se&&t.valueBlock.value[1]instanceof se))return Hr;const r=t.valueBlock.value[0].convertFromDER().valueBlock.valueHexView,n=t.valueBlock.value[1].convertFromDER().valueBlock.valueHexView,s=new Uint8Array(e*2);return s.set(r,e-r.byteLength),s.set(n,2*e-n.byteLength),s.buffer}async function Wle(t,e,r,n,s){switch(t.toUpperCase()){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;default:throw new Ht(`Unknown hash function: ${t}`)}if(Ht.assert(e,"zBuffer","ArrayBuffer"),e.byteLength===0)throw new Ht("'zBuffer' has zero length, error");if(Ht.assert(n,"SharedInfo","ArrayBuffer"),r>255)throw new Ht("Please set 'Counter' argument to value less or equal to 255");const i=new ArrayBuffer(4),a=new Uint8Array(i);a[0]=0,a[1]=0,a[2]=0,a[3]=r;let o=Hr;o=Ld(o,e),o=Ld(o,i),o=Ld(o,n);const l=await s.digest({name:t},o);return{counter:r,result:l}}async function P_(t,e,r,n,s=st(!0)){let i=0,a=1;switch(t.toUpperCase()){case"SHA-1":i=160;break;case"SHA-256":i=256;break;case"SHA-384":i=384;break;case"SHA-512":i=512;break;default:throw new Ht(`Unknown hash function: ${t}`)}if(Ht.assert(e,"Zbuffer","ArrayBuffer"),e.byteLength===0)throw new Ht("'Zbuffer' has zero length, error");Ht.assert(n,"SharedInfo","ArrayBuffer");const o=r/i;Math.floor(o)>0&&(a=Math.floor(o),o-a>0&&a++);const l=[];for(let h=1;h<=a;h++)l.push(await Wle(t,e,h,n,s));let u=Hr,c=1,f=!0;for(;f;){f=!1;for(const h of l)if(h.counter===c){u=Ld(u,h.result),f=!0;break}c++}if(r>>=3,u.byteLength>r){const h=new ArrayBuffer(r),p=new Uint8Array(h),d=new Uint8Array(u);for(let m=0;m<r;m++)p[m]=d[m];return h}return u}const Ub="version",Mb="logID",$b="extensions",Fb="timestamp",Hb="hashAlgorithm",Kb="signatureAlgorithm",jb="signature",O_="none",L_="md5",V_="sha1",D_="sha224",U_="sha256",M_="sha384",$_="sha512",F_="anonymous",H_="rsa",K_="dsa",j_="ecdsa";class Hi extends de{constructor(e={}){super(),this.version=w(e,Ub,Hi.defaultValues(Ub)),this.logID=w(e,Mb,Hi.defaultValues(Mb)),this.timestamp=w(e,Fb,Hi.defaultValues(Fb)),this.extensions=w(e,$b,Hi.defaultValues($b)),this.hashAlgorithm=w(e,Hb,Hi.defaultValues(Hb)),this.signatureAlgorithm=w(e,Kb,Hi.defaultValues(Kb)),this.signature=w(e,jb,Hi.defaultValues(jb)),"stream"in e&&e.stream&&this.fromStream(e.stream),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ub:return 0;case Mb:case $b:return Hr;case Fb:return new Date(0);case Hb:case Kb:return A;case jb:return new Ye;default:return super.defaultValues(e)}}fromSchema(e){if(!(e instanceof Ew))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const r=new Fl({stream:new vr({buffer:e.data})});this.fromStream(r)}fromStream(e){const r=e.getUint16();if(this.version=e.getBlock(1)[0],this.version===0){this.logID=new Uint8Array(e.getBlock(32)).buffer.slice(0),this.timestamp=new Date(of(new Uint8Array(e.getBlock(8)),8));const n=e.getUint16();switch(this.extensions=new Uint8Array(e.getBlock(n)).buffer.slice(0),e.getBlock(1)[0]){case 0:this.hashAlgorithm=O_;break;case 1:this.hashAlgorithm=L_;break;case 2:this.hashAlgorithm=V_;break;case 3:this.hashAlgorithm=D_;break;case 4:this.hashAlgorithm=U_;break;case 5:this.hashAlgorithm=M_;break;case 6:this.hashAlgorithm=$_;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(e.getBlock(1)[0]){case 0:this.signatureAlgorithm=F_;break;case 1:this.signatureAlgorithm=H_;break;case 2:this.signatureAlgorithm=K_;break;case 3:this.signatureAlgorithm=j_;break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const s=e.getUint16(),i=new Uint8Array(e.getBlock(s)).buffer.slice(0),a=Ar(i);if(le.assert(a,"SignedCertificateTimestamp"),this.signature=a.result,r!==47+n+s)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const e=this.toStream();return new Ew({data:e.stream.buffer})}toStream(){const e=new Fl;e.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecodeView.byteLength),e.appendChar(this.version),e.appendView(new Uint8Array(this.logID));const r=new ArrayBuffer(8),n=new Uint8Array(r),s=no(this.timestamp.valueOf(),8);n.set(new Uint8Array(s),8-s.byteLength),e.appendView(n),e.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&e.appendView(new Uint8Array(this.extensions));let i;switch(this.hashAlgorithm.toLowerCase()){case O_:i=0;break;case L_:i=1;break;case V_:i=2;break;case D_:i=3;break;case U_:i=4;break;case M_:i=5;break;case $_:i=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}e.appendChar(i);let a;switch(this.signatureAlgorithm.toLowerCase()){case F_:a=0;break;case H_:a=1;break;case K_:a=2;break;case j_:a=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}e.appendChar(a);const o=this.signature.toBER(!1);return e.appendUint16(o.byteLength),e.appendView(new Uint8Array(o)),e}toJSON(){return{version:this.version,logID:w_(this.logID),timestamp:this.timestamp,extensions:w_(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}async verify(e,r,n=0,s=st(!0)){const i=ww(_v(this.logID));let a=null;const o=new Fl;for(const p of e)if(p.log_id===i){a=p.key;break}if(!a)throw new Error(`Public key not found for CT with logId: ${i}`);const l=hp(Bv(a)),u=Wn.fromBER(l);o.appendChar(0),o.appendChar(0);const c=new ArrayBuffer(8),f=new Uint8Array(c),h=no(this.timestamp.valueOf(),8);return f.set(new Uint8Array(h),8-h.byteLength),o.appendView(f),o.appendUint16(n),n===0&&o.appendUint24(r.byteLength),o.appendView(new Uint8Array(r)),o.appendUint16(this.extensions.byteLength),this.extensions.byteLength!==0&&o.appendView(new Uint8Array(this.extensions)),s.verifyWithPublicKey(o.buffer.slice(0,o.length),new Ce({valueHex:this.signature.toBER(!1)}),u,{algorithmId:A},"SHA-256")}}Hi.CLASS_NAME="SignedCertificateTimestamp";const s1="timestamps";class EE extends de{constructor(e={}){super(),this.timestamps=w(e,s1,EE.defaultValues(s1)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case s1:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case s1:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){var r;const n=w(e,"names",{});return(r=n.optional)!==null&&r!==void 0||(n.optional=!1),new Ce({name:n.blockName||"SignedCertificateTimestampList",optional:n.optional})}fromSchema(e){if(!(e instanceof Ce))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const r=new Fl({stream:new vr({buffer:e.valueBlock.valueHex})});if(r.getUint16()!==r.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;r.length;)this.timestamps.push(new Hi({stream:r}))}toSchema(){const e=new Fl;let r=0;const n=[];for(const s of this.timestamps){const i=s.toStream();n.push(i),r+=i.stream.buffer.byteLength}e.appendUint16(r);for(const s of n)e.appendView(s.stream.view);return new Ce({valueHex:e.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,e=>e.toJSON())}}}EE.CLASS_NAME="SignedCertificateTimestampList";const wm="attributes",Gle=[wm];class Fv extends de{constructor(e={}){super(),this.attributes=w(e,wm,Fv.defaultValues(wm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case wm:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.attributes||A,value:ir.schema()})]})}fromSchema(e){ge(e,Gle);const r=pe(e,e,Fv.schema({names:{attributes:wm}}));le.assertSchema(r,this.className),this.attributes=Array.from(r.result.attributes,n=>new ir({schema:n}))}toSchema(){return new _({value:Array.from(this.attributes,e=>e.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,e=>e.toJSON())}}}Fv.CLASS_NAME="SubjectDirectoryAttributes";class mr{static getItems(){return this.types||(this.types={},mr.register(O5,"SubjectAltName",pp),mr.register(L5,"IssuerAltName",pp),mr.register(cT,"AuthorityKeyIdentifier",Al),mr.register(lT,"BasicConstraints",Mc),mr.register(ule,"MicrosoftCaVersion",Dv),mr.register($5,"CertificatePolicies",mp),mr.register(nle,"CertificatePoliciesMicrosoft",mp),mr.register(lle,"MicrosoftCertTemplateV2",bd),mr.register(M5,"CRLDistributionPoints",gp),mr.register(uT,"FreshestCRL",gp),mr.register(sle,"ExtKeyUsage",Uv),mr.register(D5,"CertificateIssuer",qr),mr.register(fT,"AuthorityInfoAccess",vp),mr.register(ale,"SubjectInfoAccess",vp),mr.register(V5,"IssuingDistributionPoint",tn),mr.register(U5,"NameConstraints",Dd),mr.register(H5,"PolicyConstraints",Ud),mr.register(F5,"PolicyMappings",Mv),mr.register(Xoe,"PrivateKeyUsagePeriod",Md),mr.register(cle,"QCStatements",$v),mr.register(ole,"SignedCertificateTimestampList",EE),mr.register(Joe,"SubjectDirectoryAttributes",Fv)),this.types}static fromBER(e,r){const n=Ar(r);if(n.offset===-1)return null;const s=this.find(e);if(s)try{return new s.type({schema:n.result})}catch{const a=new s.type;return a.parsingError=`Incorrectly formatted value of extension ${s.name} (${e})`,a}return n.result}static find(e){return this.getItems()[e]||null}static register(e,r,n){this.getItems()[e]={name:r,type:n}}}const Cm="extnID",Uo="critical",Em="extnValue",i1="parsedValue",qle=[Cm,Uo,Em];class Ur extends de{constructor(e={}){super(),this.extnID=w(e,Cm,Ur.defaultValues(Cm)),this.critical=w(e,Uo,Ur.defaultValues(Uo)),Em in e?this.extnValue=new Ce({valueHex:e.extnValue}):this.extnValue=Ur.defaultValues(Em),i1 in e&&(this.parsedValue=w(e,i1,Ur.defaultValues(i1))),e.schema&&this.fromSchema(e.schema)}get parsedValue(){if(this._parsedValue===void 0){const e=mr.fromBER(this.extnID,this.extnValue.valueBlock.valueHexView);this._parsedValue=e}return this._parsedValue||void 0}set parsedValue(e){this._parsedValue=e}static defaultValues(e){switch(e){case Cm:return A;case Uo:return!1;case Em:return new Ce;case i1:return{};default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.extnID||A}),new fa({name:r.critical||A,optional:!0}),new Ce({name:r.extnValue||A})]})}fromSchema(e){ge(e,qle);const r=pe(e,e,Ur.schema({names:{extnID:Cm,critical:Uo,extnValue:Em}}));le.assertSchema(r,this.className),this.extnID=r.result.extnID.valueBlock.toString(),Uo in r.result&&(this.critical=r.result.critical.valueBlock.value),this.extnValue=r.result.extnValue}toSchema(){const e=[];return e.push(new Oe({value:this.extnID})),this.critical!==Ur.defaultValues(Uo)&&e.push(new fa({value:this.critical})),e.push(this.extnValue),new _({value:e})}toJSON(){const e={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==Ur.defaultValues(Uo)&&(e.critical=this.critical),this.parsedValue&&this.parsedValue.toJSON&&(e.parsedValue=this.parsedValue.toJSON()),e}}Ur.CLASS_NAME="Extension";const bm="extensions",Jle=[bm];class Kr extends de{constructor(e={}){super(),this.extensions=w(e,bm,Kr.defaultValues(bm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case bm:return[];default:return super.defaultValues(e)}}static schema(e={},r=!1){const n=w(e,"names",{});return new _({optional:r,name:n.blockName||A,value:[new rt({name:n.extensions||A,value:Ur.schema(n.extension||{})})]})}fromSchema(e){ge(e,Jle);const r=pe(e,e,Kr.schema({names:{extensions:bm}}));le.assertSchema(r,this.className),this.extensions=Array.from(r.result.extensions,n=>new Ur({schema:n}))}toSchema(){return new _({value:Array.from(this.extensions,e=>e.toSchema())})}toJSON(){return{extensions:this.extensions.map(e=>e.toJSON())}}}Kr.CLASS_NAME="Extensions";const xm="issuer",Am="serialNumber",Nu="issuerUID",Yle=[xm,Am,Nu];class Kn extends de{constructor(e={}){super(),this.issuer=w(e,xm,Kn.defaultValues(xm)),this.serialNumber=w(e,Am,Kn.defaultValues(Am)),Nu in e&&(this.issuerUID=w(e,Nu,Kn.defaultValues(Nu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xm:return new qr;case Am:return new se;case Nu:return new dt;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[qr.schema(r.issuer||{}),new se({name:r.serialNumber||A}),new dt({optional:!0,name:r.issuerUID||A})]})}fromSchema(e){ge(e,Yle);const r=pe(e,e,Kn.schema({names:{issuer:{names:{blockName:xm}},serialNumber:Am,issuerUID:Nu}}));le.assertSchema(r,this.className),this.issuer=new qr({schema:r.result.issuer}),this.serialNumber=r.result.serialNumber,Nu in r.result&&(this.issuerUID=r.result.issuerUID)}toSchema(){const e=new _({value:[this.issuer.toSchema(),this.serialNumber]});return this.issuerUID&&e.valueBlock.value.push(this.issuerUID),e}toJSON(){const e={issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()};return this.issuerUID&&(e.issuerUID=this.issuerUID.toJSON()),e}}Kn.CLASS_NAME="IssuerSerial";const km="version",Ru="baseCertificateID",Bu="subjectName",Im="issuer",Tm="signature",Nm="serialNumber",Rm="attrCertValidityPeriod",Bm="attributes",_u="issuerUniqueID",Pu="extensions",Qle=[km,Ru,Bu,Im,Tm,Nm,Rm,Bm,_u,Pu];class kn extends de{constructor(e={}){super(),this.version=w(e,km,kn.defaultValues(km)),Ru in e&&(this.baseCertificateID=w(e,Ru,kn.defaultValues(Ru))),Bu in e&&(this.subjectName=w(e,Bu,kn.defaultValues(Bu))),this.issuer=w(e,Im,kn.defaultValues(Im)),this.signature=w(e,Tm,kn.defaultValues(Tm)),this.serialNumber=w(e,Nm,kn.defaultValues(Nm)),this.attrCertValidityPeriod=w(e,Rm,kn.defaultValues(Rm)),this.attributes=w(e,Bm,kn.defaultValues(Bm)),_u in e&&(this.issuerUniqueID=w(e,_u,kn.defaultValues(_u))),Pu in e&&(this.extensions=w(e,Pu,kn.defaultValues(Pu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case km:return 0;case Ru:return new Kn;case Bu:return new qr;case Im:return new qr;case Tm:return new ae;case Nm:return new se;case Rm:return new Ni;case Bm:return[];case _u:return new dt;case Pu:return new Kr;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),new dr({value:[new W({name:r.baseCertificateID||A,idBlock:{tagClass:3,tagNumber:0},value:Kn.schema().valueBlock.value}),new W({name:r.subjectName||A,idBlock:{tagClass:3,tagNumber:1},value:qr.schema().valueBlock.value})]}),qr.schema({names:{blockName:r.issuer||A}}),ae.schema(r.signature||{}),new se({name:r.serialNumber||A}),Ni.schema(r.attrCertValidityPeriod||{}),new _({name:r.attributes||A,value:[new rt({value:ir.schema()})]}),new dt({optional:!0,name:r.issuerUniqueID||A}),Kr.schema(r.extensions||{},!0)]})}fromSchema(e){ge(e,Qle);const r=pe(e,e,kn.schema({names:{version:km,baseCertificateID:Ru,subjectName:Bu,issuer:Im,signature:{names:{blockName:Tm}},serialNumber:Nm,attrCertValidityPeriod:{names:{blockName:Rm}},attributes:Bm,issuerUniqueID:_u,extensions:{names:{blockName:Pu}}}}));le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,Ru in r.result&&(this.baseCertificateID=new Kn({schema:new _({value:r.result.baseCertificateID.valueBlock.value})})),Bu in r.result&&(this.subjectName=new qr({schema:new _({value:r.result.subjectName.valueBlock.value})})),this.issuer=r.result.issuer,this.signature=new ae({schema:r.result.signature}),this.serialNumber=r.result.serialNumber,this.attrCertValidityPeriod=new Ni({schema:r.result.attrCertValidityPeriod}),this.attributes=Array.from(r.result.attributes.valueBlock.value,n=>new ir({schema:n})),_u in r.result&&(this.issuerUniqueID=r.result.issuerUniqueID),Pu in r.result&&(this.extensions=new Kr({schema:r.result.extensions}))}toSchema(){const e=new _({value:[new se({value:this.version})]});return this.baseCertificateID&&e.valueBlock.value.push(new W({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.subjectName&&e.valueBlock.value.push(new W({idBlock:{tagClass:3,tagNumber:1},value:this.subjectName.toSchema().valueBlock.value})),e.valueBlock.value.push(this.issuer.toSchema()),e.valueBlock.value.push(this.signature.toSchema()),e.valueBlock.value.push(this.serialNumber),e.valueBlock.value.push(this.attrCertValidityPeriod.toSchema()),e.valueBlock.value.push(new _({value:Array.from(this.attributes,r=>r.toSchema())})),this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){const e={version:this.version};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.subjectName&&(e.subjectName=this.subjectName.toJSON()),e.issuer=this.issuer.toJSON(),e.signature=this.signature.toJSON(),e.serialNumber=this.serialNumber.toJSON(),e.attrCertValidityPeriod=this.attrCertValidityPeriod.toJSON(),e.attributes=Array.from(this.attributes,r=>r.toJSON()),this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}}kn.CLASS_NAME="AttributeCertificateInfoV1";const _m="acinfo",Pm="signatureAlgorithm",Om="signatureValue",Xle=[_m,Om,Pm];class Ma extends de{constructor(e={}){super(),this.acinfo=w(e,_m,Ma.defaultValues(_m)),this.signatureAlgorithm=w(e,Pm,Ma.defaultValues(Pm)),this.signatureValue=w(e,Om,Ma.defaultValues(Om)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case _m:return new kn;case Pm:return new ae;case Om:return new dt;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[kn.schema(r.acinfo||{}),ae.schema(r.signatureAlgorithm||{}),new dt({name:r.signatureValue||A})]})}fromSchema(e){ge(e,Xle);const r=pe(e,e,Ma.schema({names:{acinfo:{names:{blockName:_m}},signatureAlgorithm:{names:{blockName:Pm}},signatureValue:Om}}));le.assertSchema(r,this.className),this.acinfo=new kn({schema:r.result.acinfo}),this.signatureAlgorithm=new ae({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}toSchema(){return new _({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}Ma.CLASS_NAME="AttributeCertificateV1";const Lm="digestedObjectType",Ou="otherObjectTypeID",Vm="digestAlgorithm",Dm="objectDigest",Zle=[Lm,Ou,Vm,Dm];class As extends de{constructor(e={}){super(),this.digestedObjectType=w(e,Lm,As.defaultValues(Lm)),Ou in e&&(this.otherObjectTypeID=w(e,Ou,As.defaultValues(Ou))),this.digestAlgorithm=w(e,Vm,As.defaultValues(Vm)),this.objectDigest=w(e,Dm,As.defaultValues(Dm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Lm:return new lf;case Ou:return new Oe;case Vm:return new ae;case Dm:return new dt;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new lf({name:r.digestedObjectType||A}),new Oe({optional:!0,name:r.otherObjectTypeID||A}),ae.schema(r.digestAlgorithm||{}),new dt({name:r.objectDigest||A})]})}fromSchema(e){ge(e,Zle);const r=pe(e,e,As.schema({names:{digestedObjectType:Lm,otherObjectTypeID:Ou,digestAlgorithm:{names:{blockName:Vm}},objectDigest:Dm}}));le.assertSchema(r,this.className),this.digestedObjectType=r.result.digestedObjectType,Ou in r.result&&(this.otherObjectTypeID=r.result.otherObjectTypeID),this.digestAlgorithm=new ae({schema:r.result.digestAlgorithm}),this.objectDigest=r.result.objectDigest}toSchema(){const e=new _({value:[this.digestedObjectType]});return this.otherObjectTypeID&&e.valueBlock.value.push(this.otherObjectTypeID),e.valueBlock.value.push(this.digestAlgorithm.toSchema()),e.valueBlock.value.push(this.objectDigest),e}toJSON(){const e={digestedObjectType:this.digestedObjectType.toJSON(),digestAlgorithm:this.digestAlgorithm.toJSON(),objectDigest:this.objectDigest.toJSON()};return this.otherObjectTypeID&&(e.otherObjectTypeID=this.otherObjectTypeID.toJSON()),e}}As.CLASS_NAME="ObjectDigestInfo";const Lu="issuerName",Vu="baseCertificateID",Du="objectDigestInfo",eue=[Lu,Vu,Du];class Il extends de{constructor(e={}){super(),Lu in e&&(this.issuerName=w(e,Lu,Il.defaultValues(Lu))),Vu in e&&(this.baseCertificateID=w(e,Vu,Il.defaultValues(Vu))),Du in e&&(this.objectDigestInfo=w(e,Du,Il.defaultValues(Du))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Lu:return new qr;case Vu:return new Kn;case Du:return new As;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[qr.schema({names:{blockName:r.issuerName}},!0),new W({optional:!0,name:r.baseCertificateID||A,idBlock:{tagClass:3,tagNumber:0},value:Kn.schema().valueBlock.value}),new W({optional:!0,name:r.objectDigestInfo||A,idBlock:{tagClass:3,tagNumber:1},value:As.schema().valueBlock.value})]})}fromSchema(e){ge(e,eue);const r=pe(e,e,Il.schema({names:{issuerName:Lu,baseCertificateID:Vu,objectDigestInfo:Du}}));le.assertSchema(r,this.className),Lu in r.result&&(this.issuerName=new qr({schema:r.result.issuerName})),Vu in r.result&&(this.baseCertificateID=new Kn({schema:new _({value:r.result.baseCertificateID.valueBlock.value})})),Du in r.result&&(this.objectDigestInfo=new As({schema:new _({value:r.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const e=new _;return this.issuerName&&e.valueBlock.value.push(this.issuerName.toSchema()),this.baseCertificateID&&e.valueBlock.value.push(new W({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new W({idBlock:{tagClass:3,tagNumber:1},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){const e={};return this.issuerName&&(e.issuerName=this.issuerName.toJSON()),this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}Il.CLASS_NAME="V2Form";const Uu="baseCertificateID",Mu="entityName",$u="objectDigestInfo",tue=[Uu,Mu,$u];class $a extends de{constructor(e={}){super(),Uu in e&&(this.baseCertificateID=w(e,Uu,$a.defaultValues(Uu))),Mu in e&&(this.entityName=w(e,Mu,$a.defaultValues(Mu))),$u in e&&(this.objectDigestInfo=w(e,$u,$a.defaultValues($u))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Uu:return new Kn;case Mu:return new qr;case $u:return new As;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new W({optional:!0,name:r.baseCertificateID||A,idBlock:{tagClass:3,tagNumber:0},value:Kn.schema().valueBlock.value}),new W({optional:!0,name:r.entityName||A,idBlock:{tagClass:3,tagNumber:1},value:qr.schema().valueBlock.value}),new W({optional:!0,name:r.objectDigestInfo||A,idBlock:{tagClass:3,tagNumber:2},value:As.schema().valueBlock.value})]})}fromSchema(e){ge(e,tue);const r=pe(e,e,$a.schema({names:{baseCertificateID:Uu,entityName:Mu,objectDigestInfo:$u}}));le.assertSchema(r,this.className),Uu in r.result&&(this.baseCertificateID=new Kn({schema:new _({value:r.result.baseCertificateID.valueBlock.value})})),Mu in r.result&&(this.entityName=new qr({schema:new _({value:r.result.entityName.valueBlock.value})})),$u in r.result&&(this.objectDigestInfo=new As({schema:new _({value:r.result.objectDigestInfo.valueBlock.value})}))}toSchema(){const e=new _;return this.baseCertificateID&&e.valueBlock.value.push(new W({idBlock:{tagClass:3,tagNumber:0},value:this.baseCertificateID.toSchema().valueBlock.value})),this.entityName&&e.valueBlock.value.push(new W({idBlock:{tagClass:3,tagNumber:1},value:this.entityName.toSchema().valueBlock.value})),this.objectDigestInfo&&e.valueBlock.value.push(new W({idBlock:{tagClass:3,tagNumber:2},value:this.objectDigestInfo.toSchema().valueBlock.value})),e}toJSON(){const e={};return this.baseCertificateID&&(e.baseCertificateID=this.baseCertificateID.toJSON()),this.entityName&&(e.entityName=this.entityName.toJSON()),this.objectDigestInfo&&(e.objectDigestInfo=this.objectDigestInfo.toJSON()),e}}$a.CLASS_NAME="Holder";const Um="version",Mm="holder",$m="issuer",Fm="signature",Hm="serialNumber",Km="attrCertValidityPeriod",jm="attributes",Fu="issuerUniqueID",Hu="extensions",rue=[Um,Mm,$m,Fm,Hm,Km,jm,Fu,Hu];class Ln extends de{constructor(e={}){super(),this.version=w(e,Um,Ln.defaultValues(Um)),this.holder=w(e,Mm,Ln.defaultValues(Mm)),this.issuer=w(e,$m,Ln.defaultValues($m)),this.signature=w(e,Fm,Ln.defaultValues(Fm)),this.serialNumber=w(e,Hm,Ln.defaultValues(Hm)),this.attrCertValidityPeriod=w(e,Km,Ln.defaultValues(Km)),this.attributes=w(e,jm,Ln.defaultValues(jm)),Fu in e&&(this.issuerUniqueID=w(e,Fu,Ln.defaultValues(Fu))),Hu in e&&(this.extensions=w(e,Hu,Ln.defaultValues(Hu))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Um:return 1;case Mm:return new $a;case $m:return{};case Fm:return new ae;case Hm:return new se;case Km:return new Ni;case jm:return[];case Fu:return new dt;case Hu:return new Kr;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),$a.schema(r.holder||{}),new dr({value:[qr.schema({names:{blockName:r.issuer||A}}),new W({name:r.issuer||A,idBlock:{tagClass:3,tagNumber:0},value:Il.schema().valueBlock.value})]}),ae.schema(r.signature||{}),new se({name:r.serialNumber||A}),Ni.schema(r.attrCertValidityPeriod||{}),new _({name:r.attributes||A,value:[new rt({value:ir.schema()})]}),new dt({optional:!0,name:r.issuerUniqueID||A}),Kr.schema(r.extensions||{},!0)]})}fromSchema(e){ge(e,rue);const r=pe(e,e,Ln.schema({names:{version:Um,holder:{names:{blockName:Mm}},issuer:$m,signature:{names:{blockName:Fm}},serialNumber:Hm,attrCertValidityPeriod:{names:{blockName:Km}},attributes:jm,issuerUniqueID:Fu,extensions:{names:{blockName:Hu}}}}));switch(le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,this.holder=new $a({schema:r.result.holder}),r.result.issuer.idBlock.tagClass){case 3:this.issuer=new Il({schema:new _({value:r.result.issuer.valueBlock.value})});break;case 1:default:throw new Error("Incorrect value for 'issuer' in AttributeCertificateInfoV2")}this.signature=new ae({schema:r.result.signature}),this.serialNumber=r.result.serialNumber,this.attrCertValidityPeriod=new Ni({schema:r.result.attrCertValidityPeriod}),this.attributes=Array.from(r.result.attributes.valueBlock.value,n=>new ir({schema:n})),Fu in r.result&&(this.issuerUniqueID=r.result.issuerUniqueID),Hu in r.result&&(this.extensions=new Kr({schema:r.result.extensions}))}toSchema(){const e=new _({value:[new se({value:this.version}),this.holder.toSchema(),new W({idBlock:{tagClass:3,tagNumber:0},value:this.issuer.toSchema().valueBlock.value}),this.signature.toSchema(),this.serialNumber,this.attrCertValidityPeriod.toSchema(),new _({value:Array.from(this.attributes,r=>r.toSchema())})]});return this.issuerUniqueID&&e.valueBlock.value.push(this.issuerUniqueID),this.extensions&&e.valueBlock.value.push(this.extensions.toSchema()),e}toJSON(){const e={version:this.version,holder:this.holder.toJSON(),issuer:this.issuer.toJSON(),signature:this.signature.toJSON(),serialNumber:this.serialNumber.toJSON(),attrCertValidityPeriod:this.attrCertValidityPeriod.toJSON(),attributes:Array.from(this.attributes,r=>r.toJSON())};return this.issuerUniqueID&&(e.issuerUniqueID=this.issuerUniqueID.toJSON()),this.extensions&&(e.extensions=this.extensions.toJSON()),e}}Ln.CLASS_NAME="AttributeCertificateInfoV2";const zm="acinfo",Wm="signatureAlgorithm",Gm="signatureValue",nue=[zm,Wm,Gm];class Is extends de{constructor(e={}){super(),this.acinfo=w(e,zm,Is.defaultValues(zm)),this.signatureAlgorithm=w(e,Wm,Is.defaultValues(Wm)),this.signatureValue=w(e,Gm,Is.defaultValues(Gm)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case zm:return new Ln;case Wm:return new ae;case Gm:return new dt;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[Ln.schema(r.acinfo||{}),ae.schema(r.signatureAlgorithm||{}),new dt({name:r.signatureValue||A})]})}fromSchema(e){ge(e,nue);const r=pe(e,e,Is.schema({names:{acinfo:{names:{blockName:zm}},signatureAlgorithm:{names:{blockName:Wm}},signatureValue:Gm}}));le.assertSchema(r,this.className),this.acinfo=new Ln({schema:r.result.acinfo}),this.signatureAlgorithm=new ae({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}toSchema(){return new _({value:[this.acinfo.toSchema(),this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){return{acinfo:this.acinfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()}}}Is.CLASS_NAME="AttributeCertificateV2";const Ku="contentType",Xf="content",sue=[Ku,Xf];class er extends de{constructor(e={}){super(),this.contentType=w(e,Ku,er.defaultValues(Ku)),this.content=w(e,Xf,er.defaultValues(Xf)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ku:return A;case Xf:return new Ye;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Ku:return typeof r=="string"&&r===this.defaultValues(Ku);case Xf:return r instanceof Ye;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return"optional"in r||(r.optional=!1),new _({name:r.blockName||"ContentInfo",optional:r.optional,value:[new Oe({name:r.contentType||Ku}),new W({idBlock:{tagClass:3,tagNumber:0},value:[new Ye({name:r.content||Xf})]})]})}fromSchema(e){ge(e,sue);const r=pe(e,e,er.schema());le.assertSchema(r,this.className),this.contentType=r.result.contentType.valueBlock.toString(),this.content=r.result.content}toSchema(){return new _({value:[new Oe({value:this.contentType}),new W({idBlock:{tagClass:3,tagNumber:0},value:[this.content]})]})}toJSON(){const e={contentType:this.contentType};return this.content instanceof Ye||(e.content=this.content.toJSON()),e}}er.CLASS_NAME="ContentInfo";er.DATA=hT;er.SIGNED_DATA=K5;er.ENVELOPED_DATA=j5;er.ENCRYPTED_DATA=z5;const zb="type",Wb="value",ck="utcTimeName",fk="generalTimeName",iue=[ck,fk];var z_;(function(t){t[t.UTCTime=0]="UTCTime",t[t.GeneralizedTime=1]="GeneralizedTime",t[t.empty=2]="empty"})(z_||(z_={}));class Fr extends de{constructor(e={}){super(),this.type=w(e,zb,Fr.defaultValues(zb)),this.value=w(e,Wb,Fr.defaultValues(Wb)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case zb:return 0;case Wb:return new Date(0,0,0);default:return super.defaultValues(e)}}static schema(e={},r=!1){const n=w(e,"names",{});return new dr({optional:r,value:[new dp({name:n.utcTimeName||A}),new fr({name:n.generalTimeName||A})]})}fromSchema(e){ge(e,iue);const r=pe(e,e,Fr.schema({names:{utcTimeName:ck,generalTimeName:fk}}));le.assertSchema(r,this.className),ck in r.result&&(this.type=0,this.value=r.result.utcTimeName.toDate()),fk in r.result&&(this.type=1,this.value=r.result.generalTimeName.toDate())}toSchema(){return this.type===0?new dp({valueDate:this.value}):this.type===1?new fr({valueDate:this.value}):{}}toJSON(){return{type:this.type,value:this.value}}}Fr.CLASS_NAME="Time";const Gb="tbs",Mo="version",q1="serialNumber",J1="signature",Y1="issuer",Q1="notBefore",X1="notAfter",Z1="subject",eS="subjectPublicKeyInfo",qm="issuerUniqueID",Jm="subjectUniqueID",Ym="extensions",Qm="signatureAlgorithm",Xm="signatureValue",Vs="tbsCertificate",xw=`${Vs}.${Mo}`,dT=`${Vs}.${q1}`,pT=`${Vs}.${J1}`,mT=`${Vs}.${Y1}`,Aw=`${Vs}.${Q1}`,kw=`${Vs}.${X1}`,gT=`${Vs}.${Z1}`,vT=`${Vs}.${eS}`,Iw=`${Vs}.${qm}`,Tw=`${Vs}.${Jm}`,Zg=`${Vs}.${Ym}`,aue=[Vs,xw,dT,pT,mT,Aw,kw,gT,vT,Iw,Tw,Zg,Qm,Xm];function oue(t={}){const e=w(t,"names",{});return new _({name:e.blockName||Vs,value:[new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new se({name:e.tbsCertificateVersion||xw})]}),new se({name:e.tbsCertificateSerialNumber||dT}),ae.schema(e.signature||{names:{blockName:pT}}),Kt.schema(e.issuer||{names:{blockName:mT}}),new _({name:e.tbsCertificateValidity||"tbsCertificate.validity",value:[Fr.schema(e.notBefore||{names:{utcTimeName:Aw,generalTimeName:Aw}}),Fr.schema(e.notAfter||{names:{utcTimeName:kw,generalTimeName:kw}})]}),Kt.schema(e.subject||{names:{blockName:gT}}),Wn.schema(e.subjectPublicKeyInfo||{names:{blockName:vT}}),new qe({name:e.tbsCertificateIssuerUniqueID||Iw,optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new qe({name:e.tbsCertificateSubjectUniqueID||Tw,optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[Kr.schema(e.extensions||{names:{blockName:Zg}})]})]})}class Bt extends de{constructor(e={}){super(),this.tbsView=new Uint8Array(w(e,Gb,Bt.defaultValues(Gb))),this.version=w(e,Mo,Bt.defaultValues(Mo)),this.serialNumber=w(e,q1,Bt.defaultValues(q1)),this.signature=w(e,J1,Bt.defaultValues(J1)),this.issuer=w(e,Y1,Bt.defaultValues(Y1)),this.notBefore=w(e,Q1,Bt.defaultValues(Q1)),this.notAfter=w(e,X1,Bt.defaultValues(X1)),this.subject=w(e,Z1,Bt.defaultValues(Z1)),this.subjectPublicKeyInfo=w(e,eS,Bt.defaultValues(eS)),qm in e&&(this.issuerUniqueID=w(e,qm,Bt.defaultValues(qm))),Jm in e&&(this.subjectUniqueID=w(e,Jm,Bt.defaultValues(Jm))),Ym in e&&(this.extensions=w(e,Ym,Bt.defaultValues(Ym))),this.signatureAlgorithm=w(e,Qm,Bt.defaultValues(Qm)),this.signatureValue=w(e,Xm,Bt.defaultValues(Xm)),e.schema&&this.fromSchema(e.schema)}get tbs(){return ze.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case Gb:return Hr;case Mo:return 0;case q1:return new se;case J1:return new ae;case Y1:return new Kt;case Q1:return new Fr;case X1:return new Fr;case Z1:return new Kt;case eS:return new Wn;case qm:return Hr;case Jm:return Hr;case Ym:return[];case Qm:return new ae;case Xm:return new dt;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[oue(r.tbsCertificate),ae.schema(r.signatureAlgorithm||{names:{blockName:Qm}}),new dt({name:r.signatureValue||Xm})]})}fromSchema(e){ge(e,aue);const r=pe(e,e,Bt.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:Zg}}}}}}));le.assertSchema(r,this.className),this.tbsView=r.result.tbsCertificate.valueBeforeDecodeView,xw in r.result&&(this.version=r.result[xw].valueBlock.valueDec),this.serialNumber=r.result[dT],this.signature=new ae({schema:r.result[pT]}),this.issuer=new Kt({schema:r.result[mT]}),this.notBefore=new Fr({schema:r.result[Aw]}),this.notAfter=new Fr({schema:r.result[kw]}),this.subject=new Kt({schema:r.result[gT]}),this.subjectPublicKeyInfo=new Wn({schema:r.result[vT]}),Iw in r.result&&(this.issuerUniqueID=r.result[Iw].valueBlock.valueHex),Tw in r.result&&(this.subjectUniqueID=r.result[Tw].valueBlock.valueHex),Zg in r.result&&(this.extensions=Array.from(r.result[Zg],n=>new Ur({schema:n}))),this.signatureAlgorithm=new ae({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}encodeTBS(){const e=[];return Mo in this&&this.version!==Bt.defaultValues(Mo)&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new se({value:this.version})]})),e.push(this.serialNumber),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(new _({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),e.push(this.subject.toSchema()),e.push(this.subjectPublicKeyInfo.toSchema()),this.issuerUniqueID&&e.push(new qe({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),this.subjectUniqueID&&e.push(new qe({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),this.extensions&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new _({value:Array.from(this.extensions,r=>r.toSchema())})]})),new _({value:e})}toSchema(e=!1){let r;if(e===!1){if(!this.tbsView.byteLength)return Bt.schema().value[0];const n=Ar(this.tbsView);le.assert(n,"TBS Certificate"),r=n.result}else r=this.encodeTBS();return new _({value:[r,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:We.ToHex(this.tbsView),version:this.version,serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return Mo in this&&this.version!==Bt.defaultValues(Mo)&&(e.version=this.version),this.issuerUniqueID&&(e.issuerUniqueID=We.ToHex(this.issuerUniqueID)),this.subjectUniqueID&&(e.subjectUniqueID=We.ToHex(this.subjectUniqueID)),this.extensions&&(e.extensions=Array.from(this.extensions,r=>r.toJSON())),e}async getPublicKey(e,r=st(!0)){return r.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}async getKeyHash(e="SHA-1",r=st(!0)){return r.digest({name:e},this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView)}async sign(e,r="SHA-1",n=st(!0)){if(!e)throw new Error("Need to provide a private key for signing");const s=await n.getSignatureParameters(e,r),i=s.parameters;this.signature=s.signatureAlgorithm,this.signatureAlgorithm=s.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const a=await n.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new dt({valueHex:a})}async verify(e,r=st(!0)){let n;if(e?n=e.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(n=this.subjectPublicKeyInfo),!(n instanceof Wn))throw new Error("Please provide issuer certificate as a parameter");return r.verifyWithPublicKey(this.tbsView,this.signatureValue,n,this.signatureAlgorithm)}}Bt.CLASS_NAME="Certificate";function Q5(t,e=null){if(e&&t.issuer.isEqual(e.issuer)&&t.serialNumber.isEqual(e.serialNumber))return null;let r=!1;if(t.extensions){for(const n of t.extensions)if(n.extnID===lT&&n.parsedValue instanceof Mc&&n.parsedValue.cA){r=!0;break}}return r?t:null}const Zf="certId",eh="certValue",Bf="parsedValue",lue=[Zf,eh];class Rc extends de{constructor(e={}){super(),this.certId=w(e,Zf,Rc.defaultValues(Zf)),this.certValue=w(e,eh,Rc.defaultValues(eh)),Bf in e&&(this.parsedValue=w(e,Bf,Rc.defaultValues(Bf))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Zf:return A;case eh:return new Ye;case Bf:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Zf:return r===A;case eh:return r instanceof Ye;case Bf:return r instanceof Object&&Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.id||"id"}),new W({idBlock:{tagClass:3,tagNumber:0},value:[new Ye({name:r.value||"value"})]})]})}fromSchema(e){ge(e,lue);const r=pe(e,e,Rc.schema({names:{id:Zf,value:eh}}));le.assertSchema(r,this.className),this.certId=r.result.certId.valueBlock.toString(),this.certValue=r.result.certValue;const n=this.certValue.valueBlock.valueHexView;switch(this.certId){case k_:try{this.parsedValue=Bt.fromBER(n)}catch{Is.fromBER(n)}break;case I_:this.parsedValue=Is.fromBER(n);break;case hle:default:throw new Error(`Incorrect CERT_ID value in CertBag: ${this.certId}`)}}toSchema(){return Bf in this&&("acinfo"in this.parsedValue?this.certId=I_:this.certId=k_,this.certValue=new Ce({valueHex:this.parsedValue.toSchema().toBER(!1)})),new _({value:[new Oe({value:this.certId}),new W({idBlock:{tagClass:3,tagNumber:0},value:["toSchema"in this.certValue?this.certValue.toSchema():this.certValue]})]})}toJSON(){return{certId:this.certId,certValue:this.certValue.toJSON()}}}Rc.CLASS_NAME="CertBag";const Zm="userCertificate",th="revocationDate",ju="crlEntryExtensions",uue=[Zm,th,ju];class Bc extends de{constructor(e={}){super(),this.userCertificate=w(e,Zm,Bc.defaultValues(Zm)),this.revocationDate=w(e,th,Bc.defaultValues(th)),ju in e&&(this.crlEntryExtensions=w(e,ju,Bc.defaultValues(ju))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Zm:return new se;case th:return new Fr;case ju:return new Kr;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.userCertificate||Zm}),Fr.schema({names:{utcTimeName:r.revocationDate||th,generalTimeName:r.revocationDate||th}}),Kr.schema({names:{blockName:r.crlEntryExtensions||ju}},!0)]})}fromSchema(e){ge(e,uue);const r=pe(e,e,Bc.schema());le.assertSchema(r,this.className),this.userCertificate=r.result.userCertificate,this.revocationDate=new Fr({schema:r.result.revocationDate}),ju in r.result&&(this.crlEntryExtensions=new Kr({schema:r.result.crlEntryExtensions}))}toSchema(){const e=[this.userCertificate,this.revocationDate.toSchema()];return this.crlEntryExtensions&&e.push(this.crlEntryExtensions.toSchema()),new _({value:e})}toJSON(){const e={userCertificate:this.userCertificate.toJSON(),revocationDate:this.revocationDate.toJSON()};return this.crlEntryExtensions&&(e.crlEntryExtensions=this.crlEntryExtensions.toJSON()),e}}Bc.CLASS_NAME="RevokedCertificate";const qb="tbs",p0="version",Jb="signature",Yb="issuer",Qb="thisUpdate",a1="nextUpdate",o1="revokedCertificates",l1="crlExtensions",eg="signatureAlgorithm",tg="signatureValue",fo="tbsCertList",Nw=`${fo}.version`,yT=`${fo}.signature`,ST=`${fo}.issuer`,Rw=`${fo}.thisUpdate`,Hv=`${fo}.nextUpdate`,Bw=`${fo}.revokedCertificates`,_w=`${fo}.extensions`,cue=[fo,Nw,yT,ST,Rw,Hv,Bw,_w,eg,tg];function fue(t={}){const e=w(t,"names",{});return new _({name:e.blockName||fo,value:[new se({optional:!0,name:e.tbsCertListVersion||Nw,value:2}),ae.schema(e.signature||{names:{blockName:yT}}),Kt.schema(e.issuer||{names:{blockName:ST}}),Fr.schema(e.tbsCertListThisUpdate||{names:{utcTimeName:Rw,generalTimeName:Rw}}),Fr.schema(e.tbsCertListNextUpdate||{names:{utcTimeName:Hv,generalTimeName:Hv}},!0),new _({optional:!0,value:[new rt({name:e.tbsCertListRevokedCertificates||Bw,value:new _({value:[new se,Fr.schema(),Kr.schema({},!0)]})})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Kr.schema(e.crlExtensions||{names:{blockName:_w}})]})]})}const hue=[cT,L5,Zoe,ele,V5,uT,fT,tle,rle,D5];class Br extends de{constructor(e={}){super(),this.tbsView=new Uint8Array(w(e,qb,Br.defaultValues(qb))),this.version=w(e,p0,Br.defaultValues(p0)),this.signature=w(e,Jb,Br.defaultValues(Jb)),this.issuer=w(e,Yb,Br.defaultValues(Yb)),this.thisUpdate=w(e,Qb,Br.defaultValues(Qb)),a1 in e&&(this.nextUpdate=w(e,a1,Br.defaultValues(a1))),o1 in e&&(this.revokedCertificates=w(e,o1,Br.defaultValues(o1))),l1 in e&&(this.crlExtensions=w(e,l1,Br.defaultValues(l1))),this.signatureAlgorithm=w(e,eg,Br.defaultValues(eg)),this.signatureValue=w(e,tg,Br.defaultValues(tg)),e.schema&&this.fromSchema(e.schema)}get tbs(){return ze.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case qb:return Hr;case p0:return 0;case Jb:return new ae;case Yb:return new Kt;case Qb:return new Fr;case a1:return new Fr;case o1:return[];case l1:return new Kr;case eg:return new ae;case tg:return new dt;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||"CertificateList",value:[fue(e),ae.schema(r.signatureAlgorithm||{names:{blockName:eg}}),new dt({name:r.signatureValue||tg})]})}fromSchema(e){ge(e,cue);const r=pe(e,e,Br.schema());le.assertSchema(r,this.className),this.tbsView=r.result.tbsCertList.valueBeforeDecodeView,Nw in r.result&&(this.version=r.result[Nw].valueBlock.valueDec),this.signature=new ae({schema:r.result[yT]}),this.issuer=new Kt({schema:r.result[ST]}),this.thisUpdate=new Fr({schema:r.result[Rw]}),Hv in r.result&&(this.nextUpdate=new Fr({schema:r.result[Hv]})),Bw in r.result&&(this.revokedCertificates=Array.from(r.result[Bw],n=>new Bc({schema:n}))),_w in r.result&&(this.crlExtensions=new Kr({schema:r.result[_w]})),this.signatureAlgorithm=new ae({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}encodeTBS(){const e=[];return this.version!==Br.defaultValues(p0)&&e.push(new se({value:this.version})),e.push(this.signature.toSchema()),e.push(this.issuer.toSchema()),e.push(this.thisUpdate.toSchema()),this.nextUpdate&&e.push(this.nextUpdate.toSchema()),this.revokedCertificates&&e.push(new _({value:Array.from(this.revokedCertificates,r=>r.toSchema())})),this.crlExtensions&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.crlExtensions.toSchema()]})),new _({value:e})}toSchema(e=!1){let r;if(e)r=this.encodeTBS();else{if(!this.tbsView.byteLength)return Br.schema();const n=Ar(this.tbsView);le.assert(n,"TBS Certificate Revocation List"),r=n.result}return new _({value:[r,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:We.ToHex(this.tbsView),version:this.version,signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),thisUpdate:this.thisUpdate.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return this.version!==Br.defaultValues(p0)&&(e.version=this.version),this.nextUpdate&&(e.nextUpdate=this.nextUpdate.toJSON()),this.revokedCertificates&&(e.revokedCertificates=Array.from(this.revokedCertificates,r=>r.toJSON())),this.crlExtensions&&(e.crlExtensions=this.crlExtensions.toJSON()),e}isCertificateRevoked(e){if(!this.issuer.isEqual(e.issuer)||!this.revokedCertificates)return!1;for(const r of this.revokedCertificates)if(r.userCertificate.isEqual(e.serialNumber))return!0;return!1}async sign(e,r="SHA-1",n=st(!0)){if(!e)throw new Error("Need to provide a private key for signing");const s=await n.getSignatureParameters(e,r),{parameters:i}=s;this.signature=s.signatureAlgorithm,this.signatureAlgorithm=s.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const a=await n.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new dt({valueHex:a})}async verify(e={},r=st(!0)){let n;if(e.issuerCertificate&&(n=e.issuerCertificate.subjectPublicKeyInfo,!this.issuer.isEqual(e.issuerCertificate.subject)))return!1;if(e.publicKeyInfo&&(n=e.publicKeyInfo),!n)throw new Error("Issuer's certificate must be provided as an input parameter");if(this.crlExtensions){for(const s of this.crlExtensions.extensions)if(s.critical&&!hue.includes(s.extnID))return!1}return r.verifyWithPublicKey(this.tbsView,this.signatureValue,n,this.signatureAlgorithm)}}Br.CLASS_NAME="CertificateRevocationList";const rh="crlId",nh="crlValue",m0="parsedValue",due=[rh,nh];class _c extends de{constructor(e={}){super(),this.crlId=w(e,rh,_c.defaultValues(rh)),this.crlValue=w(e,nh,_c.defaultValues(nh)),m0 in e&&(this.parsedValue=w(e,m0,_c.defaultValues(m0))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case rh:return A;case nh:return new Ye;case m0:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case rh:return r===A;case nh:return r instanceof Ye;case m0:return r instanceof Object&&Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.id||"id"}),new W({idBlock:{tagClass:3,tagNumber:0},value:[new Ye({name:r.value||"value"})]})]})}fromSchema(e){ge(e,due);const r=pe(e,e,_c.schema({names:{id:rh,value:nh}}));switch(le.assertSchema(r,this.className),this.crlId=r.result.crlId.valueBlock.toString(),this.crlValue=r.result.crlValue,this.crlId){case T_:this.parsedValue=Br.fromBER(this.certValue.valueBlock.valueHex);break;default:throw new Error(`Incorrect CRL_ID value in CRLBag: ${this.crlId}`)}}toSchema(){return this.parsedValue&&(this.crlId=T_,this.crlValue=new Ce({valueHex:this.parsedValue.toSchema().toBER(!1)})),new _({value:[new Oe({value:this.crlId}),new W({idBlock:{tagClass:3,tagNumber:0},value:[this.crlValue.toSchema()]})]})}toJSON(){return{crlId:this.crlId,crlValue:this.crlValue.toJSON()}}}_c.CLASS_NAME="CRLBag";const sh="version",ih="encryptedContentInfo",$o="unprotectedAttrs",pue=[sh,ih,$o];class ra extends de{constructor(e={}){super(),this.version=w(e,sh,ra.defaultValues(sh)),this.encryptedContentInfo=w(e,ih,ra.defaultValues(ih)),$o in e&&(this.unprotectedAttrs=w(e,$o,ra.defaultValues($o))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case sh:return 0;case ih:return new Dr;case $o:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case sh:return r===0;case ih:return Dr.compareWithDefault("contentType",r.contentType)&&Dr.compareWithDefault("contentEncryptionAlgorithm",r.contentEncryptionAlgorithm)&&Dr.compareWithDefault("encryptedContent",r.encryptedContent);case $o:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),Dr.schema(r.encryptedContentInfo||{}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new rt({name:r.unprotectedAttrs||A,value:ir.schema()})]})]})}fromSchema(e){ge(e,pue);const r=pe(e,e,ra.schema({names:{version:sh,encryptedContentInfo:{names:{blockName:ih}},unprotectedAttrs:$o}}));le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,this.encryptedContentInfo=new Dr({schema:r.result.encryptedContentInfo}),$o in r.result&&(this.unprotectedAttrs=Array.from(r.result.unprotectedAttrs,n=>new ir({schema:n})))}toSchema(){const e=[];return e.push(new se({value:this.version})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={version:this.version,encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,r=>r.toJSON())),e}async encrypt(e,r=st(!0)){Ht.assert(e,"parameters","object");const n={...e,contentType:"1.2.840.113549.1.7.1"};this.encryptedContentInfo=await r.encryptEncryptedContentInfo(n)}async decrypt(e,r=st(!0)){Ht.assert(e,"parameters","object");const n={...e,encryptedContentInfo:this.encryptedContentInfo};return r.decryptEncryptedContentInfo(n)}}ra.CLASS_NAME="EncryptedData";const zu="encryptionAlgorithm",Fo="encryptedData",g0="parsedValue",mue=[zu,Fo];class pl extends de{constructor(e={}){super(),this.encryptionAlgorithm=w(e,zu,pl.defaultValues(zu)),this.encryptedData=w(e,Fo,pl.defaultValues(Fo)),g0 in e&&(this.parsedValue=w(e,g0,pl.defaultValues(g0))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case zu:return new ae;case Fo:return new Ce;case g0:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case zu:return ae.compareWithDefault("algorithmId",r.algorithmId)&&!("algorithmParams"in r);case Fo:return r.isEqual(pl.defaultValues(e));case g0:return r instanceof Object&&Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[ae.schema(r.encryptionAlgorithm||{names:{blockName:zu}}),new dr({value:[new Ce({name:r.encryptedData||Fo}),new Ce({idBlock:{isConstructed:!0},name:r.encryptedData||Fo})]})]})}fromSchema(e){ge(e,mue);const r=pe(e,e,pl.schema({names:{encryptionAlgorithm:{names:{blockName:zu}},encryptedData:Fo}}));le.assertSchema(r,this.className),this.encryptionAlgorithm=new ae({schema:r.result.encryptionAlgorithm}),this.encryptedData=r.result.encryptedData}toSchema(){return new _({value:[this.encryptionAlgorithm.toSchema(),this.encryptedData]})}toJSON(){return{encryptionAlgorithm:this.encryptionAlgorithm.toJSON(),encryptedData:this.encryptedData.toJSON()}}async parseInternalValues(e,r=st(!0)){const s=await new ra({encryptedContentInfo:new Dr({contentEncryptionAlgorithm:this.encryptionAlgorithm,encryptedContent:this.encryptedData})}).decrypt(e,r);this.parsedValue=js.fromBER(s)}async makeInternalValues(e,r=st(!0)){if(!this.parsedValue)throw new Error('Please initialize "parsedValue" first');const n=new ra,s={...e,contentToEncrypt:this.parsedValue.toSchema().toBER(!1)};if(await n.encrypt(s,r),!n.encryptedContentInfo.encryptedContent)throw new Error("The filed `encryptedContent` in EncryptedContentInfo is empty");this.encryptionAlgorithm=n.encryptedContentInfo.contentEncryptionAlgorithm,this.encryptedData=n.encryptedContentInfo.encryptedContent}}pl.CLASS_NAME="PKCS8ShroudedKeyBag";const ah="secretTypeId",oh="secretValue",gue=[ah,oh];class $d extends de{constructor(e={}){super(),this.secretTypeId=w(e,ah,$d.defaultValues(ah)),this.secretValue=w(e,oh,$d.defaultValues(oh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ah:return A;case oh:return new Ye;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case ah:return r===A;case oh:return r instanceof Ye;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.id||"id"}),new W({idBlock:{tagClass:3,tagNumber:0},value:[new Ye({name:r.value||"value"})]})]})}fromSchema(e){ge(e,gue);const r=pe(e,e,$d.schema({names:{id:ah,value:oh}}));le.assertSchema(r,this.className),this.secretTypeId=r.result.secretTypeId.valueBlock.toString(),this.secretValue=r.result.secretValue}toSchema(){return new _({value:[new Oe({value:this.secretTypeId}),new W({idBlock:{tagClass:3,tagNumber:0},value:[this.secretValue.toSchema()]})]})}toJSON(){return{secretTypeId:this.secretTypeId,secretValue:this.secretValue.toJSON()}}}$d.CLASS_NAME="SecretBag";class cl{static getItems(){return this.items||(this.items={},cl.register("1.2.840.113549.1.12.10.1.1",js),cl.register("1.2.840.113549.1.12.10.1.2",pl),cl.register("1.2.840.113549.1.12.10.1.3",Rc),cl.register("1.2.840.113549.1.12.10.1.4",_c),cl.register("1.2.840.113549.1.12.10.1.5",$d),cl.register("1.2.840.113549.1.12.10.1.6",Fa)),this.items}static register(e,r){this.getItems()[e]=r}static find(e){return this.getItems()[e]||null}}const Wu="bagId",Gu="bagValue",ba="bagAttributes",vue=[Wu,Gu,ba];class Tl extends de{constructor(e={}){super(),this.bagId=w(e,Wu,Tl.defaultValues(Wu)),this.bagValue=w(e,Gu,Tl.defaultValues(Gu)),ba in e&&(this.bagAttributes=w(e,ba,Tl.defaultValues(ba))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Wu:return A;case Gu:return new Ye;case ba:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Wu:return r===A;case Gu:return r instanceof Ye;case ba:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.bagId||Wu}),new W({idBlock:{tagClass:3,tagNumber:0},value:[new Ye({name:r.bagValue||Gu})]}),new Or({optional:!0,value:[new rt({name:r.bagAttributes||ba,value:ir.schema()})]})]})}fromSchema(e){ge(e,vue);const r=pe(e,e,Tl.schema({names:{bagId:Wu,bagValue:Gu,bagAttributes:ba}}));le.assertSchema(r,this.className),this.bagId=r.result.bagId.valueBlock.toString();const n=cl.find(this.bagId);if(!n)throw new Error(`Invalid BAG_ID for SafeBag: ${this.bagId}`);this.bagValue=new n({schema:r.result.bagValue}),ba in r.result&&(this.bagAttributes=Array.from(r.result.bagAttributes,s=>new ir({schema:s})))}toSchema(){const e=[new Oe({value:this.bagId}),new W({idBlock:{tagClass:3,tagNumber:0},value:[this.bagValue.toSchema()]})];return this.bagAttributes&&e.push(new Or({value:Array.from(this.bagAttributes,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={bagId:this.bagId,bagValue:this.bagValue.toJSON()};return this.bagAttributes&&(e.bagAttributes=Array.from(this.bagAttributes,r=>r.toJSON())),e}}Tl.CLASS_NAME="SafeBag";const _f="safeBags";class Fa extends de{constructor(e={}){super(),this.safeBags=w(e,_f,Fa.defaultValues(_f)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case _f:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case _f:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.safeBags||A,value:Tl.schema()})]})}fromSchema(e){ge(e,[_f]);const r=pe(e,e,Fa.schema({names:{safeBags:_f}}));le.assertSchema(r,this.className),this.safeBags=Array.from(r.result.safeBags,n=>new Tl({schema:n}))}toSchema(){return new _({value:Array.from(this.safeBags,e=>e.toSchema())})}toJSON(){return{safeBags:Array.from(this.safeBags,e=>e.toJSON())}}}Fa.CLASS_NAME="SafeContents";const rg="otherCertFormat",ng="otherCert",yue=[rg,ng];class Kl extends de{constructor(e={}){super(),this.otherCertFormat=w(e,rg,Kl.defaultValues(rg)),this.otherCert=w(e,ng,Kl.defaultValues(ng)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case rg:return A;case ng:return new Ye;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.otherCertFormat||rg}),new Ye({name:r.otherCert||ng})]})}fromSchema(e){ge(e,yue);const r=pe(e,e,Kl.schema());le.assertSchema(r,this.className),this.otherCertFormat=r.result.otherCertFormat.valueBlock.toString(),this.otherCert=r.result.otherCert}toSchema(){return new _({value:[new Oe({value:this.otherCertFormat}),this.otherCert]})}toJSON(){const e={otherCertFormat:this.otherCertFormat};return this.otherCert instanceof Ye||(e.otherCert=this.otherCert.toJSON()),e}}const sg="certificates",Sue=[sg];class oa extends de{constructor(e={}){super(),this.certificates=w(e,sg,oa.defaultValues(sg)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case sg:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new Or({name:r.blockName||A,value:[new rt({name:r.certificates||sg,value:new dr({value:[Bt.schema(),new W({idBlock:{tagClass:3,tagNumber:0},value:[new Ye]}),new W({idBlock:{tagClass:3,tagNumber:1},value:[new _]}),new W({idBlock:{tagClass:3,tagNumber:2},value:Is.schema().valueBlock.value}),new W({idBlock:{tagClass:3,tagNumber:3},value:Kl.schema().valueBlock.value})]})})]})}fromSchema(e){ge(e,Sue);const r=pe(e,e,oa.schema());le.assertSchema(r,this.className),this.certificates=Array.from(r.result.certificates||[],n=>{const s=n.idBlock.tagNumber;if(n.idBlock.tagClass===1)return new Bt({schema:n});const i=new _({value:n.valueBlock.value});switch(s){case 1:return i.valueBlock.value[0].valueBlock.value[0].valueBlock.valueDec===1?new Is({schema:i}):new Ma({schema:i});case 2:return new Is({schema:i});case 3:return new Kl({schema:i})}return n})}toSchema(){return new Or({value:Array.from(this.certificates,e=>{switch(!0){case e instanceof Bt:return e.toSchema();case e instanceof Ma:return new W({idBlock:{tagClass:3,tagNumber:1},value:e.toSchema().valueBlock.value});case e instanceof Is:return new W({idBlock:{tagClass:3,tagNumber:2},value:e.toSchema().valueBlock.value});case e instanceof Kl:return new W({idBlock:{tagClass:3,tagNumber:3},value:e.toSchema().valueBlock.value})}return e.toSchema()})})}toJSON(){return{certificates:Array.from(this.certificates,e=>e.toJSON())}}}oa.CLASS_NAME="CertificateSet";const ig="otherRevInfoFormat",ag="otherRevInfo",wue=[ig,ag];class Ga extends de{constructor(e={}){super(),this.otherRevInfoFormat=w(e,ig,Ga.defaultValues(ig)),this.otherRevInfo=w(e,ag,Ga.defaultValues(ag)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ig:return A;case ag:return new Ye;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.otherRevInfoFormat||ig}),new Ye({name:r.otherRevInfo||ag})]})}fromSchema(e){ge(e,wue);const r=pe(e,e,Ga.schema());le.assertSchema(r,this.className),this.otherRevInfoFormat=r.result.otherRevInfoFormat.valueBlock.toString(),this.otherRevInfo=r.result.otherRevInfo}toSchema(){return new _({value:[new Oe({value:this.otherRevInfoFormat}),this.otherRevInfo]})}toJSON(){const e={otherRevInfoFormat:this.otherRevInfoFormat};return this.otherRevInfo instanceof Ye||(e.otherRevInfo=this.otherRevInfo.toJSON()),e}}Ga.CLASS_NAME="OtherRevocationInfoFormat";const og="crls",Xb="otherRevocationInfos",Cue=[og];class qa extends de{constructor(e={}){super(),this.crls=w(e,og,qa.defaultValues(og)),this.otherRevocationInfos=w(e,Xb,qa.defaultValues(Xb)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case og:return[];case Xb:return[];default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new Or({name:r.blockName||A,value:[new rt({name:r.crls||A,value:new dr({value:[Br.schema(),new W({idBlock:{tagClass:3,tagNumber:1},value:[new Oe,new Ye]})]})})]})}fromSchema(e){ge(e,Cue);const r=pe(e,e,qa.schema({names:{crls:og}}));if(le.assertSchema(r,this.className),r.result.crls)for(const n of r.result.crls)n.idBlock.tagClass===1?this.crls.push(new Br({schema:n})):this.otherRevocationInfos.push(new Ga({schema:n}))}toSchema(){const e=[];return e.push(...Array.from(this.crls,r=>r.toSchema())),e.push(...Array.from(this.otherRevocationInfos,r=>{const n=r.toSchema();return n.idBlock.tagClass=3,n.idBlock.tagNumber=1,n})),new Or({value:e})}toJSON(){return{crls:Array.from(this.crls,e=>e.toJSON()),otherRevocationInfos:Array.from(this.otherRevocationInfos,e=>e.toJSON())}}}qa.CLASS_NAME="RevocationInfoChoices";const lg="certs",qu="crls",Eue=[lg,qu];class Wc extends de{constructor(e={}){super(),this.crls=w(e,qu,Wc.defaultValues(qu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case lg:return new oa;case qu:return new qa;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case lg:return r.certificates.length===0;case qu:return r.crls.length===0&&r.otherRevocationInfos.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new W({name:r.certs||A,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:oa.schema().valueBlock.value}),new W({name:r.crls||A,optional:!0,idBlock:{tagClass:3,tagNumber:1},value:qa.schema().valueBlock.value})]})}fromSchema(e){ge(e,Eue);const r=pe(e,e,Wc.schema({names:{certs:lg,crls:qu}}));le.assertSchema(r,this.className),lg in r.result&&(this.certs=new oa({schema:new Or({value:r.result.certs.valueBlock.value})})),qu in r.result&&(this.crls=new qa({schema:new Or({value:r.result.crls.valueBlock.value})}))}toSchema(){const e=[];return this.certs&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:this.certs.toSchema().valueBlock.value})),this.crls&&e.push(new W({idBlock:{tagClass:3,tagNumber:1},value:this.crls.toSchema().valueBlock.value})),new _({value:e})}toJSON(){const e={};return this.certs&&(e.certs=this.certs.toJSON()),this.crls&&(e.crls=this.crls.toJSON()),e}}Wc.CLASS_NAME="OriginatorInfo";const ug="issuer",cg="serialNumber",bue=[ug,cg];class jr extends de{constructor(e={}){super(),this.issuer=w(e,ug,jr.defaultValues(ug)),this.serialNumber=w(e,cg,jr.defaultValues(cg)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ug:return new Kt;case cg:return new se;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[Kt.schema(r.issuer||{}),new se({name:r.serialNumber||A})]})}fromSchema(e){ge(e,bue);const r=pe(e,e,jr.schema({names:{issuer:{names:{blockName:ug}},serialNumber:cg}}));le.assertSchema(r,this.className),this.issuer=new Kt({schema:r.result.issuer}),this.serialNumber=r.result.serialNumber}toSchema(){return new _({value:[this.issuer.toSchema(),this.serialNumber]})}toJSON(){return{issuer:this.issuer.toJSON(),serialNumber:this.serialNumber.toJSON()}}}jr.CLASS_NAME="IssuerAndSerialNumber";const u1="variant",v0="value",xue=["blockName"];class Fd extends de{constructor(e={}){super(),this.variant=w(e,u1,Fd.defaultValues(u1)),v0 in e&&(this.value=w(e,v0,Fd.defaultValues(v0))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case u1:return-1;case v0:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case u1:return r===-1;case v0:return Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new dr({value:[jr.schema({names:{blockName:r.blockName||A}}),new qe({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:0}})]})}fromSchema(e){ge(e,xue);const r=pe(e,e,Fd.schema({names:{blockName:"blockName"}}));le.assertSchema(r,this.className),r.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new jr({schema:r.result.blockName})):(this.variant=2,this.value=new Ce({valueHex:r.result.blockName.valueBlock.valueHex}))}toSchema(){switch(this.variant){case 1:if(!(this.value instanceof jr))throw new Error("Incorrect type of RecipientIdentifier.value. It should be IssuerAndSerialNumber.");return this.value.toSchema();case 2:if(!(this.value instanceof Ce))throw new Error("Incorrect type of RecipientIdentifier.value. It should be ASN.1 OctetString.");return new qe({idBlock:{tagClass:3,tagNumber:0},valueHex:this.value.valueBlock.valueHexView});default:return new Ye}}toJSON(){const e={variant:this.variant};return(this.variant===1||this.variant===2)&&this.value&&(e.value=this.value.toJSON()),e}}Fd.CLASS_NAME="RecipientIdentifier";const Ju="version",lh="rid",uh="keyEncryptionAlgorithm",ch="encryptedKey",c1="recipientCertificate",Aue=[Ju,lh,uh,ch];class vs extends de{constructor(e={}){super(),this.version=w(e,Ju,vs.defaultValues(Ju)),this.rid=w(e,lh,vs.defaultValues(lh)),this.keyEncryptionAlgorithm=w(e,uh,vs.defaultValues(uh)),this.encryptedKey=w(e,ch,vs.defaultValues(ch)),this.recipientCertificate=w(e,c1,vs.defaultValues(c1)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ju:return-1;case lh:return{};case uh:return new ae;case ch:return new Ce;case c1:return new Bt;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Ju:return r===vs.defaultValues(Ju);case lh:return Object.keys(r).length===0;case uh:case ch:return r.isEqual(vs.defaultValues(e));case c1:return!1;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),Fd.schema(r.rid||{}),ae.schema(r.keyEncryptionAlgorithm||{}),new Ce({name:r.encryptedKey||A})]})}fromSchema(e){ge(e,Aue);const r=pe(e,e,vs.schema({names:{version:Ju,rid:{names:{blockName:lh}},keyEncryptionAlgorithm:{names:{blockName:uh}},encryptedKey:ch}}));le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,r.result.rid.idBlock.tagClass===3?this.rid=new Ce({valueHex:r.result.rid.valueBlock.valueHex}):this.rid=new jr({schema:r.result.rid}),this.keyEncryptionAlgorithm=new ae({schema:r.result.keyEncryptionAlgorithm}),this.encryptedKey=r.result.encryptedKey}toSchema(){const e=[];return this.rid instanceof jr?(this.version=0,e.push(new se({value:this.version})),e.push(this.rid.toSchema())):(this.version=2,e.push(new se({value:this.version})),e.push(new qe({idBlock:{tagClass:3,tagNumber:0},valueHex:this.rid.valueBlock.valueHexView}))),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new _({value:e})}toJSON(){return{version:this.version,rid:this.rid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}vs.CLASS_NAME="KeyTransRecipientInfo";const fh="algorithm",hh="publicKey",kue=[fh,hh];class Ha extends de{constructor(e={}){super(),this.algorithm=w(e,fh,Ha.defaultValues(fh)),this.publicKey=w(e,hh,Ha.defaultValues(hh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case fh:return new ae;case hh:return new dt;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case fh:case hh:return r.isEqual(Ha.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[ae.schema(r.algorithm||{}),new dt({name:r.publicKey||A})]})}fromSchema(e){ge(e,kue);const r=pe(e,e,Ha.schema({names:{algorithm:{names:{blockName:fh}},publicKey:hh}}));le.assertSchema(r,this.className),this.algorithm=new ae({schema:r.result.algorithm}),this.publicKey=r.result.publicKey}toSchema(){return new _({value:[this.algorithm.toSchema(),this.publicKey]})}toJSON(){return{algorithm:this.algorithm.toJSON(),publicKey:this.publicKey.toJSON()}}}Ha.CLASS_NAME="OriginatorPublicKey";const f1="variant",y0="value",Iue=["blockName"];class Ja extends de{constructor(e={}){super(),this.variant=w(e,f1,Ja.defaultValues(f1)),y0 in e&&(this.value=w(e,y0,Ja.defaultValues(y0))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case f1:return-1;case y0:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case f1:return r===-1;case y0:return Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new dr({value:[jr.schema({names:{blockName:r.blockName||A}}),new qe({idBlock:{tagClass:3,tagNumber:0},name:r.blockName||A}),new W({idBlock:{tagClass:3,tagNumber:1},name:r.blockName||A,value:Ha.schema().valueBlock.value})]})}fromSchema(e){ge(e,Iue);const r=pe(e,e,Ja.schema({names:{blockName:"blockName"}}));le.assertSchema(r,this.className),r.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new jr({schema:r.result.blockName})):r.result.blockName.idBlock.tagNumber===0?(r.result.blockName.idBlock.tagClass=1,r.result.blockName.idBlock.tagNumber=4,this.variant=2,this.value=r.result.blockName):(this.variant=3,this.value=new Ha({schema:new _({value:r.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return this.value.idBlock.tagClass=3,this.value.idBlock.tagNumber=0,this.value;case 3:{const e=this.value.toSchema();return e.idBlock.tagClass=3,e.idBlock.tagNumber=1,e}default:return new Ye}}toJSON(){const e={variant:this.variant};return(this.variant===1||this.variant===2||this.variant===3)&&(e.value=this.value.toJSON()),e}}Ja.CLASS_NAME="OriginatorIdentifierOrKey";const dh="keyAttrId",Mi="keyAttr",Tue=[dh,Mi];class Ri extends de{constructor(e={}){super(),this.keyAttrId=w(e,dh,Ri.defaultValues(dh)),Mi in e&&(this.keyAttr=w(e,Mi,Ri.defaultValues(Mi))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dh:return A;case Mi:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case dh:return typeof r=="string"&&r===A;case Mi:return Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({optional:r.optional||!0,name:r.blockName||A,value:[new Oe({name:r.keyAttrId||A}),new Ye({optional:!0,name:r.keyAttr||A})]})}fromSchema(e){ge(e,Tue);const r=pe(e,e,Ri.schema({names:{keyAttrId:dh,keyAttr:Mi}}));le.assertSchema(r,this.className),this.keyAttrId=r.result.keyAttrId.valueBlock.toString(),Mi in r.result&&(this.keyAttr=r.result.keyAttr)}toSchema(){const e=[];return e.push(new Oe({value:this.keyAttrId})),Mi in this&&e.push(this.keyAttr),new _({value:e})}toJSON(){const e={keyAttrId:this.keyAttrId};return Mi in this&&(e.keyAttr=this.keyAttr.toJSON()),e}}Ri.CLASS_NAME="OtherKeyAttribute";const Yu="subjectKeyIdentifier",Ho="date",Ko="other",Nue=[Yu,Ho,Ko];class Xi extends de{constructor(e={}){super(),this.subjectKeyIdentifier=w(e,Yu,Xi.defaultValues(Yu)),Ho in e&&(this.date=w(e,Ho,Xi.defaultValues(Ho))),Ko in e&&(this.other=w(e,Ko,Xi.defaultValues(Ko))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Yu:return new Ce;case Ho:return new fr;case Ko:return new Ri;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Yu:return r.isEqual(Xi.defaultValues(Yu));case Ho:return r.year===0&&r.month===0&&r.day===0&&r.hour===0&&r.minute===0&&r.second===0&&r.millisecond===0;case Ko:return r.keyAttrId===A&&!("keyAttr"in r);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Ce({name:r.subjectKeyIdentifier||A}),new fr({optional:!0,name:r.date||A}),Ri.schema(r.other||{})]})}fromSchema(e){ge(e,Nue);const r=pe(e,e,Xi.schema({names:{subjectKeyIdentifier:Yu,date:Ho,other:{names:{blockName:Ko}}}}));le.assertSchema(r,this.className),this.subjectKeyIdentifier=r.result.subjectKeyIdentifier,Ho in r.result&&(this.date=r.result.date),Ko in r.result&&(this.other=new Ri({schema:r.result.other}))}toSchema(){const e=[];return e.push(this.subjectKeyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new _({value:e})}toJSON(){const e={subjectKeyIdentifier:this.subjectKeyIdentifier.toJSON()};return this.date&&(e.date=this.date.toJSON()),this.other&&(e.other=this.other.toJSON()),e}}Xi.CLASS_NAME="RecipientKeyIdentifier";const h1="variant",d1="value",Rue=["blockName"];class la extends de{constructor(e={}){super(),this.variant=w(e,h1,la.defaultValues(h1)),this.value=w(e,d1,la.defaultValues(d1)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case h1:return-1;case d1:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case h1:return r===-1;case d1:return Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new dr({value:[jr.schema(r.issuerAndSerialNumber||{names:{blockName:r.blockName||A}}),new W({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:0},value:Xi.schema(r.rKeyId||{names:{blockName:r.blockName||A}}).valueBlock.value})]})}fromSchema(e){ge(e,Rue);const r=pe(e,e,la.schema({names:{blockName:"blockName"}}));le.assertSchema(r,this.className),r.result.blockName.idBlock.tagClass===1?(this.variant=1,this.value=new jr({schema:r.result.blockName})):(this.variant=2,this.value=new Xi({schema:new _({value:r.result.blockName.valueBlock.value})}))}toSchema(){switch(this.variant){case 1:return this.value.toSchema();case 2:return new W({idBlock:{tagClass:3,tagNumber:0},value:this.value.toSchema().valueBlock.value});default:return new Ye}}toJSON(){const e={variant:this.variant};return(this.variant===1||this.variant===2)&&(e.value=this.value.toJSON()),e}}la.CLASS_NAME="KeyAgreeRecipientIdentifier";const ph="rid",Qu="encryptedKey",Bue=[ph,Qu];class Ka extends de{constructor(e={}){super(),this.rid=w(e,ph,Ka.defaultValues(ph)),this.encryptedKey=w(e,Qu,Ka.defaultValues(Qu)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ph:return new la;case Qu:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case ph:return r.variant===-1&&!("value"in r);case Qu:return r.isEqual(Ka.defaultValues(Qu));default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[la.schema(r.rid||{}),new Ce({name:r.encryptedKey||A})]})}fromSchema(e){ge(e,Bue);const r=pe(e,e,Ka.schema({names:{rid:{names:{blockName:ph}},encryptedKey:Qu}}));le.assertSchema(r,this.className),this.rid=new la({schema:r.result.rid}),this.encryptedKey=r.result.encryptedKey}toSchema(){return new _({value:[this.rid.toSchema(),this.encryptedKey]})}toJSON(){return{rid:this.rid.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}Ka.CLASS_NAME="RecipientEncryptedKey";const p1="encryptedKeys",X5="RecipientEncryptedKeys",_ue=[X5];class jl extends de{constructor(e={}){super(),this.encryptedKeys=w(e,p1,jl.defaultValues(p1)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case p1:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case p1:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.RecipientEncryptedKeys||A,value:Ka.schema()})]})}fromSchema(e){ge(e,_ue);const r=pe(e,e,jl.schema({names:{RecipientEncryptedKeys:X5}}));le.assertSchema(r,this.className),this.encryptedKeys=Array.from(r.result.RecipientEncryptedKeys,n=>new Ka({schema:n}))}toSchema(){return new _({value:Array.from(this.encryptedKeys,e=>e.toSchema())})}toJSON(){return{encryptedKeys:Array.from(this.encryptedKeys,e=>e.toJSON())}}}jl.CLASS_NAME="RecipientEncryptedKeys";const mh="version",gh="originator",xa="ukm",vh="keyEncryptionAlgorithm",yh="recipientEncryptedKeys",m1="recipientCertificate",g1="recipientPublicKey",Pue=[mh,gh,xa,vh,yh];class Qn extends de{constructor(e={}){super(),this.version=w(e,mh,Qn.defaultValues(mh)),this.originator=w(e,gh,Qn.defaultValues(gh)),xa in e&&(this.ukm=w(e,xa,Qn.defaultValues(xa))),this.keyEncryptionAlgorithm=w(e,vh,Qn.defaultValues(vh)),this.recipientEncryptedKeys=w(e,yh,Qn.defaultValues(yh)),this.recipientCertificate=w(e,m1,Qn.defaultValues(m1)),this.recipientPublicKey=w(e,g1,Qn.defaultValues(g1)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case mh:return 0;case gh:return new Ja;case xa:return new Ce;case vh:return new ae;case yh:return new jl;case m1:return new Bt;case g1:return null;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case mh:return r===0;case gh:return r.variant===-1&&!("value"in r);case xa:return r.isEqual(Qn.defaultValues(xa));case vh:return r.algorithmId===A&&!("algorithmParams"in r);case yh:return r.encryptedKeys.length===0;case m1:return!1;case g1:return!1;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),new W({idBlock:{tagClass:3,tagNumber:0},value:[Ja.schema(r.originator||{})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ce({name:r.ukm||A})]}),ae.schema(r.keyEncryptionAlgorithm||{}),jl.schema(r.recipientEncryptedKeys||{})]})}fromSchema(e){ge(e,Pue);const r=pe(e,e,Qn.schema({names:{version:mh,originator:{names:{blockName:gh}},ukm:xa,keyEncryptionAlgorithm:{names:{blockName:vh}},recipientEncryptedKeys:{names:{blockName:yh}}}}));le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,this.originator=new Ja({schema:r.result.originator}),xa in r.result&&(this.ukm=r.result.ukm),this.keyEncryptionAlgorithm=new ae({schema:r.result.keyEncryptionAlgorithm}),this.recipientEncryptedKeys=new jl({schema:r.result.recipientEncryptedKeys})}toSchema(){const e=[];return e.push(new se({value:this.version})),e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[this.originator.toSchema()]})),this.ukm&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[this.ukm]})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.recipientEncryptedKeys.toSchema()),new _({value:e})}toJSON(){const e={version:this.version,originator:this.originator.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),recipientEncryptedKeys:this.recipientEncryptedKeys.toJSON()};return this.ukm&&(e.ukm=this.ukm.toJSON()),e}}Qn.CLASS_NAME="KeyAgreeRecipientInfo";const Xu="keyIdentifier",jo="date",zo="other",Oue=[Xu,jo,zo];class bi extends de{constructor(e={}){super(),this.keyIdentifier=w(e,Xu,bi.defaultValues(Xu)),jo in e&&(this.date=w(e,jo,bi.defaultValues(jo))),zo in e&&(this.other=w(e,zo,bi.defaultValues(zo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xu:return new Ce;case jo:return new fr;case zo:return new Ri;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Xu:return r.isEqual(bi.defaultValues(Xu));case jo:return r.year===0&&r.month===0&&r.day===0&&r.hour===0&&r.minute===0&&r.second===0&&r.millisecond===0;case zo:return r.compareWithDefault("keyAttrId",r.keyAttrId)&&!("keyAttr"in r);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Ce({name:r.keyIdentifier||A}),new fr({optional:!0,name:r.date||A}),Ri.schema(r.other||{})]})}fromSchema(e){ge(e,Oue);const r=pe(e,e,bi.schema({names:{keyIdentifier:Xu,date:jo,other:{names:{blockName:zo}}}}));le.assertSchema(r,this.className),this.keyIdentifier=r.result.keyIdentifier,jo in r.result&&(this.date=r.result.date),zo in r.result&&(this.other=new Ri({schema:r.result.other}))}toSchema(){const e=[];return e.push(this.keyIdentifier),this.date&&e.push(this.date),this.other&&e.push(this.other.toSchema()),new _({value:e})}toJSON(){const e={keyIdentifier:this.keyIdentifier.toJSON()};return this.date&&(e.date=this.date),this.other&&(e.other=this.other.toJSON()),e}}bi.CLASS_NAME="KEKIdentifier";const Sh="version",wh="kekid",Ch="keyEncryptionAlgorithm",Zu="encryptedKey",v1="preDefinedKEK",Lue=[Sh,wh,Ch,Zu];class ys extends de{constructor(e={}){super(),this.version=w(e,Sh,ys.defaultValues(Sh)),this.kekid=w(e,wh,ys.defaultValues(wh)),this.keyEncryptionAlgorithm=w(e,Ch,ys.defaultValues(Ch)),this.encryptedKey=w(e,Zu,ys.defaultValues(Zu)),this.preDefinedKEK=w(e,v1,ys.defaultValues(v1)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Sh:return 0;case wh:return new bi;case Ch:return new ae;case Zu:return new Ce;case v1:return Hr;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case"KEKRecipientInfo":return r===ys.defaultValues(Sh);case wh:return r.compareWithDefault("keyIdentifier",r.keyIdentifier)&&!("date"in r)&&!("other"in r);case Ch:return r.algorithmId===A&&!("algorithmParams"in r);case Zu:return r.isEqual(ys.defaultValues(Zu));case v1:return r.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),bi.schema(r.kekid||{}),ae.schema(r.keyEncryptionAlgorithm||{}),new Ce({name:r.encryptedKey||A})]})}fromSchema(e){ge(e,Lue);const r=pe(e,e,ys.schema({names:{version:Sh,kekid:{names:{blockName:wh}},keyEncryptionAlgorithm:{names:{blockName:Ch}},encryptedKey:Zu}}));le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,this.kekid=new bi({schema:r.result.kekid}),this.keyEncryptionAlgorithm=new ae({schema:r.result.keyEncryptionAlgorithm}),this.encryptedKey=r.result.encryptedKey}toSchema(){return new _({value:[new se({value:this.version}),this.kekid.toSchema(),this.keyEncryptionAlgorithm.toSchema(),this.encryptedKey]})}toJSON(){return{version:this.version,kekid:this.kekid.toJSON(),keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()}}}ys.CLASS_NAME="KEKRecipientInfo";const Eh="version",Wo="keyDerivationAlgorithm",bh="keyEncryptionAlgorithm",ec="encryptedKey",y1="password",Vue=[Eh,Wo,bh,ec];class Fs extends de{constructor(e={}){super(),this.version=w(e,Eh,Fs.defaultValues(Eh)),Wo in e&&(this.keyDerivationAlgorithm=w(e,Wo,Fs.defaultValues(Wo))),this.keyEncryptionAlgorithm=w(e,bh,Fs.defaultValues(bh)),this.encryptedKey=w(e,ec,Fs.defaultValues(ec)),this.password=w(e,y1,Fs.defaultValues(y1)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Eh:return-1;case Wo:return new ae;case bh:return new ae;case ec:return new Ce;case y1:return Hr;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Eh:return r===-1;case Wo:case bh:return r.algorithmId===A&&!("algorithmParams"in r);case ec:return r.isEqual(Fs.defaultValues(ec));case y1:return r.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),new W({name:r.keyDerivationAlgorithm||A,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:ae.schema().valueBlock.value}),ae.schema(r.keyEncryptionAlgorithm||{}),new Ce({name:r.encryptedKey||A})]})}fromSchema(e){ge(e,Vue);const r=pe(e,e,Fs.schema({names:{version:Eh,keyDerivationAlgorithm:Wo,keyEncryptionAlgorithm:{names:{blockName:bh}},encryptedKey:ec}}));le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,Wo in r.result&&(this.keyDerivationAlgorithm=new ae({schema:new _({value:r.result.keyDerivationAlgorithm.valueBlock.value})})),this.keyEncryptionAlgorithm=new ae({schema:r.result.keyEncryptionAlgorithm}),this.encryptedKey=r.result.encryptedKey}toSchema(){const e=[];return e.push(new se({value:this.version})),this.keyDerivationAlgorithm&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:this.keyDerivationAlgorithm.toSchema().valueBlock.value})),e.push(this.keyEncryptionAlgorithm.toSchema()),e.push(this.encryptedKey),new _({value:e})}toJSON(){const e={version:this.version,keyEncryptionAlgorithm:this.keyEncryptionAlgorithm.toJSON(),encryptedKey:this.encryptedKey.toJSON()};return this.keyDerivationAlgorithm&&(e.keyDerivationAlgorithm=this.keyDerivationAlgorithm.toJSON()),e}}Fs.CLASS_NAME="PasswordRecipientInfo";const xh="oriType",tc="oriValue",Due=[xh,tc];class Nl extends de{constructor(e={}){super(),this.oriType=w(e,xh,Nl.defaultValues(xh)),this.oriValue=w(e,tc,Nl.defaultValues(tc)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case xh:return A;case tc:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case xh:return r===A;case tc:return Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.oriType||A}),new Ye({name:r.oriValue||A})]})}fromSchema(e){ge(e,Due);const r=pe(e,e,Nl.schema({names:{oriType:xh,oriValue:tc}}));le.assertSchema(r,this.className),this.oriType=r.result.oriType.valueBlock.toString(),this.oriValue=r.result.oriValue}toSchema(){return new _({value:[new Oe({value:this.oriType}),this.oriValue]})}toJSON(){const e={oriType:this.oriType};return Nl.compareWithDefault(tc,this.oriValue)||(e.oriValue=this.oriValue.toJSON()),e}}Nl.CLASS_NAME="OtherRecipientInfo";const S1="variant",S0="value",Uue=["blockName"];class zs extends de{constructor(e={}){super(),this.variant=w(e,S1,zs.defaultValues(S1)),S0 in e&&(this.value=w(e,S0,zs.defaultValues(S0))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case S1:return-1;case S0:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case S1:return r===zs.defaultValues(e);case S0:return Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new dr({value:[vs.schema({names:{blockName:r.blockName||A}}),new W({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:1},value:Qn.schema().valueBlock.value}),new W({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:2},value:ys.schema().valueBlock.value}),new W({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:3},value:Fs.schema().valueBlock.value}),new W({name:r.blockName||A,idBlock:{tagClass:3,tagNumber:4},value:Nl.schema().valueBlock.value})]})}fromSchema(e){ge(e,Uue);const r=pe(e,e,zs.schema({names:{blockName:"blockName"}}));if(le.assertSchema(r,this.className),r.result.blockName.idBlock.tagClass===1)this.variant=1,this.value=new vs({schema:r.result.blockName});else{const n=new _({value:r.result.blockName.valueBlock.value});switch(r.result.blockName.idBlock.tagNumber){case 1:this.variant=2,this.value=new Qn({schema:n});break;case 2:this.variant=3,this.value=new ys({schema:n});break;case 3:this.variant=4,this.value=new Fs({schema:n});break;case 4:this.variant=5,this.value=new Nl({schema:n});break;default:throw new Error("Incorrect structure of RecipientInfo block")}}}toSchema(){vt.assertEmpty(this.value,"value","RecipientInfo");const e=this.value.toSchema();switch(this.variant){case 1:return e;case 2:case 3:case 4:return e.idBlock.tagClass=3,e.idBlock.tagNumber=this.variant-1,e;default:return new Ye}}toJSON(){const e={variant:this.variant};return this.value&&this.variant>=1&&this.variant<=4&&(e.value=this.value.toJSON()),e}}zs.CLASS_NAME="RecipientInfo";const Go="hashAlgorithm",qo="maskGenAlgorithm",Jo="pSourceAlgorithm",Mue=[Go,qo,Jo];class Vn extends de{constructor(e={}){super(),this.hashAlgorithm=w(e,Go,Vn.defaultValues(Go)),this.maskGenAlgorithm=w(e,qo,Vn.defaultValues(qo)),this.pSourceAlgorithm=w(e,Jo,Vn.defaultValues(Jo)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Go:return new ae({algorithmId:"1.3.14.3.2.26",algorithmParams:new Pr});case qo:return new ae({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new ae({algorithmId:"1.3.14.3.2.26",algorithmParams:new Pr}).toSchema()});case Jo:return new ae({algorithmId:"1.2.840.113549.1.1.9",algorithmParams:new Ce({valueHex:new Uint8Array([218,57,163,238,94,107,75,13,50,85,191,239,149,96,24,144,175,216,7,9]).buffer})});default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new W({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[ae.schema(r.hashAlgorithm||{})]}),new W({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[ae.schema(r.maskGenAlgorithm||{})]}),new W({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[ae.schema(r.pSourceAlgorithm||{})]})]})}fromSchema(e){ge(e,Mue);const r=pe(e,e,Vn.schema({names:{hashAlgorithm:{names:{blockName:Go}},maskGenAlgorithm:{names:{blockName:qo}},pSourceAlgorithm:{names:{blockName:Jo}}}}));le.assertSchema(r,this.className),Go in r.result&&(this.hashAlgorithm=new ae({schema:r.result.hashAlgorithm})),qo in r.result&&(this.maskGenAlgorithm=new ae({schema:r.result.maskGenAlgorithm})),Jo in r.result&&(this.pSourceAlgorithm=new ae({schema:r.result.pSourceAlgorithm}))}toSchema(){const e=[];return this.hashAlgorithm.isEqual(Vn.defaultValues(Go))||e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(Vn.defaultValues(qo))||e.push(new W({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.pSourceAlgorithm.isEqual(Vn.defaultValues(Jo))||e.push(new W({idBlock:{tagClass:3,tagNumber:2},value:[this.pSourceAlgorithm.toSchema()]})),new _({value:e})}toJSON(){const e={};return this.hashAlgorithm.isEqual(Vn.defaultValues(Go))||(e.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(Vn.defaultValues(qo))||(e.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.pSourceAlgorithm.isEqual(Vn.defaultValues(Jo))||(e.pSourceAlgorithm=this.pSourceAlgorithm.toJSON()),e}}Vn.CLASS_NAME="RSAESOAEPParams";const Ah="keyInfo",Yo="entityUInfo",kh="suppPubInfo",$ue=[Ah,Yo,kh];class Pa extends de{constructor(e={}){super(),this.keyInfo=w(e,Ah,Pa.defaultValues(Ah)),Yo in e&&(this.entityUInfo=w(e,Yo,Pa.defaultValues(Yo))),this.suppPubInfo=w(e,kh,Pa.defaultValues(kh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ah:return new ae;case Yo:return new Ce;case kh:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Ah:case Yo:case kh:return r.isEqual(Pa.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[ae.schema(r.keyInfo||{}),new W({name:r.entityUInfo||A,idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[new Ce]}),new W({name:r.suppPubInfo||A,idBlock:{tagClass:3,tagNumber:2},value:[new Ce]})]})}fromSchema(e){ge(e,$ue);const r=pe(e,e,Pa.schema({names:{keyInfo:{names:{blockName:Ah}},entityUInfo:Yo,suppPubInfo:kh}}));le.assertSchema(r,this.className),this.keyInfo=new ae({schema:r.result.keyInfo}),Yo in r.result&&(this.entityUInfo=r.result.entityUInfo.valueBlock.value[0]),this.suppPubInfo=r.result.suppPubInfo.valueBlock.value[0]}toSchema(){const e=[];return e.push(this.keyInfo.toSchema()),this.entityUInfo&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[this.entityUInfo]})),e.push(new W({idBlock:{tagClass:3,tagNumber:2},value:[this.suppPubInfo]})),new _({value:e})}toJSON(){const e={keyInfo:this.keyInfo.toJSON(),suppPubInfo:this.suppPubInfo.toJSON()};return this.entityUInfo&&(e.entityUInfo=this.entityUInfo.toJSON()),e}}Pa.CLASS_NAME="ECCCMSSharedInfo";const Ih="version",Qo="originatorInfo",Th="recipientInfos",Nh="encryptedContentInfo",Xo="unprotectedAttrs",Fue=[Ih,Qo,Th,Nh,Xo],W_={kdfAlgorithm:"SHA-512",kekEncryptionLength:256},Hue={"P-256":256,"P-384":384,"P-521":528};class wi extends de{constructor(e={}){super(),this.version=w(e,Ih,wi.defaultValues(Ih)),Qo in e&&(this.originatorInfo=w(e,Qo,wi.defaultValues(Qo))),this.recipientInfos=w(e,Th,wi.defaultValues(Th)),this.encryptedContentInfo=w(e,Nh,wi.defaultValues(Nh)),Xo in e&&(this.unprotectedAttrs=w(e,Xo,wi.defaultValues(Xo))),this.policy={disableSplit:!!e.disableSplit},e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Ih:return 0;case Qo:return new Wc;case Th:return[];case Nh:return new Dr;case Xo:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Ih:return r===wi.defaultValues(e);case Qo:return r.certs.certificates.length===0&&r.crls.crls.length===0;case Th:case Xo:return r.length===0;case Nh:return Dr.compareWithDefault("contentType",r.contentType)&&Dr.compareWithDefault("contentEncryptionAlgorithm",r.contentEncryptionAlgorithm)&&Dr.compareWithDefault("encryptedContent",r.encryptedContent);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||A}),new W({name:r.originatorInfo||A,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Wc.schema().valueBlock.value}),new Or({value:[new rt({name:r.recipientInfos||A,value:zs.schema()})]}),Dr.schema(r.encryptedContentInfo||{}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new rt({name:r.unprotectedAttrs||A,value:ir.schema()})]})]})}fromSchema(e){ge(e,Fue);const r=pe(e,e,wi.schema({names:{version:Ih,originatorInfo:Qo,recipientInfos:Th,encryptedContentInfo:{names:{blockName:Nh}},unprotectedAttrs:Xo}}));le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,Qo in r.result&&(this.originatorInfo=new Wc({schema:new _({value:r.result.originatorInfo.valueBlock.value})})),this.recipientInfos=Array.from(r.result.recipientInfos,n=>new zs({schema:n})),this.encryptedContentInfo=new Dr({schema:r.result.encryptedContentInfo}),Xo in r.result&&(this.unprotectedAttrs=Array.from(r.result.unprotectedAttrs,n=>new ir({schema:n})))}toSchema(){const e=[];return e.push(new se({value:this.version})),this.originatorInfo&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:this.originatorInfo.toSchema().valueBlock.value})),e.push(new Or({value:Array.from(this.recipientInfos,r=>r.toSchema())})),e.push(this.encryptedContentInfo.toSchema()),this.unprotectedAttrs&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.unprotectedAttrs,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={version:this.version,recipientInfos:Array.from(this.recipientInfos,r=>r.toJSON()),encryptedContentInfo:this.encryptedContentInfo.toJSON()};return this.originatorInfo&&(e.originatorInfo=this.originatorInfo.toJSON()),this.unprotectedAttrs&&(e.unprotectedAttrs=Array.from(this.unprotectedAttrs,r=>r.toJSON())),e}addRecipientByCertificate(e,r,n,s=st(!0)){const i=Object.assign({useOAEP:!0,oaepHashAlgorithm:"SHA-512"},W_,r||{});if(e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.113549")!==-1)n=1;else if(e.subjectPublicKeyInfo.algorithm.algorithmId.indexOf("1.2.840.10045")!==-1)n=2;else throw new Error(`Unknown type of certificate's public key: ${e.subjectPublicKeyInfo.algorithm.algorithmId}`);switch(n){case 1:{let a,o;if(i.useOAEP===!0){a=s.getOIDByAlgorithm({name:"RSA-OAEP"},!0,"keyEncryptionAlgorithm");const u=s.getOIDByAlgorithm({name:i.oaepHashAlgorithm},!0,"RSAES-OAEP-params"),c=new ae({algorithmId:u,algorithmParams:new Pr});o=new Vn({hashAlgorithm:c,maskGenAlgorithm:new ae({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:c.toSchema()})}).toSchema()}else{if(a=s.getOIDByAlgorithm({name:"RSAES-PKCS1-v1_5"}),a===A)throw new Error("Can not find OID for RSAES-PKCS1-v1_5");o=new Pr}const l=new vs({version:0,rid:new jr({issuer:e.issuer,serialNumber:e.serialNumber}),keyEncryptionAlgorithm:new ae({algorithmId:a,algorithmParams:o}),recipientCertificate:e});this.recipientInfos.push(new zs({variant:1,value:l}))}break;case 2:{const a=new la({variant:1,value:new jr({issuer:e.issuer,serialNumber:e.serialNumber})});this._addKeyAgreeRecipientInfo(a,i,{recipientCertificate:e},s)}break;default:throw new Error(`Unknown "variant" value: ${n}`)}return!0}addRecipientByPreDefinedData(e,r={},n,s=st(!0)){if(Ht.assert(e,"preDefinedData","ArrayBuffer"),!e.byteLength)throw new Error("Pre-defined data could have zero length");if(!r.keyIdentifier){const i=new ArrayBuffer(16),a=new Uint8Array(i);s.getRandomValues(a),r.keyIdentifier=i}switch(r.hmacHashAlgorithm||(r.hmacHashAlgorithm="SHA-512"),r.iterationCount===void 0&&(r.iterationCount=2048),r.keyEncryptionAlgorithm||(r.keyEncryptionAlgorithm={name:"AES-KW",length:256}),r.keyEncryptionAlgorithmParams||(r.keyEncryptionAlgorithmParams=new Pr),n){case 1:{const i=s.getOIDByAlgorithm(r.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),a=new ys({version:4,kekid:new bi({keyIdentifier:new Ce({valueHex:r.keyIdentifier})}),keyEncryptionAlgorithm:new ae({algorithmId:i,algorithmParams:r.keyEncryptionAlgorithmParams}),preDefinedKEK:e});this.recipientInfos.push(new zs({variant:3,value:a}))}break;case 2:{const i=s.getOIDByAlgorithm({name:"PBKDF2"},!0,"keyDerivationAlgorithm"),a=new ArrayBuffer(64),o=new Uint8Array(a);s.getRandomValues(o);const l=s.getOIDByAlgorithm({name:"HMAC",hash:{name:r.hmacHashAlgorithm}},!0,"hmacHashAlgorithm"),u=new In({salt:new Ce({valueHex:a}),iterationCount:r.iterationCount,prf:new ae({algorithmId:l,algorithmParams:new Pr})}),c=s.getOIDByAlgorithm(r.keyEncryptionAlgorithm,!0,"keyEncryptionAlgorithm"),f=new Fs({version:0,keyDerivationAlgorithm:new ae({algorithmId:i,algorithmParams:u.toSchema()}),keyEncryptionAlgorithm:new ae({algorithmId:c,algorithmParams:r.keyEncryptionAlgorithmParams}),password:e});this.recipientInfos.push(new zs({variant:4,value:f}))}break;default:throw new Error(`Unknown value for "variant": ${n}`)}}addRecipientByKeyIdentifier(e,r,n,s=st(!0)){const i=Object.assign({},W_,n||{}),a=new la({variant:2,value:new Xi({subjectKeyIdentifier:new Ce({valueHex:r})})});this._addKeyAgreeRecipientInfo(a,i,{recipientPublicKey:e},s)}_addKeyAgreeRecipientInfo(e,r,n,s=st(!0)){const i=new Ka({rid:e}),a=s.getOIDByAlgorithm({name:"AES-KW",length:r.kekEncryptionLength},!0,"keyEncryptionAlgorithm"),o=new ae({algorithmId:a}),l=s.getOIDByAlgorithm({name:"ECDH",kdf:r.kdfAlgorithm},!0,"KeyAgreeRecipientInfo"),u=new ArrayBuffer(64),c=new Uint8Array(u);s.getRandomValues(c);const f={version:3,ukm:new Ce({valueHex:u}),keyEncryptionAlgorithm:new ae({algorithmId:l,algorithmParams:o.toSchema()}),recipientEncryptedKeys:new jl({encryptedKeys:[i]})},h=new Qn(Object.assign(f,n));this.recipientInfos.push(new zs({variant:2,value:h}))}async encrypt(e,r,n=st(!0)){const s=new ArrayBuffer(16),i=new Uint8Array(s);n.getRandomValues(i);const a=new Uint8Array(r),o=n.getOIDByAlgorithm(e,!0,"contentEncryptionAlgorithm"),l=await n.generateKey(e,!0,["encrypt"]),u=await n.encrypt({name:e.name,iv:i},l,a),c=await n.exportKey("raw",l);this.version=2,this.encryptedContentInfo=new Dr({disableSplit:this.policy.disableSplit,contentType:"1.2.840.113549.1.7.1",contentEncryptionAlgorithm:new ae({algorithmId:o,algorithmParams:new Ce({valueHex:s})}),encryptedContent:new Ce({valueHex:u})});const f=async S=>{const g=this.recipientInfos[S].value;let v,y;if(g.recipientPublicKey)v=g.recipientPublicKey.algorithm.namedCurve,y=g.recipientPublicKey;else if(g.recipientCertificate){const D=g.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(D.constructor.blockName()!==Oe.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${S}`);switch(D.valueBlock.toString()){case"1.2.840.10045.3.1.7":v="P-256";break;case"1.3.132.0.34":v="P-384";break;case"1.3.132.0.35":v="P-521";break;default:throw new Error(`Incorrect curve OID for index ${S}`)}y=await g.recipientCertificate.getPublicKey({algorithm:{algorithm:{name:"ECDH",namedCurve:v},usages:[]}},n)}else throw new Error("Unsupported RecipientInfo");const C=Hue[v],E=await n.generateKey({name:"ECDH",namedCurve:v},!0,["deriveBits"]),b=await n.exportKey("spki",E.publicKey),T=await n.deriveBits({name:"ECDH",public:y},E.privateKey,C),O=new ae({schema:g.keyEncryptionAlgorithm.algorithmParams}),H=n.getAlgorithmByOID(O.algorithmId,!0,"aesKWAlgorithm");let L=H.length;const Y=new ArrayBuffer(4),ne=new Uint8Array(Y);for(let D=3;D>=0;D--)ne[D]=L,L>>=8;const Z=new Pa({keyInfo:new ae({algorithmId:O.algorithmId}),entityUInfo:g.ukm,suppPubInfo:new Ce({valueHex:Y})}).toSchema().toBER(!1),q=n.getAlgorithmByOID(g.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm"),ie=await P_(q.kdf,T,H.length,Z,n),J=await n.importKey("raw",ie,{name:"AES-KW"},!0,["wrapKey"]),G=await n.wrapKey("raw",l,J,{name:"AES-KW"}),re=new Ja;return re.variant=3,re.value=Ha.fromBER(b),g.originator=re,g.recipientEncryptedKeys.encryptedKeys[0].encryptedKey=new Ce({valueHex:G}),{ecdhPrivateKey:E.privateKey}},h=async S=>{const g=this.recipientInfos[S].value,v=n.getAlgorithmByOID(g.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if(v.name==="RSA-OAEP"){const y=g.keyEncryptionAlgorithm.algorithmParams,C=new Vn({schema:y});if(v.hash=n.getAlgorithmByOID(C.hashAlgorithm.algorithmId),!("name"in v.hash))throw new Error(`Incorrect OID for hash algorithm: ${C.hashAlgorithm.algorithmId}`)}try{const y=await g.recipientCertificate.getPublicKey({algorithm:{algorithm:v,usages:["encrypt","wrapKey"]}},n),C=await n.encrypt(y.algorithm,y,c);g.encryptedKey=new Ce({valueHex:C})}catch{}},p=async S=>{const g=this.recipientInfos[S].value,v=n.getAlgorithmByOID(g.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),y=await n.importKey("raw",new Uint8Array(g.preDefinedKEK),v,!0,["wrapKey"]),C=await n.wrapKey("raw",l,y,v);g.encryptedKey=new Ce({valueHex:C})},d=async S=>{const g=this.recipientInfos[S].value;let v;if(!g.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!g.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{v=new In({schema:g.keyDerivationAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}const y=new Uint8Array(g.password),C=await n.importKey("raw",y,"PBKDF2",!1,["deriveKey"]),E=n.getAlgorithmByOID(g.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm");let b="SHA-1";v.prf&&(b=n.getAlgorithmByOID(v.prf.algorithmId,!0,"prfAlgorithm").hash.name);const T=new Uint8Array(v.salt.valueBlock.valueHex),O=v.iterationCount,H=await n.deriveKey({name:"PBKDF2",hash:{name:b},salt:T,iterations:O},C,E,!0,["wrapKey"]),L=await n.wrapKey("raw",l,H,E);g.encryptedKey=new Ce({valueHex:L})},m=[];for(let S=0;S<this.recipientInfos.length;S++)switch(this.recipientInfos[S].variant){case 1:m.push(await h(S));break;case 2:m.push(await f(S));break;case 3:m.push(await p(S));break;case 4:m.push(await d(S));break;default:throw new Error(`Unknown recipient type in array with index ${S}`)}return m}async decrypt(e,r,n=st(!0)){const s=r||{};if(e+1>this.recipientInfos.length)throw new Error(`Maximum value for "index" is: ${this.recipientInfos.length-1}`);const i=async m=>{const S=this.recipientInfos[m].value;let g,v,y;const C=S.originator;if(s.recipientCertificate){const q=s.recipientCertificate.subjectPublicKeyInfo.algorithm.algorithmParams;if(q.constructor.blockName()!==Oe.blockName())throw new Error(`Incorrect "recipientCertificate" for index ${m}`);g=q.valueBlock.toString()}else if(C.value.algorithm.algorithmParams){const q=C.value.algorithm.algorithmParams;if(q.constructor.blockName()!==Oe.blockName())throw new Error(`Incorrect originator for index ${m}`);g=q.valueBlock.toString()}else throw new Error('Parameter "recipientCertificate" is mandatory for "KeyAgreeRecipientInfo" if algorithm params are missing from originator');if(!s.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyAgreeRecipientInfo"');switch(g){case"1.2.840.10045.3.1.7":v="P-256",y=256;break;case"1.3.132.0.34":v="P-384",y=384;break;case"1.3.132.0.35":v="P-521",y=528;break;default:throw new Error(`Incorrect curve OID for index ${m}`)}let E,b=n;ze.isBufferSource(s.recipientPrivateKey)?E=await n.importKey("pkcs8",s.recipientPrivateKey,{name:"ECDH",namedCurve:v},!0,["deriveBits"]):(E=s.recipientPrivateKey,"crypto"in s&&s.crypto&&(b=s.crypto.subtle)),"algorithmParams"in C.value.algorithm||(C.value.algorithm.algorithmParams=new Oe({value:g}));const T=C.value.toSchema().toBER(!1),O=await n.importKey("spki",T,{name:"ECDH",namedCurve:v},!0,[]),H=await b.deriveBits({name:"ECDH",public:O},E,y);async function L(q){q=q||!1;const ie=new ae({schema:S.keyEncryptionAlgorithm.algorithmParams}),J=n.getAlgorithmByOID(ie.algorithmId,!0,"kwAlgorithm");let G=J.length;const re=new ArrayBuffer(4),D=new Uint8Array(re);for(let ce=3;ce>=0;ce--)D[ce]=G,G>>=8;const ee={algorithmId:ie.algorithmId};q&&(ee.algorithmParams=new Pr);const K=new Pa({keyInfo:new ae(ee),entityUInfo:S.ukm,suppPubInfo:new Ce({valueHex:re})}).toSchema().toBER(!1),$=n.getAlgorithmByOID(S.keyEncryptionAlgorithm.algorithmId,!0,"ecdhAlgorithm");if(!$.name)throw new Error(`Incorrect OID for key encryption algorithm: ${S.keyEncryptionAlgorithm.algorithmId}`);return P_($.kdf,H,J.length,K,n)}const Y=await L(),ne=async q=>n.importKey("raw",q,{name:"AES-KW"},!0,["unwrapKey"]),z=await ne(Y),Z=async q=>{const ie=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,J=n.getAlgorithmByOID(ie,!0,"contentEncryptionAlgorithm");return n.unwrapKey("raw",S.recipientEncryptedKeys.encryptedKeys[0].encryptedKey.valueBlock.valueHexView,q,{name:"AES-KW"},J,!0,["decrypt"])};try{return await Z(z)}catch{const q=await L(!0),ie=await ne(q);return Z(ie)}},a=async m=>{const S=this.recipientInfos[m].value;if(!s.recipientPrivateKey)throw new Error('Parameter "recipientPrivateKey" is mandatory for "KeyTransRecipientInfo"');const g=n.getAlgorithmByOID(S.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm");if(g.name==="RSA-OAEP"){const T=S.keyEncryptionAlgorithm.algorithmParams,O=new Vn({schema:T});if(g.hash=n.getAlgorithmByOID(O.hashAlgorithm.algorithmId),!("name"in g.hash))throw new Error(`Incorrect OID for hash algorithm: ${O.hashAlgorithm.algorithmId}`)}let v,y=n;ze.isBufferSource(s.recipientPrivateKey)?v=await n.importKey("pkcs8",s.recipientPrivateKey,g,!0,["decrypt"]):(v=s.recipientPrivateKey,"crypto"in s&&s.crypto&&(y=s.crypto.subtle));const C=await y.decrypt(v.algorithm,v,S.encryptedKey.valueBlock.valueHexView),E=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,b=n.getAlgorithmByOID(E,!0,"contentEncryptionAlgorithm");if(!("name"in b))throw new Error(`Incorrect "contentEncryptionAlgorithm": ${E}`);return n.importKey("raw",C,b,!0,["decrypt"])},o=async m=>{const S=this.recipientInfos[m].value;if(!s.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');const g=n.getAlgorithmByOID(S.keyEncryptionAlgorithm.algorithmId,!0,"kekAlgorithm"),v=await n.importKey("raw",s.preDefinedData,g,!0,["unwrapKey"]),y=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,C=n.getAlgorithmByOID(y,!0,"contentEncryptionAlgorithm");if(!C.name)throw new Error(`Incorrect "contentEncryptionAlgorithm": ${y}`);return n.unwrapKey("raw",S.encryptedKey.valueBlock.valueHexView,v,g,C,!0,["decrypt"])},l=async m=>{const S=this.recipientInfos[m].value;let g;if(!s.preDefinedData)throw new Error('Parameter "preDefinedData" is mandatory for "KEKRecipientInfo"');if(!S.keyDerivationAlgorithm)throw new Error('Please append encoded "keyDerivationAlgorithm"');if(!S.keyDerivationAlgorithm.algorithmParams)throw new Error('Incorrectly encoded "keyDerivationAlgorithm"');try{g=new In({schema:S.keyDerivationAlgorithm.algorithmParams})}catch{throw new Error('Incorrectly encoded "keyDerivationAlgorithm"')}const v=await n.importKey("raw",s.preDefinedData,"PBKDF2",!1,["deriveKey"]),y=n.getAlgorithmByOID(S.keyEncryptionAlgorithm.algorithmId,!0,"keyEncryptionAlgorithm"),C=g.prf?n.getAlgorithmByOID(g.prf.algorithmId,!0,"prfAlgorithm").hash.name:"SHA-1",E=new Uint8Array(g.salt.valueBlock.valueHex),b=g.iterationCount,T=await n.deriveKey({name:"PBKDF2",hash:{name:C},salt:E,iterations:b},v,y,!0,["unwrapKey"]),O=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,H=n.getAlgorithmByOID(O,!0,"contentEncryptionAlgorithm");return n.unwrapKey("raw",S.encryptedKey.valueBlock.valueHexView,T,y,H,!0,["decrypt"])};let u;switch(this.recipientInfos[e].variant){case 1:u=await a(e);break;case 2:u=await i(e);break;case 3:u=await o(e);break;case 4:u=await l(e);break;default:throw new Error(`Unknown recipient type in array with index ${e}`)}const c=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId,f=n.getAlgorithmByOID(c,!0,"contentEncryptionAlgorithm"),h=this.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams.valueBlock.valueHex,p=new Uint8Array(h);if(!this.encryptedContentInfo.encryptedContent)throw new Error("Required property `encryptedContent` is empty");const d=this.encryptedContentInfo.getEncryptedContent();return n.decrypt({name:f.name,iv:p},u,d)}}wi.CLASS_NAME="EnvelopedData";const Pf="safeContents",w0="parsedValue",G_="contentInfos";class Gc extends de{constructor(e={}){super(),this.safeContents=w(e,Pf,Gc.defaultValues(Pf)),w0 in e&&(this.parsedValue=w(e,w0,Gc.defaultValues(w0))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Pf:return[];case w0:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Pf:return r.length===0;case w0:return r instanceof Object&&Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new rt({name:r.contentInfos||A,value:er.schema()})]})}fromSchema(e){ge(e,[G_]);const r=pe(e,e,Gc.schema({names:{contentInfos:G_}}));le.assertSchema(r,this.className),this.safeContents=Array.from(r.result.contentInfos,n=>new er({schema:n}))}toSchema(){return new _({value:Array.from(this.safeContents,e=>e.toSchema())})}toJSON(){return{safeContents:Array.from(this.safeContents,e=>e.toJSON())}}async parseInternalValues(e,r=st(!0)){if(vt.assert(e,Pf),Ht.assert(e.safeContents,Pf,"Array"),e.safeContents.length!==this.safeContents.length)throw new Ht('Length of "parameters.safeContents" must be equal to "this.safeContents.length"');this.parsedValue={safeContents:[]};for(const[n,s]of this.safeContents.entries()){const i=e.safeContents[n],a=`parameters.safeContents[${n}]`;switch(s.contentType){case hT:{Ht.assert(s.content,"this.safeContents[j].content",Ce);const o=s.content.getValue();this.parsedValue.safeContents.push({privacyMode:0,value:Fa.fromBER(o)})}break;case j5:{const o=new wi({schema:s.content});vt.assert(a,i,"recipientCertificate","recipientKey");const l=i,u=l.recipientCertificate,c=l.recipientKey,f=await o.decrypt(0,{recipientCertificate:u,recipientPrivateKey:c},r);this.parsedValue.safeContents.push({privacyMode:2,value:Fa.fromBER(f)})}break;case z5:{const o=new ra({schema:s.content});vt.assert(a,i,"password");const l=i.password,u=await o.decrypt({password:l},r);this.parsedValue.safeContents.push({privacyMode:1,value:Fa.fromBER(u)})}break;default:throw new Error(`Unknown "contentType" for AuthenticatedSafe: " ${s.contentType}`)}}}async makeInternalValues(e,r=st(!0)){if(!this.parsedValue)throw new Error('Please run "parseValues" first or add "parsedValue" manually');if(Ht.assert(this.parsedValue,"this.parsedValue","object"),Ht.assert(this.parsedValue.safeContents,"this.parsedValue.safeContents","Array"),Ht.assert(e,"parameters","object"),vt.assert(e,"safeContents"),Ht.assert(e.safeContents,"parameters.safeContents","Array"),e.safeContents.length!==this.parsedValue.safeContents.length)throw new Ht('Length of "parameters.safeContents" must be equal to "this.parsedValue.safeContents"');this.safeContents=[];for(const[n,s]of this.parsedValue.safeContents.entries())switch(vt.assert("content",s,"privacyMode","value"),Ht.assert(s.value,"content.value",Fa),s.privacyMode){case 0:{const i=s.value.toSchema().toBER(!1);this.safeContents.push(new er({contentType:"1.2.840.113549.1.7.1",content:new Ce({valueHex:i})}))}break;case 1:{const i=new ra,a=e.safeContents[n];a.contentToEncrypt=s.value.toSchema().toBER(!1),await i.encrypt(a,r),this.safeContents.push(new er({contentType:"1.2.840.113549.1.7.6",content:i.toSchema()}))}break;case 2:{const i=new wi,a=s.value.toSchema().toBER(!1),o=e.safeContents[n];switch(vt.assert(`parameters.safeContents[${n}]`,o,"encryptingCertificate","encryptionAlgorithm"),!0){case o.encryptionAlgorithm.name.toLowerCase()==="aes-cbc":case o.encryptionAlgorithm.name.toLowerCase()==="aes-gcm":break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm" in "parameters.safeContents[i]": ${o.encryptionAlgorithm}`)}switch(!0){case o.encryptionAlgorithm.length===128:case o.encryptionAlgorithm.length===192:case o.encryptionAlgorithm.length===256:break;default:throw new Error(`Incorrect parameter "encryptionAlgorithm.length" in "parameters.safeContents[i]": ${o.encryptionAlgorithm.length}`)}const l=o.encryptionAlgorithm;i.addRecipientByCertificate(o.encryptingCertificate,{},void 0,r),await i.encrypt(l,a,r),this.safeContents.push(new er({contentType:"1.2.840.113549.1.7.3",content:i.toSchema()}))}break;default:throw new Error(`Incorrect value for "content.privacyMode": ${s.privacyMode}`)}return this}}Gc.CLASS_NAME="AuthenticatedSafe";const rc="hashAlgorithm",Rh="issuerNameHash",Bh="issuerKeyHash",nc="serialNumber",Kue=[rc,Rh,Bh,nc];class Mr extends de{constructor(e={}){super(),this.hashAlgorithm=w(e,rc,Mr.defaultValues(rc)),this.issuerNameHash=w(e,Rh,Mr.defaultValues(Rh)),this.issuerKeyHash=w(e,Bh,Mr.defaultValues(Bh)),this.serialNumber=w(e,nc,Mr.defaultValues(nc)),e.schema&&this.fromSchema(e.schema)}static async create(e,r,n=st(!0)){const s=new Mr;return await s.createForCertificate(e,r,n),s}static defaultValues(e){switch(e){case rc:return new ae;case Rh:case Bh:return new Ce;case nc:return new se;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case rc:return r.algorithmId===A&&!("algorithmParams"in r);case Rh:case Bh:case nc:return r.isEqual(Mr.defaultValues(nc));default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[ae.schema(r.hashAlgorithmObject||{names:{blockName:r.hashAlgorithm||A}}),new Ce({name:r.issuerNameHash||A}),new Ce({name:r.issuerKeyHash||A}),new se({name:r.serialNumber||A})]})}fromSchema(e){ge(e,Kue);const r=pe(e,e,Mr.schema({names:{hashAlgorithm:rc,issuerNameHash:Rh,issuerKeyHash:Bh,serialNumber:nc}}));le.assertSchema(r,this.className),this.hashAlgorithm=new ae({schema:r.result.hashAlgorithm}),this.issuerNameHash=r.result.issuerNameHash,this.issuerKeyHash=r.result.issuerKeyHash,this.serialNumber=r.result.serialNumber}toSchema(){return new _({value:[this.hashAlgorithm.toSchema(),this.issuerNameHash,this.issuerKeyHash,this.serialNumber]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),issuerNameHash:this.issuerNameHash.toJSON(),issuerKeyHash:this.issuerKeyHash.toJSON(),serialNumber:this.serialNumber.toJSON()}}isEqual(e){return!(this.hashAlgorithm.algorithmId!==e.hashAlgorithm.algorithmId||!ze.isEqual(this.issuerNameHash.valueBlock.valueHexView,e.issuerNameHash.valueBlock.valueHexView)||!ze.isEqual(this.issuerKeyHash.valueBlock.valueHexView,e.issuerKeyHash.valueBlock.valueHexView)||!this.serialNumber.isEqual(e.serialNumber))}async createForCertificate(e,r,n=st(!0)){vt.assert(r,rc,"issuerCertificate");const s=n.getOIDByAlgorithm({name:r.hashAlgorithm},!0,"hashAlgorithm");this.hashAlgorithm=new ae({algorithmId:s,algorithmParams:new Pr});const i=r.issuerCertificate;this.serialNumber=e.serialNumber;const a=await n.digest({name:r.hashAlgorithm},i.subject.toSchema().toBER(!1));this.issuerNameHash=new Ce({valueHex:a});const o=i.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView,l=await n.digest({name:r.hashAlgorithm},o);this.issuerKeyHash=new Ce({valueHex:l})}}Mr.CLASS_NAME="CertID";const _h="certID",Ph="certStatus",Oh="thisUpdate",Zo="nextUpdate",sc="singleExtensions",jue=[_h,Ph,Oh,Zo,sc];class Ci extends de{constructor(e={}){super(),this.certID=w(e,_h,Ci.defaultValues(_h)),this.certStatus=w(e,Ph,Ci.defaultValues(Ph)),this.thisUpdate=w(e,Oh,Ci.defaultValues(Oh)),Zo in e&&(this.nextUpdate=w(e,Zo,Ci.defaultValues(Zo))),sc in e&&(this.singleExtensions=w(e,sc,Ci.defaultValues(sc))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case _h:return new Mr;case Ph:return{};case Oh:case Zo:return new Date(0,0,0);case sc:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case _h:return Mr.compareWithDefault("hashAlgorithm",r.hashAlgorithm)&&Mr.compareWithDefault("issuerNameHash",r.issuerNameHash)&&Mr.compareWithDefault("issuerKeyHash",r.issuerKeyHash)&&Mr.compareWithDefault("serialNumber",r.serialNumber);case Ph:return Object.keys(r).length===0;case Oh:case Zo:return r===Ci.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[Mr.schema(r.certID||{}),new dr({value:[new qe({name:r.certStatus||A,idBlock:{tagClass:3,tagNumber:0}}),new W({name:r.certStatus||A,idBlock:{tagClass:3,tagNumber:1},value:[new fr,new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new lf]})]}),new qe({name:r.certStatus||A,idBlock:{tagClass:3,tagNumber:2},lenBlock:{length:1}})]}),new fr({name:r.thisUpdate||A}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fr({name:r.nextUpdate||A})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Kr.schema(r.singleExtensions||{})]})]})}fromSchema(e){ge(e,jue);const r=pe(e,e,Ci.schema({names:{certID:{names:{blockName:_h}},certStatus:Ph,thisUpdate:Oh,nextUpdate:Zo,singleExtensions:{names:{blockName:sc}}}}));le.assertSchema(r,this.className),this.certID=new Mr({schema:r.result.certID}),this.certStatus=r.result.certStatus,this.thisUpdate=r.result.thisUpdate.toDate(),Zo in r.result&&(this.nextUpdate=r.result.nextUpdate.toDate()),sc in r.result&&(this.singleExtensions=Array.from(r.result.singleExtensions.valueBlock.value,n=>new Ur({schema:n})))}toSchema(){const e=[];return e.push(this.certID.toSchema()),e.push(this.certStatus),e.push(new fr({valueDate:this.thisUpdate})),this.nextUpdate&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[new fr({valueDate:this.nextUpdate})]})),this.singleExtensions&&e.push(new _({value:Array.from(this.singleExtensions,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={certID:this.certID.toJSON(),certStatus:this.certStatus.toJSON(),thisUpdate:this.thisUpdate};return this.nextUpdate&&(e.nextUpdate=this.nextUpdate),this.singleExtensions&&(e.singleExtensions=Array.from(this.singleExtensions,r=>r.toJSON())),e}}Ci.CLASS_NAME="SingleResponse";const w1="tbs",ic="version",fg="responderID",hg="producedAt",dg="responses",Lh="responseExtensions",gf="ResponseData",tS=`${gf}.${ic}`,Vh=`${gf}.${fg}`,hk=`${gf}.${hg}`,dk=`${gf}.${dg}`,rS=`${gf}.${Lh}`,zue=[gf,tS,Vh,hk,dk,rS];class Jr extends de{constructor(e={}){super(),this.tbsView=new Uint8Array(w(e,w1,Jr.defaultValues(w1))),ic in e&&(this.version=w(e,ic,Jr.defaultValues(ic))),this.responderID=w(e,fg,Jr.defaultValues(fg)),this.producedAt=w(e,hg,Jr.defaultValues(hg)),this.responses=w(e,dg,Jr.defaultValues(dg)),Lh in e&&(this.responseExtensions=w(e,Lh,Jr.defaultValues(Lh))),e.schema&&this.fromSchema(e.schema)}get tbs(){return ze.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case ic:return 0;case w1:return Hr;case fg:return{};case hg:return new Date(0,0,0);case dg:case Lh:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case w1:return r.byteLength===0;case fg:return Object.keys(r).length===0;case hg:return r===Jr.defaultValues(e);case dg:case Lh:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||gf,value:[new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new se({name:r.version||tS})]}),new dr({value:[new W({name:r.responderID||Vh,idBlock:{tagClass:3,tagNumber:1},value:[Kt.schema(r.ResponseDataByName||{names:{blockName:"ResponseData.byName"}})]}),new W({name:r.responderID||Vh,idBlock:{tagClass:3,tagNumber:2},value:[new Ce({name:r.ResponseDataByKey||"ResponseData.byKey"})]})]}),new fr({name:r.producedAt||hk}),new _({value:[new rt({name:dk,value:Ci.schema(r.response||{})})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Kr.schema(r.extensions||{names:{blockName:rS}})]})]})}fromSchema(e){ge(e,zue);const r=pe(e,e,Jr.schema());le.assertSchema(r,this.className),this.tbsView=r.result.ResponseData.valueBeforeDecodeView,tS in r.result&&(this.version=r.result[tS].valueBlock.valueDec),r.result[Vh].idBlock.tagNumber===1?this.responderID=new Kt({schema:r.result[Vh].valueBlock.value[0]}):this.responderID=r.result[Vh].valueBlock.value[0],this.producedAt=r.result[hk].toDate(),this.responses=Array.from(r.result[dk],n=>new Ci({schema:n})),rS in r.result&&(this.responseExtensions=Array.from(r.result[rS].valueBlock.value,n=>new Ur({schema:n})))}toSchema(e=!1){let r;if(e===!1){if(!this.tbsView.byteLength)return Jr.schema();const n=Ar(this.tbsView);le.assert(n,"TBS Response Data"),r=n.result}else{const n=[];ic in this&&n.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[new se({value:this.version})]})),this.responderID instanceof Kt?n.push(new W({idBlock:{tagClass:3,tagNumber:1},value:[this.responderID.toSchema()]})):n.push(new W({idBlock:{tagClass:3,tagNumber:2},value:[this.responderID]})),n.push(new fr({valueDate:this.producedAt})),n.push(new _({value:Array.from(this.responses,s=>s.toSchema())})),this.responseExtensions&&n.push(new W({idBlock:{tagClass:3,tagNumber:1},value:[new _({value:Array.from(this.responseExtensions,s=>s.toSchema())})]})),r=new _({value:n})}return r}toJSON(){const e={};return ic in this&&(e.version=this.version),this.responderID&&(e.responderID=this.responderID),this.producedAt&&(e.producedAt=this.producedAt),this.responses&&(e.responses=Array.from(this.responses,r=>r.toJSON())),this.responseExtensions&&(e.responseExtensions=Array.from(this.responseExtensions,r=>r.toJSON())),e}}Jr.CLASS_NAME="ResponseData";const Zb="trustedCerts",ex="certs",tx="crls",rx="ocsps",nx="checkDate",sx="findOrigin",ix="findIssuer";var Cc;(function(t){t[t.unknown=-1]="unknown",t[t.success=0]="success",t[t.noRevocation=11]="noRevocation",t[t.noPath=60]="noPath",t[t.noValidPath=97]="noValidPath"})(Cc||(Cc={}));class ml extends Error{constructor(e,r){super(r),this.name=ml.NAME,this.code=e,this.message=r}}ml.NAME="ChainValidationError";function Wue(t,e){for(let r=0;r<e.length;r++)if(ze.isEqual(t.tbsView,e[r].tbsView))return!0;return!1}class bE{constructor(e={}){this.trustedCerts=w(e,Zb,this.defaultValues(Zb)),this.certs=w(e,ex,this.defaultValues(ex)),this.crls=w(e,tx,this.defaultValues(tx)),this.ocsps=w(e,rx,this.defaultValues(rx)),this.checkDate=w(e,nx,this.defaultValues(nx)),this.findOrigin=w(e,sx,this.defaultValues(sx)),this.findIssuer=w(e,ix,this.defaultValues(ix))}static defaultFindOrigin(e,r){e.tbsView.byteLength===0&&(e.tbsView=new Uint8Array(e.encodeTBS().toBER()));for(const n of r.certs)if(n.tbsView.byteLength===0&&(n.tbsView=new Uint8Array(n.encodeTBS().toBER())),ze.isEqual(e.tbsView,n.tbsView))return"Intermediate Certificates";for(const n of r.trustedCerts)if(n.tbsView.byteLength===0&&(n.tbsView=new Uint8Array(n.encodeTBS().toBER())),ze.isEqual(e.tbsView,n.tbsView))return"Trusted Certificates";return"Unknown"}async defaultFindIssuer(e,r,n=st(!0)){const s=[];let i=null,a=null,o=null;if(e.subject.isEqual(e.issuer))try{if(await e.verify(void 0,n))return[e]}catch{}if(e.extensions){for(const u of e.extensions)if(u.extnID===cT&&u.parsedValue instanceof Al){u.parsedValue.keyIdentifier?i=u.parsedValue.keyIdentifier:(u.parsedValue.authorityCertIssuer&&(a=u.parsedValue.authorityCertIssuer),u.parsedValue.authorityCertSerialNumber&&(o=u.parsedValue.authorityCertSerialNumber));break}}function l(u){if(i!==null&&u.extensions){let f=!1;for(const h of u.extensions)if(h.extnID===Yoe&&h.parsedValue){f=!0,ze.isEqual(h.parsedValue.valueBlock.valueHex,i.valueBlock.valueHexView)&&s.push(u);break}if(f)return}let c=!1;o!==null&&(c=u.serialNumber.isEqual(o)),a!==null?u.subject.isEqual(a)&&c&&s.push(u):e.issuer.isEqual(u.subject)&&s.push(u)}for(const u of r.trustedCerts)l(u);for(const u of r.certs)l(u);for(let u=0;u<s.length;u++)try{await e.verify(s[u],n)===!1&&s.splice(u,1)}catch{s.splice(u,1)}return s}defaultValues(e){switch(e){case Zb:return[];case ex:return[];case tx:return[];case rx:return[];case nx:return new Date;case sx:return bE.defaultFindOrigin;case ix:return this.defaultFindIssuer;default:throw new Error(`Invalid member name for CertificateChainValidationEngine class: ${e}`)}}async sort(e=!1,r=st(!0)){const n=[],s=async(d,m)=>{const S=[];function g(y){let C=!0;for(let E=0;E<y.length;E++){for(let b=0;b<y.length;b++)if(b!==E&&y[E]===y[b]){C=!1;break}if(!C)break}return C}if(Wue(d,this.trustedCerts))return[[d]];const v=await this.findIssuer(d,this,m);if(v.length===0)throw new Error("No valid certificate paths found");for(let y=0;y<v.length;y++){if(ze.isEqual(v[y].tbsView,d.tbsView)){S.push([v[y]]);continue}const C=await s(v[y],m);for(let E=0;E<C.length;E++){const b=C[E].slice();b.splice(0,0,v[y]),g(b)?S.push(b):S.push(C[E])}}return S},i=async d=>{const m=[],S=[],g=[];if(m.push(...n.filter(v=>d.issuer.isEqual(v.subject))),m.length===0)return{status:1,statusMessage:"No certificate's issuers"};if(S.push(...this.crls.filter(v=>v.issuer.isEqual(d.issuer))),S.length===0)return{status:2,statusMessage:"No CRLs for specific certificate issuer"};for(let v=0;v<S.length;v++){const y=S[v];if(!(y.nextUpdate&&y.nextUpdate.value<this.checkDate))for(let C=0;C<m.length;C++)try{if(await S[v].verify({issuerCertificate:m[C]},r)){g.push({crl:S[v],certificate:m[C]});break}}catch{}}return g.length?{status:0,statusMessage:A,result:g}:{status:3,statusMessage:"No valid CRLs found"}},a=async(d,m)=>{const S=r.getAlgorithmByOID(d.signatureAlgorithm.algorithmId);if(!S.name||!S.hash)return 1;for(let g=0;g<this.ocsps.length;g++){const y=await this.ocsps[g].getCertificateStatus(d,m,r);if(y.isForCertificate)return y.status===0?0:1}return 2};async function o(d,m=!1){let S=!1,g=!1,v=!1,y=!1;if(d.extensions){for(let C=0;C<d.extensions.length;C++){const E=d.extensions[C];if(E.critical&&!E.parsedValue)return{result:!1,resultCode:6,resultMessage:`Unable to parse critical certificate extension: ${E.extnID}`};if(E.extnID===Qoe){v=!0;const b=new Uint8Array(E.parsedValue.valueBlock.valueHex);(b[0]&4)===4&&(g=!0),(b[0]&2)===2&&(y=!0)}E.extnID===lT&&"cA"in E.parsedValue&&E.parsedValue.cA===!0&&(S=!0)}if(g===!0&&S===!1)return{result:!1,resultCode:3,resultMessage:'Unable to build certificate chain - using "keyCertSign" flag set without BasicConstraints'};if(v===!0&&S===!0&&g===!1)return{result:!1,resultCode:4,resultMessage:'Unable to build certificate chain - "keyCertSign" flag was not set'};if(S===!0&&v===!0&&m&&y===!1)return{result:!1,resultCode:5,resultMessage:'Unable to build certificate chain - intermediate certificate must have "cRLSign" key usage flag'}}return S===!1?{result:!1,resultCode:7,resultMessage:"Unable to build certificate chain - more than one possible end-user certificate"}:{result:!0,resultCode:0,resultMessage:A}}const l=async(d,m)=>{for(let S=0;S<d.length;S++)if(d[S].notBefore.value>m||d[S].notAfter.value<m)return{result:!1,resultCode:8,resultMessage:"The certificate is either not yet valid or expired"};if(d.length<2)return{result:!1,resultCode:9,resultMessage:"Too short certificate path"};for(let S=d.length-2;S>=0;S--)if(d[S].issuer.isEqual(d[S].subject)===!1&&d[S].issuer.isEqual(d[S+1].subject)===!1)return{result:!1,resultCode:10,resultMessage:"Incorrect name chaining"};if(this.crls.length!==0||this.ocsps.length!==0)for(let S=0;S<d.length-1;S++){let g=2,v={status:0,statusMessage:A};if(this.ocsps.length!==0)switch(g=await a(d[S],d[S+1]),g){case 0:continue;case 1:return{result:!1,resultCode:12,resultMessage:"One of certificates was revoked via OCSP response"}}if(this.crls.length!==0){if(v=await i(d[S]),v.status===0&&v.result)for(let y=0;y<v.result.length;y++){if(v.result[y].crl.isCertificateRevoked(d[S]))return{result:!1,resultCode:12,resultMessage:"One of certificates had been revoked"};if((await o(v.result[y].certificate,!0)).result===!1)return{result:!1,resultCode:13,resultMessage:"CRL issuer certificate is not a CA certificate or does not have crlSign flag"}}else if(e===!1)throw new ml(Cc.noRevocation,`No revocation values found for one of certificates: ${v.statusMessage}`)}else if(g===2)return{result:!1,resultCode:11,resultMessage:"No revocation values found for one of certificates"};if(g===2&&v.status===2&&e){const y=d[S+1];let C=!1;if(y.extensions)for(const E of y.extensions)switch(E.extnID){case M5:case uT:case fT:C=!0;break}if(C)throw new ml(Cc.noRevocation,`No revocation values found for one of certificates: ${v.statusMessage}`)}}for(const[S,g]of d.entries()){if(!S)continue;if(!(await o(g)).result)return{result:!1,resultCode:14,resultMessage:"One of intermediate certificates is not a CA certificate"}}return{result:!0}};n.push(...this.trustedCerts),n.push(...this.certs);for(let d=0;d<n.length;d++)for(let m=0;m<n.length;m++)if(d!==m&&ze.isEqual(n[d].tbsView,n[m].tbsView)){n.splice(m,1),d=0;break}const u=n[n.length-1];let c;const f=[u];if(c=await s(u,r),c.length===0)throw new ml(Cc.noPath,"Unable to find certificate path");for(let d=0;d<c.length;d++){let m=!1;for(let S=0;S<c[d].length;S++){const g=c[d][S];for(let v=0;v<this.trustedCerts.length;v++)if(ze.isEqual(g.tbsView,this.trustedCerts[v].tbsView)){m=!0;break}if(m)break}m||(c.splice(d,1),d=0)}if(c.length===0)throw new ml(Cc.noValidPath,"No valid certificate paths found");let h=c[0].length,p=0;for(let d=0;d<c.length;d++)c[d].length<h&&(h=c[d].length,p=d);for(let d=0;d<c[p].length;d++)f.push(c[p][d]);if(c=await l(f,this.checkDate),c.result===!1)throw c;return f}async verify(e={},r=st(!0)){function n(l,u){const c=ul(l),f=ul(u),h=c.split("."),p=f.split("."),d=h.length,m=p.length;if(d===0||m===0||d<m)return!1;for(let S=0;S<d;S++)if(h[S].length===0)return!1;for(let S=0;S<m;S++)if(p[S].length===0){if(S===0){if(m===1)return!1;continue}return!1}for(let S=0;S<m;S++)if(p[m-1-S].length!==0&&h[d-1-S].localeCompare(p[m-1-S])!==0)return!1;return!0}function s(l,u){const c=ul(l),f=ul(u),h=c.split("@"),p=f.split("@");if(h.length===0||p.length===0||h.length<p.length)return!1;if(p.length===1){if(n(h[1],p[0])){const m=h[1].split("."),S=p[0].split(".");return S[0].length===0?!0:m.length===S.length}return!1}return c.localeCompare(f)===0}function i(l,u){let c=ul(l);const f=ul(u),h=c.split("/");if(f.split("/").length>1)return!1;if(h.length>1){for(let m=0;m<h.length;m++)if(h[m].length>0&&h[m].charAt(h[m].length-1)!==":"){c=h[m].split(":")[0];break}}if(n(c,f)){const m=c.split("."),S=f.split(".");return S[0].length===0?!0:m.length===S.length}return!1}function a(l,u){const c=l.valueBlock.valueHexView,f=u.valueBlock.valueHexView;if(c.length===4&&f.length===8){for(let h=0;h<4;h++)if((c[h]^f[h])&f[h+4])return!1;return!0}if(c.length===16&&f.length===32){for(let h=0;h<16;h++)if((c[h]^f[h])&f[h+16])return!1;return!0}return!1}function o(l,u){if(l.typesAndValues.length===0||u.typesAndValues.length===0)return!0;if(l.typesAndValues.length<u.typesAndValues.length)return!1;let c=!0,f=0;for(let h=0;h<u.typesAndValues.length;h++){let p=!1;for(let d=f;d<l.typesAndValues.length;d++)if(p=l.typesAndValues[d].isEqual(u.typesAndValues[h]),l.typesAndValues[d].type===u.typesAndValues[h].type&&(c=c&&p),p===!0)if(f===0||f===d){f=d+1;break}else return!1;if(p===!1)return!1}return f===0?!1:c}try{if(this.certs.length===0)throw new Error("Empty certificate array");const l=e.passedWhenNotRevValues||!1,u=e.initialPolicySet||[Ds],c=e.initialExplicitPolicy||!1,f=e.initialPolicyMappingInhibit||!1,h=e.initialInhibitPolicy||!1,p=e.initialPermittedSubtreesSet||[],d=e.initialExcludedSubtreesSet||[],m=e.initialRequiredNameForms||[];let S=c,g=f,v=h;const y=[!1,!1,!1];let C=0,E=0,b=0,T=p,O=d;const H=m;let L=1;this.certs=await this.sort(l,r);const Y=[];Y.push(Ds);const ne=[],z=new Array(this.certs.length-1);for(let D=0;D<this.certs.length-1;D++)z[D]=!0;ne.push(z);const Z=new Array(this.certs.length-1),q=new Array(this.certs.length-1);let ie=S?this.certs.length-1:-1;for(let D=this.certs.length-2;D>=0;D--,L++){const ee=this.certs[D];if(ee.extensions){for(let B=0;B<ee.extensions.length;B++){const K=ee.extensions[B];if(K.extnID===$5){q[D]=K.parsedValue;for(let $=0;$<Y.length;$++)if(Y[$]===Ds){delete ne[$][D];break}for(let $=0;$<K.parsedValue.certificatePolicies.length;$++){let ce=-1;const Q=K.parsedValue.certificatePolicies[$].policyIdentifier;for(let fe=0;fe<Y.length;fe++)if(Q===Y[fe]){ce=fe;break}if(ce===-1){Y.push(Q);const fe=new Array(this.certs.length-1);fe[D]=!0,ne.push(fe)}else ne[ce][D]=!0}}if(K.extnID===F5){if(g)return{result:!1,resultCode:98,resultMessage:"Policy mapping prohibited"};Z[D]=K.parsedValue}K.extnID===H5&&S===!1&&(K.parsedValue.requireExplicitPolicy===0?(S=!0,ie=D):y[0]===!1?(y[0]=!0,C=K.parsedValue.requireExplicitPolicy):C=C>K.parsedValue.requireExplicitPolicy?K.parsedValue.requireExplicitPolicy:C,K.parsedValue.inhibitPolicyMapping===0?g=!0:y[1]===!1?(y[1]=!0,E=K.parsedValue.inhibitPolicyMapping+1):E=E>K.parsedValue.inhibitPolicyMapping+1?K.parsedValue.inhibitPolicyMapping+1:E),K.extnID===ile&&v===!1&&(K.parsedValue.valueBlock.valueDec===0?v=!0:y[2]===!1?(y[2]=!0,b=K.parsedValue.valueBlock.valueDec):b=b>K.parsedValue.valueBlock.valueDec?K.parsedValue.valueBlock.valueDec:b)}if(v===!0){let B=-1;for(let K=0;K<Y.length;K++)if(Y[K]===Ds){B=K;break}B!==-1&&delete ne[0][D]}S===!1&&y[0]===!0&&(C--,C===0&&(S=!0,ie=D,y[0]=!1)),g===!1&&y[1]===!0&&(E--,E===0&&(g=!0,y[1]=!1)),v===!1&&y[2]===!0&&(b--,b===0&&(v=!0,y[2]=!1))}}for(let D=0;D<this.certs.length-1;D++)if(D<this.certs.length-2&&typeof Z[D+1]<"u")for(let ee=0;ee<Z[D+1].mappings.length;ee++){if(Z[D+1].mappings[ee].issuerDomainPolicy===Ds||Z[D+1].mappings[ee].subjectDomainPolicy===Ds)return{result:!1,resultCode:99,resultMessage:'The "anyPolicy" should not be a part of policy mapping scheme'};let B=-1,K=-1;for(let $=0;$<Y.length;$++)Y[$]===Z[D+1].mappings[ee].issuerDomainPolicy&&(B=$),Y[$]===Z[D+1].mappings[ee].subjectDomainPolicy&&(K=$);typeof ne[B][D]<"u"&&delete ne[B][D];for(let $=0;$<q[D].certificatePolicies.length;$++)if(Z[D+1].mappings[ee].subjectDomainPolicy===q[D].certificatePolicies[$].policyIdentifier&&B!==-1&&K!==-1)for(let ce=0;ce<=D;ce++)typeof ne[K][ce]<"u"&&(ne[B][ce]=!0,delete ne[K][ce])}for(let D=0;D<Y.length;D++)if(Y[D]===Ds)for(let ee=0;ee<ie;ee++)delete ne[D][ee];const J=[];for(let D=0;D<ne.length;D++){let ee=!0;for(let B=0;B<this.certs.length-1;B++){let K=!1;if(B<ie&&Y[D]===Ds&&Y.length>1){ee=!1;break}if(typeof ne[D][B]>"u"){if(B>=ie){for(let $=0;$<Y.length;$++)if(Y[$]===Ds){ne[$][B]===!0&&(K=!0);break}}if(!K){ee=!1;break}}}ee===!0&&J.push(Y[D])}let G=[];if(u.length===1&&u[0]===Ds&&S===!1)G=u;else if(J.length===1&&J[0]===Ds)G=u;else for(let D=0;D<J.length;D++)for(let ee=0;ee<u.length;ee++)if(u[ee]===J[D]||u[ee]===Ds){G.push(J[D]);break}const re={result:G.length>0,resultCode:0,resultMessage:G.length>0?A:'Zero "userConstrPolicies" array, no intersections with "authConstrPolicies"',authConstrPolicies:J,userConstrPolicies:G,explicitPolicyIndicator:S,policyMappings:Z,certificatePath:this.certs};if(G.length===0||re.result===!1)return re;L=1;for(let D=this.certs.length-2;D>=0;D--,L++){const ee=this.certs[D];let B=[],K=[],$=[];if(ee.extensions)for(let oe=0;oe<ee.extensions.length;oe++){const X=ee.extensions[oe];X.extnID===U5&&("permittedSubtrees"in X.parsedValue&&(K=K.concat(X.parsedValue.permittedSubtrees)),"excludedSubtrees"in X.parsedValue&&($=$.concat(X.parsedValue.excludedSubtrees))),X.extnID===O5&&(B=B.concat(X.parsedValue.altNames))}let ce=H.length<=0;for(let oe=0;oe<H.length;oe++)switch(H[oe].base.type){case 4:{if(H[oe].base.value.typesAndValues.length!==ee.subject.typesAndValues.length)continue;ce=!0;for(let X=0;X<ee.subject.typesAndValues.length;X++)if(ee.subject.typesAndValues[X].type!==H[oe].base.value.typesAndValues[X].type){ce=!1;break}if(ce===!0)break}break;default:}if(ce===!1)throw re.result=!1,re.resultCode=21,re.resultMessage="No necessary name form found",re;const Q=[[],[],[],[],[]];for(let oe=0;oe<T.length;oe++)switch(T[oe].base.type){case 1:Q[0].push(T[oe]);break;case 2:Q[1].push(T[oe]);break;case 4:Q[2].push(T[oe]);break;case 6:Q[3].push(T[oe]);break;case 7:Q[4].push(T[oe]);break;default:}for(let oe=0;oe<5;oe++){let X=!1,Ie=!1;const be=Q[oe];for(let Ae=0;Ae<be.length;Ae++){switch(oe){case 0:if(B.length>0)for(let me=0;me<B.length;me++)B[me].type===1&&(Ie=!0,X=X||s(B[me].value,be[Ae].base.value));else for(let me=0;me<ee.subject.typesAndValues.length;me++)(ee.subject.typesAndValues[me].type==="1.2.840.113549.1.9.1"||ee.subject.typesAndValues[me].type==="0.9.2342.19200300.100.1.3")&&(Ie=!0,X=X||s(ee.subject.typesAndValues[me].value.valueBlock.value,be[Ae].base.value));break;case 1:if(B.length>0)for(let me=0;me<B.length;me++)B[me].type===2&&(Ie=!0,X=X||n(B[me].value,be[Ae].base.value));break;case 2:Ie=!0,X=o(ee.subject,be[Ae].base.value);break;case 3:if(B.length>0)for(let me=0;me<B.length;me++)B[me].type===6&&(Ie=!0,X=X||i(B[me].value,be[Ae].base.value));break;case 4:if(B.length>0)for(let me=0;me<B.length;me++)B[me].type===7&&(Ie=!0,X=X||a(B[me].value,be[Ae].base.value));break;default:}if(X)break}if(X===!1&&be.length>0&&Ie)throw re.result=!1,re.resultCode=41,re.resultMessage='Failed to meet "permitted sub-trees" name constraint',re}let fe=!1;for(let oe=0;oe<O.length;oe++){switch(O[oe].base.type){case 1:if(B.length>=0)for(let X=0;X<B.length;X++)B[X].type===1&&(fe=fe||s(B[X].value,O[oe].base.value));else for(let X=0;X<ee.subject.typesAndValues.length;X++)(ee.subject.typesAndValues[X].type==="1.2.840.113549.1.9.1"||ee.subject.typesAndValues[X].type==="0.9.2342.19200300.100.1.3")&&(fe=fe||s(ee.subject.typesAndValues[X].value.valueBlock.value,O[oe].base.value));break;case 2:if(B.length>0)for(let X=0;X<B.length;X++)B[X].type===2&&(fe=fe||n(B[X].value,O[oe].base.value));break;case 4:fe=fe||o(ee.subject,O[oe].base.value);break;case 6:if(B.length>0)for(let X=0;X<B.length;X++)B[X].type===6&&(fe=fe||i(B[X].value,O[oe].base.value));break;case 7:if(B.length>0)for(let X=0;X<B.length;X++)B[X].type===7&&(fe=fe||a(B[X].value,O[oe].base.value));break;default:}if(fe)break}if(fe===!0)throw re.result=!1,re.resultCode=42,re.resultMessage='Failed to meet "excluded sub-trees" name constraint',re;T=T.concat(K),O=O.concat($)}return re}catch(l){return l instanceof Error?l instanceof ml?{result:!1,resultCode:l.code,resultMessage:l.message,error:l}:{result:!1,resultCode:Cc.unknown,resultMessage:l.message,error:l}:l&&typeof l=="object"&&"resultMessage"in l?l:{result:!1,resultCode:-1,resultMessage:`${l}`}}}}const nS="tbsResponseData",pg="signatureAlgorithm",mg="signature",Dh="certs",gy="BasicOCSPResponse",pk=`${gy}.${nS}`,mk=`${gy}.${pg}`,gk=`${gy}.${mg}`,sS=`${gy}.${Dh}`,Gue=[pk,mk,gk,sS];class Ws extends de{constructor(e={}){super(),this.tbsResponseData=w(e,nS,Ws.defaultValues(nS)),this.signatureAlgorithm=w(e,pg,Ws.defaultValues(pg)),this.signature=w(e,mg,Ws.defaultValues(mg)),Dh in e&&(this.certs=w(e,Dh,Ws.defaultValues(Dh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case nS:return new Jr;case pg:return new ae;case mg:return new dt;case Dh:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case"type":{let n=Jr.compareWithDefault("tbs",r.tbs)&&Jr.compareWithDefault("responderID",r.responderID)&&Jr.compareWithDefault("producedAt",r.producedAt)&&Jr.compareWithDefault("responses",r.responses);return"responseExtensions"in r&&(n=n&&Jr.compareWithDefault("responseExtensions",r.responseExtensions)),n}case pg:return r.algorithmId===A&&!("algorithmParams"in r);case mg:return r.isEqual(Ws.defaultValues(e));case Dh:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||gy,value:[Jr.schema(r.tbsResponseData||{names:{blockName:pk}}),ae.schema(r.signatureAlgorithm||{names:{blockName:mk}}),new dt({name:r.signature||gk}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new _({value:[new rt({name:sS,value:Bt.schema(r.certs||{})})]})]})]})}fromSchema(e){ge(e,Gue);const r=pe(e,e,Ws.schema());le.assertSchema(r,this.className),this.tbsResponseData=new Jr({schema:r.result[pk]}),this.signatureAlgorithm=new ae({schema:r.result[mk]}),this.signature=r.result[gk],sS in r.result&&(this.certs=Array.from(r.result[sS],n=>new Bt({schema:n})))}toSchema(){const e=[];return e.push(this.tbsResponseData.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[new _({value:Array.from(this.certs,r=>r.toSchema())})]})),new _({value:e})}toJSON(){const e={tbsResponseData:this.tbsResponseData.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,r=>r.toJSON())),e}async getCertificateStatus(e,r,n=st(!0)){const s={isForCertificate:!1,status:2},i={},a=[];for(const o of this.tbsResponseData.responses){const l=n.getAlgorithmByOID(o.certID.hashAlgorithm.algorithmId,!0,"CertID.hashAlgorithm");if(!i[l.name]){i[l.name]=1;const u=new Mr;a.push(u),await u.createForCertificate(e,{hashAlgorithm:l.name,issuerCertificate:r},n)}}for(const o of this.tbsResponseData.responses)for(const l of a)if(o.certID.isEqual(l)){s.isForCertificate=!0;try{switch(o.certStatus.idBlock.isConstructed){case!0:o.certStatus.idBlock.tagNumber===1&&(s.status=1);break;case!1:switch(o.certStatus.idBlock.tagNumber){case 0:s.status=0;break;case 2:s.status=2;break;default:}break;default:}}catch{}return s}return s}async sign(e,r="SHA-1",n=st(!0)){if(!e)throw new Error("Need to provide a private key for signing");const s=await n.getSignatureParameters(e,r),i=s.parameters.algorithm;if(!("name"in i))throw new Error("Empty algorithm");this.signatureAlgorithm=s.signatureAlgorithm,this.tbsResponseData.tbsView=new Uint8Array(this.tbsResponseData.toSchema(!0).toBER());const a=await n.signWithPrivateKey(this.tbsResponseData.tbsView,e,{algorithm:i});this.signature=new dt({valueHex:a})}async verify(e={},r=st(!0)){let n=null,s=-1;const i=e.trustedCerts||[];if(!this.certs)throw new Error("No certificates attached to the BasicOCSPResponse");switch(!0){case this.tbsResponseData.responderID instanceof Kt:for(const[u,c]of this.certs.entries())if(c.subject.isEqual(this.tbsResponseData.responderID)){s=u;break}break;case this.tbsResponseData.responderID instanceof Ce:for(const[u,c]of this.certs.entries()){const f=await r.digest({name:"sha-1"},c.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);if(fp(f,this.tbsResponseData.responderID.valueBlock.valueHex)){s=u;break}}break;default:throw new Error("Wrong value for responderID")}if(s===-1)throw new Error("Correct certificate was not found in OCSP response");n=this.certs[s];const a=[n];for(const u of this.certs){const c=await Q5(u,n);c&&a.push(c)}if(!(await new bE({certs:a,trustedCerts:i}).verify({},r)).result)throw new Error("Validation of signer's certificate failed");return r.verifyWithPublicKey(this.tbsResponseData.tbsView,this.signature,this.certs[s].subjectPublicKeyInfo,this.signatureAlgorithm)}}Ws.CLASS_NAME="BasicOCSPResponse";const ax="tbs",ox="version",lx="subject",ux="subjectPublicKeyInfo",Of="attributes",gg="signatureAlgorithm",vg="signatureValue",Vp="CertificationRequestInfo",wT=`${Vp}.version`,CT=`${Vp}.subject`,ET=`${Vp}.subjectPublicKeyInfo`,Pw=`${Vp}.attributes`,que=[Vp,wT,CT,ET,Pw,gg,vg];function Jue(t={}){const e=w(t,"names",{});return new _({name:e.CertificationRequestInfo||Vp,value:[new se({name:e.CertificationRequestInfoVersion||wT}),Kt.schema(e.subject||{names:{blockName:CT}}),Wn.schema({names:{blockName:ET}}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new rt({optional:!0,name:e.CertificationRequestInfoAttributes||Pw,value:ir.schema(e.attributes||{})})]})]})}class vi extends de{constructor(e={}){super(),this.tbsView=new Uint8Array(w(e,ax,vi.defaultValues(ax))),this.version=w(e,ox,vi.defaultValues(ox)),this.subject=w(e,lx,vi.defaultValues(lx)),this.subjectPublicKeyInfo=w(e,ux,vi.defaultValues(ux)),Of in e&&(this.attributes=w(e,Of,vi.defaultValues(Of))),this.signatureAlgorithm=w(e,gg,vi.defaultValues(gg)),this.signatureValue=w(e,vg,vi.defaultValues(vg)),e.schema&&this.fromSchema(e.schema)}get tbs(){return ze.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case ax:return Hr;case ox:return 0;case lx:return new Kt;case ux:return new Wn;case Of:return[];case gg:return new ae;case vg:return new dt;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({value:[Jue(r.certificationRequestInfo||{}),new _({name:r.signatureAlgorithm||gg,value:[new Oe,new Ye({optional:!0})]}),new dt({name:r.signatureValue||vg})]})}fromSchema(e){ge(e,que);const r=pe(e,e,vi.schema());le.assertSchema(r,this.className),this.tbsView=r.result.CertificationRequestInfo.valueBeforeDecodeView,this.version=r.result[wT].valueBlock.valueDec,this.subject=new Kt({schema:r.result[CT]}),this.subjectPublicKeyInfo=new Wn({schema:r.result[ET]}),Pw in r.result&&(this.attributes=Array.from(r.result[Pw],n=>new ir({schema:n}))),this.signatureAlgorithm=new ae({schema:r.result.signatureAlgorithm}),this.signatureValue=r.result.signatureValue}encodeTBS(){const e=[new se({value:this.version}),this.subject.toSchema(),this.subjectPublicKeyInfo.toSchema()];return Of in this&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes||[],r=>r.toSchema())})),new _({value:e})}toSchema(e=!1){let r;if(e===!1){if(this.tbsView.byteLength===0)return vi.schema();const n=Ar(this.tbsView);le.assert(n,"PKCS#10 Certificate Request"),r=n.result}else r=this.encodeTBS();return new _({value:[r,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const e={tbs:We.ToHex(this.tbsView),version:this.version,subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return Of in this&&(e.attributes=Array.from(this.attributes||[],r=>r.toJSON())),e}async sign(e,r="SHA-1",n=st(!0)){if(!e)throw new Error("Need to provide a private key for signing");const s=await n.getSignatureParameters(e,r),i=s.parameters;this.signatureAlgorithm=s.signatureAlgorithm,this.tbsView=new Uint8Array(this.encodeTBS().toBER());const a=await n.signWithPrivateKey(this.tbsView,e,i);this.signatureValue=new dt({valueHex:a})}async verify(e=st(!0)){return e.verifyWithPublicKey(this.tbsView,this.signatureValue,this.subjectPublicKeyInfo,this.signatureAlgorithm)}async getPublicKey(e,r=st(!0)){return r.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,e)}}vi.CLASS_NAME="CertificationRequest";const ac="digestAlgorithm",oc="digest",Yue=[ac,oc];class qs extends de{constructor(e={}){super(),this.digestAlgorithm=w(e,ac,qs.defaultValues(ac)),this.digest=w(e,oc,qs.defaultValues(oc)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case ac:return new ae;case oc:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case ac:return ae.compareWithDefault("algorithmId",r.algorithmId)&&!("algorithmParams"in r);case oc:return r.isEqual(qs.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[ae.schema(r.digestAlgorithm||{names:{blockName:ac}}),new Ce({name:r.digest||oc})]})}fromSchema(e){ge(e,Yue);const r=pe(e,e,qs.schema({names:{digestAlgorithm:{names:{blockName:ac}},digest:oc}}));le.assertSchema(r,this.className),this.digestAlgorithm=new ae({schema:r.result.digestAlgorithm}),this.digest=r.result.digest}toSchema(){return new _({value:[this.digestAlgorithm.toSchema(),this.digest]})}toJSON(){return{digestAlgorithm:this.digestAlgorithm.toJSON(),digest:this.digest.toJSON()}}}qs.CLASS_NAME="DigestInfo";const Uh="eContentType",mi="eContent",Que=[Uh,mi];class es extends de{constructor(e={}){if(super(),this.eContentType=w(e,Uh,es.defaultValues(Uh)),mi in e&&(this.eContent=w(e,mi,es.defaultValues(mi)),this.eContent.idBlock.tagClass===1&&this.eContent.idBlock.tagNumber===4&&this.eContent.idBlock.isConstructed===!1)){const r=new Ce({idBlock:{isConstructed:!0},isConstructed:!0});let n=0;const s=this.eContent.valueBlock.valueHexView.slice().buffer;let i=s.byteLength;for(;i>0;){const a=new Uint8Array(s,n,n+65536>s.byteLength?s.byteLength-n:65536),o=new ArrayBuffer(a.length),l=new Uint8Array(o);for(let u=0;u<l.length;u++)l[u]=a[u];r.valueBlock.value.push(new Ce({valueHex:o})),i-=a.length,n+=a.length}this.eContent=r}e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Uh:return A;case mi:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Uh:return r===A;case mi:return r.idBlock.tagClass===1&&r.idBlock.tagNumber===4?r.isEqual(es.defaultValues(mi)):!1;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.eContentType||A}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ye({name:r.eContent||A})]})]})}fromSchema(e){ge(e,Que);const r=pe(e,e,es.schema({names:{eContentType:Uh,eContent:mi}}));le.assertSchema(r,this.className),this.eContentType=r.result.eContentType.valueBlock.toString(),mi in r.result&&(this.eContent=r.result.eContent)}toSchema(){const e=[];return e.push(new Oe({value:this.eContentType})),this.eContent&&es.compareWithDefault(mi,this.eContent)===!1&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.eContent]})),new _({value:e})}toJSON(){const e={eContentType:this.eContentType};return this.eContent&&es.compareWithDefault(mi,this.eContent)===!1&&(e.eContent=this.eContent.toJSON()),e}}es.CLASS_NAME="EncapsulatedContentInfo";const lc="mac",uc="macSalt",Aa="iterations",Xue=[lc,uc,Aa];class Mn extends de{constructor(e={}){super(),this.mac=w(e,lc,Mn.defaultValues(lc)),this.macSalt=w(e,uc,Mn.defaultValues(uc)),Aa in e&&(this.iterations=w(e,Aa,Mn.defaultValues(Aa))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case lc:return new qs;case uc:return new Ce;case Aa:return 1;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case lc:return qs.compareWithDefault("digestAlgorithm",r.digestAlgorithm)&&qs.compareWithDefault("digest",r.digest);case uc:return r.isEqual(Mn.defaultValues(e));case Aa:return r===Mn.defaultValues(e);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,optional:r.optional||!0,value:[qs.schema(r.mac||{names:{blockName:lc}}),new Ce({name:r.macSalt||uc}),new se({optional:!0,name:r.iterations||Aa})]})}fromSchema(e){ge(e,Xue);const r=pe(e,e,Mn.schema({names:{mac:{names:{blockName:lc}},macSalt:uc,iterations:Aa}}));le.assertSchema(r,this.className),this.mac=new qs({schema:r.result.mac}),this.macSalt=r.result.macSalt,Aa in r.result&&(this.iterations=r.result.iterations.valueBlock.valueDec)}toSchema(){const e=[this.mac.toSchema(),this.macSalt];return this.iterations!==void 0&&e.push(new se({value:this.iterations})),new _({value:e})}toJSON(){const e={mac:this.mac.toJSON(),macSalt:this.macSalt.toJSON()};return this.iterations!==void 0&&(e.iterations=this.iterations),e}}Mn.CLASS_NAME="MacData";const Ec="hashAlgorithm",bc="hashedMessage",Zue=[Ec,bc];class vn extends de{constructor(e={}){super(),this.hashAlgorithm=w(e,Ec,vn.defaultValues(Ec)),this.hashedMessage=w(e,bc,vn.defaultValues(bc)),e.schema&&this.fromSchema(e.schema)}static async create(e,r,n=st(!0)){const s=n.getOIDByAlgorithm({name:e},!0,"hashAlgorithm"),i=await n.digest(e,r);return new vn({hashAlgorithm:new ae({algorithmId:s,algorithmParams:new Pr}),hashedMessage:new Ce({valueHex:i})})}static defaultValues(e){switch(e){case Ec:return new ae;case bc:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Ec:return r.algorithmId===A&&!("algorithmParams"in r);case bc:return r.isEqual(vn.defaultValues(e))===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[ae.schema(r.hashAlgorithm||{}),new Ce({name:r.hashedMessage||A})]})}fromSchema(e){ge(e,Zue);const r=pe(e,e,vn.schema({names:{hashAlgorithm:{names:{blockName:Ec}},hashedMessage:bc}}));le.assertSchema(r,this.className),this.hashAlgorithm=new ae({schema:r.result.hashAlgorithm}),this.hashedMessage=r.result.hashedMessage}toSchema(){return new _({value:[this.hashAlgorithm.toSchema(),this.hashedMessage]})}toJSON(){return{hashAlgorithm:this.hashAlgorithm.toJSON(),hashedMessage:this.hashedMessage.toJSON()}}}vn.CLASS_NAME="MessageImprint";const Mh="reqCert",el="singleRequestExtensions",ece=[Mh,el];class ja extends de{constructor(e={}){super(),this.reqCert=w(e,Mh,ja.defaultValues(Mh)),el in e&&(this.singleRequestExtensions=w(e,el,ja.defaultValues(el))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Mh:return new Mr;case el:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Mh:return r.isEqual(ja.defaultValues(e));case el:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[Mr.schema(r.reqCert||{}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Ur.schema(r.extensions||{names:{blockName:r.singleRequestExtensions||A}})]})]})}fromSchema(e){ge(e,ece);const r=pe(e,e,ja.schema({names:{reqCert:{names:{blockName:Mh}},extensions:{names:{blockName:el}}}}));le.assertSchema(r,this.className),this.reqCert=new Mr({schema:r.result.reqCert}),el in r.result&&(this.singleRequestExtensions=Array.from(r.result.singleRequestExtensions.valueBlock.value,n=>new Ur({schema:n})))}toSchema(){const e=[];return e.push(this.reqCert.toSchema()),this.singleRequestExtensions&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new _({value:Array.from(this.singleRequestExtensions,r=>r.toSchema())})]})),new _({value:e})}toJSON(){const e={reqCert:this.reqCert.toJSON()};return this.singleRequestExtensions&&(e.singleRequestExtensions=Array.from(this.singleRequestExtensions,r=>r.toJSON())),e}}ja.CLASS_NAME="Request";const C1="tbs",$h="version",Fh="requestorName",E1="requestList",Hh="requestExtensions",Dp="TBSRequest",iS=`${Dp}.${$h}`,aS=`${Dp}.${Fh}`,vk=`${Dp}.requests`,oS=`${Dp}.${Hh}`,tce=[Dp,iS,aS,vk,oS];class an extends de{constructor(e={}){super(),this.tbsView=new Uint8Array(w(e,C1,an.defaultValues(C1))),$h in e&&(this.version=w(e,$h,an.defaultValues($h))),Fh in e&&(this.requestorName=w(e,Fh,an.defaultValues(Fh))),this.requestList=w(e,E1,an.defaultValues(E1)),Hh in e&&(this.requestExtensions=w(e,Hh,an.defaultValues(Hh))),e.schema&&this.fromSchema(e.schema)}get tbs(){return ze.toArrayBuffer(this.tbsView)}set tbs(e){this.tbsView=new Uint8Array(e)}static defaultValues(e){switch(e){case C1:return Hr;case $h:return 0;case Fh:return new Tt;case E1:case Hh:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case C1:return r.byteLength===0;case $h:return r===an.defaultValues(e);case Fh:return r.type===Tt.defaultValues("type")&&Object.keys(r.value).length===0;case E1:case Hh:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||Dp,value:[new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new se({name:r.TBSRequestVersion||iS})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[Tt.schema(r.requestorName||{names:{blockName:aS}})]}),new _({name:r.requestList||"TBSRequest.requestList",value:[new rt({name:r.requests||vk,value:ja.schema(r.requestNames||{})})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[Kr.schema(r.extensions||{names:{blockName:r.requestExtensions||oS}})]})]})}fromSchema(e){ge(e,tce);const r=pe(e,e,an.schema());le.assertSchema(r,this.className),this.tbsView=r.result.TBSRequest.valueBeforeDecodeView,iS in r.result&&(this.version=r.result[iS].valueBlock.valueDec),aS in r.result&&(this.requestorName=new Tt({schema:r.result[aS]})),this.requestList=Array.from(r.result[vk],n=>new ja({schema:n})),oS in r.result&&(this.requestExtensions=Array.from(r.result[oS].valueBlock.value,n=>new Ur({schema:n})))}toSchema(e=!1){let r;if(e===!1){if(this.tbsView.byteLength===0)return an.schema();const n=Ar(this.tbsView);if(le.assert(n,"TBS Request"),!(n.result instanceof _))throw new Error("ASN.1 result should be SEQUENCE");r=n.result}else{const n=[];this.version!==void 0&&n.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[new se({value:this.version})]})),this.requestorName&&n.push(new W({idBlock:{tagClass:3,tagNumber:1},value:[this.requestorName.toSchema()]})),n.push(new _({value:Array.from(this.requestList,s=>s.toSchema())})),this.requestExtensions&&n.push(new W({idBlock:{tagClass:3,tagNumber:2},value:[new _({value:Array.from(this.requestExtensions,s=>s.toSchema())})]})),r=new _({value:n})}return r}toJSON(){const e={};return this.version!=null&&(e.version=this.version),this.requestorName&&(e.requestorName=this.requestorName.toJSON()),e.requestList=Array.from(this.requestList,r=>r.toJSON()),this.requestExtensions&&(e.requestExtensions=Array.from(this.requestExtensions,r=>r.toJSON())),e}}an.CLASS_NAME="TBSRequest";const Lf="signatureAlgorithm",Vf="signature",wo="certs";class Es extends de{constructor(e={}){super(),this.signatureAlgorithm=w(e,Lf,Es.defaultValues(Lf)),this.signature=w(e,Vf,Es.defaultValues(Vf)),wo in e&&(this.certs=w(e,wo,Es.defaultValues(wo))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Lf:return new ae;case Vf:return new dt;case wo:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Lf:return r.algorithmId===A&&!("algorithmParams"in r);case Vf:return r.isEqual(Es.defaultValues(e));case wo:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[ae.schema(r.signatureAlgorithm||{}),new dt({name:r.signature||A}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new _({value:[new rt({name:r.certs||A,value:Bt.schema({})})]})]})]})}fromSchema(e){ge(e,[Lf,Vf,wo]);const r=pe(e,e,Es.schema({names:{signatureAlgorithm:{names:{blockName:Lf}},signature:Vf,certs:wo}}));le.assertSchema(r,this.className),this.signatureAlgorithm=new ae({schema:r.result.signatureAlgorithm}),this.signature=r.result.signature,wo in r.result&&(this.certs=Array.from(r.result.certs,n=>new Bt({schema:n})))}toSchema(){const e=[];return e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.certs&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new _({value:Array.from(this.certs,r=>r.toSchema())})]})),new _({value:e})}toJSON(){const e={signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.certs&&(e.certs=Array.from(this.certs,r=>r.toJSON())),e}}Es.CLASS_NAME="Signature";const Kh="tbsRequest",tl="optionalSignature",rce=[Kh,tl];class ev extends de{constructor(e={}){super(),this.tbsRequest=w(e,Kh,ev.defaultValues(Kh)),tl in e&&(this.optionalSignature=w(e,tl,ev.defaultValues(tl))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Kh:return new an;case tl:return new Es;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Kh:return an.compareWithDefault("tbs",r.tbs)&&an.compareWithDefault("version",r.version)&&an.compareWithDefault("requestorName",r.requestorName)&&an.compareWithDefault("requestList",r.requestList)&&an.compareWithDefault("requestExtensions",r.requestExtensions);case tl:return Es.compareWithDefault("signatureAlgorithm",r.signatureAlgorithm)&&Es.compareWithDefault("signature",r.signature)&&Es.compareWithDefault("certs",r.certs);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||"OCSPRequest",value:[an.schema(r.tbsRequest||{names:{blockName:Kh}}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Es.schema(r.optionalSignature||{names:{blockName:tl}})]})]})}fromSchema(e){ge(e,rce);const r=pe(e,e,ev.schema());le.assertSchema(r,this.className),this.tbsRequest=new an({schema:r.result.tbsRequest}),tl in r.result&&(this.optionalSignature=new Es({schema:r.result.optionalSignature}))}toSchema(e=!1){const r=[];return r.push(this.tbsRequest.toSchema(e)),this.optionalSignature&&r.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.optionalSignature.toSchema()]})),new _({value:r})}toJSON(){const e={tbsRequest:this.tbsRequest.toJSON()};return this.optionalSignature&&(e.optionalSignature=this.optionalSignature.toJSON()),e}async createForCertificate(e,r,n=st(!0)){const s=new Mr;await s.createForCertificate(e,r,n),this.tbsRequest.requestList.push(new ja({reqCert:s}))}async sign(e,r="SHA-1",n=st(!0)){if(vt.assertEmpty(e,"privateKey","OCSPRequest.sign method"),!this.optionalSignature)throw new Error('Need to create "optionalSignature" field before signing');const s=await n.getSignatureParameters(e,r),i=s.parameters;this.optionalSignature.signatureAlgorithm=s.signatureAlgorithm;const a=this.tbsRequest.toSchema(!0).toBER(!1),o=await n.signWithPrivateKey(a,e,i);this.optionalSignature.signature=new dt({valueHex:o})}verify(){}}ev.CLASS_NAME="OCSPRequest";const jh="responseType",zh="response",nce=[jh,zh];class xi extends de{constructor(e={}){super(),this.responseType=w(e,jh,xi.defaultValues(jh)),this.response=w(e,zh,xi.defaultValues(zh)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case jh:return A;case zh:return new Ce;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case jh:return r===A;case zh:return r.isEqual(xi.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new Oe({name:r.responseType||A}),new Ce({name:r.response||A})]})}fromSchema(e){ge(e,nce);const r=pe(e,e,xi.schema({names:{responseType:jh,response:zh}}));le.assertSchema(r,this.className),this.responseType=r.result.responseType.valueBlock.toString(),this.response=r.result.response}toSchema(){return new _({value:[new Oe({value:this.responseType}),this.response]})}toJSON(){return{responseType:this.responseType,response:this.response.toJSON()}}}xi.CLASS_NAME="ResponseBytes";const Df="responseStatus",ma="responseBytes";class xd extends de{constructor(e={}){super(),this.responseStatus=w(e,Df,xd.defaultValues(Df)),ma in e&&(this.responseBytes=w(e,ma,xd.defaultValues(ma))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Df:return new lf;case ma:return new xi;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Df:return r.isEqual(xd.defaultValues(e));case ma:return xi.compareWithDefault("responseType",r.responseType)&&xi.compareWithDefault("response",r.response);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||"OCSPResponse",value:[new lf({name:r.responseStatus||Df}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[xi.schema(r.responseBytes||{names:{blockName:ma}})]})]})}fromSchema(e){ge(e,[Df,ma]);const r=pe(e,e,xd.schema());le.assertSchema(r,this.className),this.responseStatus=r.result.responseStatus,ma in r.result&&(this.responseBytes=new xi({schema:r.result.responseBytes}))}toSchema(){const e=[];return e.push(this.responseStatus),this.responseBytes&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:[this.responseBytes.toSchema()]})),new _({value:e})}toJSON(){const e={responseStatus:this.responseStatus.toJSON()};return this.responseBytes&&(e.responseBytes=this.responseBytes.toJSON()),e}async getCertificateStatus(e,r,n=st(!0)){let s;const i={isForCertificate:!1,status:2};if(!this.responseBytes||this.responseBytes.responseType!==G1)return i;try{const a=Ar(this.responseBytes.response.valueBlock.valueHexView);le.assert(a,"Basic OCSP response"),s=new Ws({schema:a.result})}catch{return i}return s.getCertificateStatus(e,r,n)}async sign(e,r,n=st(!0)){var s;if(this.responseBytes&&this.responseBytes.responseType===G1)return Ws.fromBER(this.responseBytes.response.valueBlock.valueHexView).sign(e,r,n);throw new Error(`Unknown ResponseBytes type: ${((s=this.responseBytes)===null||s===void 0?void 0:s.responseType)||"Unknown"}`)}async verify(e=null,r=st(!0)){var n;if(!(ma in this))throw new Error("Empty ResponseBytes field");if(this.responseBytes&&this.responseBytes.responseType===G1){const s=Ws.fromBER(this.responseBytes.response.valueBlock.valueHexView);return e!==null&&(s.certs||(s.certs=[]),s.certs.push(e)),s.verify({},r)}throw new Error(`Unknown ResponseBytes type: ${((n=this.responseBytes)===null||n===void 0?void 0:n.responseType)||"Unknown"}`)}}xd.CLASS_NAME="OCSPResponse";const cu="type",ka="attributes",b1="encodedValue",sce=[ka];class gr extends de{constructor(e={}){super(),this.type=w(e,cu,gr.defaultValues(cu)),this.attributes=w(e,ka,gr.defaultValues(ka)),this.encodedValue=w(e,b1,gr.defaultValues(b1)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case cu:return-1;case ka:return[];case b1:return Hr;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case cu:return r===gr.defaultValues(cu);case ka:return r.length===0;case b1:return r.byteLength===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new W({name:r.blockName||A,optional:!0,idBlock:{tagClass:3,tagNumber:r.tagNumber||0},value:[new rt({name:r.attributes||A,value:ir.schema()})]})}fromSchema(e){ge(e,sce);const r=pe(e,e,gr.schema({names:{tagNumber:this.type,attributes:ka}}));le.assertSchema(r,this.className),this.type=r.result.idBlock.tagNumber,this.encodedValue=ze.toArrayBuffer(r.result.valueBeforeDecodeView);const n=new Uint8Array(this.encodedValue);if(n[0]=49,!(ka in r.result)){if(this.type===0)throw new Error("Wrong structure of SignedUnsignedAttributes");return}this.attributes=Array.from(r.result.attributes,s=>new ir({schema:s}))}toSchema(){if(gr.compareWithDefault(cu,this.type)||gr.compareWithDefault(ka,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return new W({optional:!0,idBlock:{tagClass:3,tagNumber:this.type},value:Array.from(this.attributes,e=>e.toSchema())})}toJSON(){if(gr.compareWithDefault(cu,this.type)||gr.compareWithDefault(ka,this.attributes))throw new Error('Incorrectly initialized "SignedAndUnsignedAttributes" class');return{type:this.type,attributes:Array.from(this.attributes,e=>e.toJSON())}}}gr.CLASS_NAME="SignedAndUnsignedAttributes";const Wh="version",cc="sid",Gh="digestAlgorithm",rl="signedAttrs",qh="signatureAlgorithm",yg="signature",nl="unsignedAttrs",nu="SignerInfo",yk=`${nu}.${Wh}`,Sg=`${nu}.${cc}`,Sk=`${nu}.${Gh}`,lS=`${nu}.${rl}`,wk=`${nu}.${qh}`,Ck=`${nu}.${yg}`,uS=`${nu}.${nl}`,ice=[yk,Sg,Sk,lS,wk,Ck,uS];class Rr extends de{constructor(e={}){super(),this.version=w(e,Wh,Rr.defaultValues(Wh)),this.sid=w(e,cc,Rr.defaultValues(cc)),this.digestAlgorithm=w(e,Gh,Rr.defaultValues(Gh)),rl in e&&(this.signedAttrs=w(e,rl,Rr.defaultValues(rl))),this.signatureAlgorithm=w(e,qh,Rr.defaultValues(qh)),this.signature=w(e,yg,Rr.defaultValues(yg)),nl in e&&(this.unsignedAttrs=w(e,nl,Rr.defaultValues(nl))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Wh:return 0;case cc:return new Ye;case Gh:return new ae;case rl:return new gr({type:0});case qh:return new ae;case yg:return new Ce;case nl:return new gr({type:1});default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Wh:return Rr.defaultValues(Wh)===r;case cc:return r instanceof Ye;case Gh:return r instanceof ae?r.isEqual(Rr.defaultValues(Gh)):!1;case rl:return gr.compareWithDefault("type",r.type)&&gr.compareWithDefault("attributes",r.attributes)&&gr.compareWithDefault("encodedValue",r.encodedValue);case qh:return r instanceof ae?r.isEqual(Rr.defaultValues(qh)):!1;case yg:case nl:return gr.compareWithDefault("type",r.type)&&gr.compareWithDefault("attributes",r.attributes)&&gr.compareWithDefault("encodedValue",r.encodedValue);default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:nu,value:[new se({name:r.version||yk}),new dr({value:[jr.schema(r.sidSchema||{names:{blockName:Sg}}),new dr({value:[new W({optional:!0,name:r.sid||Sg,idBlock:{tagClass:3,tagNumber:0},value:[new Ce]}),new qe({optional:!0,name:r.sid||Sg,idBlock:{tagClass:3,tagNumber:0}})]})]}),ae.schema(r.digestAlgorithm||{names:{blockName:Sk}}),gr.schema(r.signedAttrs||{names:{blockName:lS,tagNumber:0}}),ae.schema(r.signatureAlgorithm||{names:{blockName:wk}}),new Ce({name:r.signature||Ck}),gr.schema(r.unsignedAttrs||{names:{blockName:uS,tagNumber:1}})]})}fromSchema(e){ge(e,ice);const r=pe(e,e,Rr.schema());le.assertSchema(r,this.className),this.version=r.result[yk].valueBlock.valueDec;const n=r.result[Sg];n.idBlock.tagClass===1?this.sid=new jr({schema:n}):this.sid=n,this.digestAlgorithm=new ae({schema:r.result[Sk]}),lS in r.result&&(this.signedAttrs=new gr({type:0,schema:r.result[lS]})),this.signatureAlgorithm=new ae({schema:r.result[wk]}),this.signature=r.result[Ck],uS in r.result&&(this.unsignedAttrs=new gr({type:1,schema:r.result[uS]}))}toSchema(){if(Rr.compareWithDefault(cc,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const e=[];return e.push(new se({value:this.version})),this.sid instanceof jr?e.push(this.sid.toSchema()):e.push(this.sid),e.push(this.digestAlgorithm.toSchema()),this.signedAttrs&&Rr.compareWithDefault(rl,this.signedAttrs)===!1&&e.push(this.signedAttrs.toSchema()),e.push(this.signatureAlgorithm.toSchema()),e.push(this.signature),this.unsignedAttrs&&Rr.compareWithDefault(nl,this.unsignedAttrs)===!1&&e.push(this.unsignedAttrs.toSchema()),new _({value:e})}toJSON(){if(Rr.compareWithDefault(cc,this.sid))throw new Error('Incorrectly initialized "SignerInfo" class');const e={version:this.version,digestAlgorithm:this.digestAlgorithm.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signature:this.signature.toJSON()};return this.sid instanceof Ye||(e.sid=this.sid.toJSON()),this.signedAttrs&&Rr.compareWithDefault(rl,this.signedAttrs)===!1&&(e.signedAttrs=this.signedAttrs.toJSON()),this.unsignedAttrs&&Rr.compareWithDefault(nl,this.unsignedAttrs)===!1&&(e.unsignedAttrs=this.unsignedAttrs.toJSON()),e}}Rr.CLASS_NAME="SignerInfo";const wg="version",Cg="policy",Eg="messageImprint",bg="serialNumber",xg="genTime",fc="ordering",hc="nonce",Jh="accuracy",Yh="tsa",Qh="extensions",Oi="TSTInfo",Ek=`${Oi}.${wg}`,bk=`${Oi}.${Cg}`,xk=`${Oi}.${Eg}`,Ak=`${Oi}.${bg}`,kk=`${Oi}.${xg}`,cS=`${Oi}.${Jh}`,fS=`${Oi}.${fc}`,hS=`${Oi}.${hc}`,dS=`${Oi}.${Yh}`,pS=`${Oi}.${Qh}`,ace=[Ek,bk,xk,Ak,kk,cS,fS,hS,dS,pS];class An extends de{constructor(e={}){super(),this.version=w(e,wg,An.defaultValues(wg)),this.policy=w(e,Cg,An.defaultValues(Cg)),this.messageImprint=w(e,Eg,An.defaultValues(Eg)),this.serialNumber=w(e,bg,An.defaultValues(bg)),this.genTime=w(e,xg,An.defaultValues(xg)),Jh in e&&(this.accuracy=w(e,Jh,An.defaultValues(Jh))),fc in e&&(this.ordering=w(e,fc,An.defaultValues(fc))),hc in e&&(this.nonce=w(e,hc,An.defaultValues(hc))),Yh in e&&(this.tsa=w(e,Yh,An.defaultValues(Yh))),Qh in e&&(this.extensions=w(e,Qh,An.defaultValues(Qh))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case wg:return 0;case Cg:return A;case Eg:return new vn;case bg:return new se;case xg:return new Date(0,0,0);case Jh:return new Cs;case fc:return!1;case hc:return new se;case Yh:return new Tt;case Qh:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case wg:case Cg:case xg:case fc:return r===An.defaultValues(fc);case Eg:return vn.compareWithDefault(Ec,r.hashAlgorithm)&&vn.compareWithDefault(bc,r.hashedMessage);case bg:case hc:return r.isEqual(An.defaultValues(hc));case Jh:return Cs.compareWithDefault(Eo,r.seconds)&&Cs.compareWithDefault(bo,r.millis)&&Cs.compareWithDefault(xo,r.micros);case Yh:return Tt.compareWithDefault(L0,r.type)&&Tt.compareWithDefault(V0,r.value);case Qh:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||Oi,value:[new se({name:r.version||Ek}),new Oe({name:r.policy||bk}),vn.schema(r.messageImprint||{names:{blockName:xk}}),new se({name:r.serialNumber||Ak}),new fr({name:r.genTime||kk}),Cs.schema(r.accuracy||{names:{blockName:cS}}),new fa({name:r.ordering||fS,optional:!0}),new se({name:r.nonce||hS,optional:!0}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[Tt.schema(r.tsa||{names:{blockName:dS}})]}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new rt({name:r.extensions||pS,value:Ur.schema(r.extension||{})})]})]})}fromSchema(e){ge(e,ace);const r=pe(e,e,An.schema());le.assertSchema(r,this.className),this.version=r.result[Ek].valueBlock.valueDec,this.policy=r.result[bk].valueBlock.toString(),this.messageImprint=new vn({schema:r.result[xk]}),this.serialNumber=r.result[Ak],this.genTime=r.result[kk].toDate(),cS in r.result&&(this.accuracy=new Cs({schema:r.result[cS]})),fS in r.result&&(this.ordering=r.result[fS].valueBlock.value),hS in r.result&&(this.nonce=r.result[hS]),dS in r.result&&(this.tsa=new Tt({schema:r.result[dS]})),pS in r.result&&(this.extensions=Array.from(r.result[pS],n=>new Ur({schema:n})))}toSchema(){const e=[];return e.push(new se({value:this.version})),e.push(new Oe({value:this.policy})),e.push(this.messageImprint.toSchema()),e.push(this.serialNumber),e.push(new fr({valueDate:this.genTime})),this.accuracy&&e.push(this.accuracy.toSchema()),this.ordering!==void 0&&e.push(new fa({value:this.ordering})),this.nonce&&e.push(this.nonce),this.tsa&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[this.tsa.toSchema()]})),this.extensions&&e.push(new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.extensions,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={version:this.version,policy:this.policy,messageImprint:this.messageImprint.toJSON(),serialNumber:this.serialNumber.toJSON(),genTime:this.genTime};return this.accuracy&&(e.accuracy=this.accuracy.toJSON()),this.ordering!==void 0&&(e.ordering=this.ordering),this.nonce&&(e.nonce=this.nonce.toJSON()),this.tsa&&(e.tsa=this.tsa.toJSON()),this.extensions&&(e.extensions=Array.from(this.extensions,r=>r.toJSON())),e}async verify(e,r=st(!0)){if(!e.data)throw new Error('"data" is a mandatory attribute for TST_INFO verification');const n=e.data;if(e.notBefore&&this.genTime<e.notBefore)throw new Error("Generation time for TSTInfo object is less than notBefore value");if(e.notAfter&&this.genTime>e.notAfter)throw new Error("Generation time for TSTInfo object is more than notAfter value");const s=r.getAlgorithmByOID(this.messageImprint.hashAlgorithm.algorithmId,!0,"MessageImprint.hashAlgorithm"),i=await r.digest(s.name,new Uint8Array(n));return ze.isEqual(i,this.messageImprint.hashedMessage.valueBlock.valueHexView)}}An.CLASS_NAME="TSTInfo";const Xh="version",Ag="digestAlgorithms",kg="encapContentInfo",Zh="certificates",ed="crls",Ig="signerInfos",C0="ocsps",vf="SignedData",Ik=`${vf}.${Xh}`,mS=`${vf}.${Ag}`,Tk=`${vf}.${kg}`,gS=`${vf}.${Zh}`,vS=`${vf}.${ed}`,yS=`${vf}.${Ig}`,oce=[Ik,mS,Tk,gS,vS,yS];class bn extends Error{constructor({message:e,code:r=0,date:n=new Date,signatureVerified:s=null,signerCertificate:i=null,signerCertificateVerified:a=null,timestampSerial:o=null,certificatePath:l=[]}){super(e),this.name="SignedDataVerifyError",this.date=n,this.code=r,this.timestampSerial=o,this.signatureVerified=s,this.signerCertificate=i,this.signerCertificateVerified=a,this.certificatePath=l}}class dn extends de{constructor(e={}){super(),this.version=w(e,Xh,dn.defaultValues(Xh)),this.digestAlgorithms=w(e,Ag,dn.defaultValues(Ag)),this.encapContentInfo=w(e,kg,dn.defaultValues(kg)),Zh in e&&(this.certificates=w(e,Zh,dn.defaultValues(Zh))),ed in e&&(this.crls=w(e,ed,dn.defaultValues(ed))),C0 in e&&(this.ocsps=w(e,C0,dn.defaultValues(C0))),this.signerInfos=w(e,Ig,dn.defaultValues(Ig)),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Xh:return 0;case Ag:return[];case kg:return new es;case Zh:return[];case ed:return[];case C0:return[];case Ig:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Xh:return r===dn.defaultValues(Xh);case kg:return es.compareWithDefault("eContentType",r.eContentType)&&es.compareWithDefault("eContent",r.eContent);case Ag:case Zh:case ed:case C0:case Ig:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return r.optional===void 0&&(r.optional=!1),new _({name:r.blockName||vf,optional:r.optional,value:[new se({name:r.version||Ik}),new Or({value:[new rt({name:r.digestAlgorithms||mS,value:ae.schema()})]}),es.schema(r.encapContentInfo||{names:{blockName:Tk}}),new W({name:r.certificates||gS,optional:!0,idBlock:{tagClass:3,tagNumber:0},value:oa.schema().valueBlock.value}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:qa.schema(r.crls||{names:{crls:vS}}).valueBlock.value}),new Or({value:[new rt({name:r.signerInfos||yS,value:Rr.schema()})]})]})}fromSchema(e){ge(e,oce);const r=pe(e,e,dn.schema());if(le.assertSchema(r,this.className),this.version=r.result[Ik].valueBlock.valueDec,mS in r.result&&(this.digestAlgorithms=Array.from(r.result[mS],n=>new ae({schema:n}))),this.encapContentInfo=new es({schema:r.result[Tk]}),gS in r.result){const n=new oa({schema:new Or({value:r.result[gS].valueBlock.value})});this.certificates=n.certificates.slice(0)}vS in r.result&&(this.crls=Array.from(r.result[vS],n=>n.idBlock.tagClass===1?new Br({schema:n}):(n.idBlock.tagClass=1,n.idBlock.tagNumber=16,new Ga({schema:n})))),yS in r.result&&(this.signerInfos=Array.from(r.result[yS],n=>new Rr({schema:n})))}toSchema(e=!1){const r=[];if(this.certificates&&this.certificates.length&&this.certificates.some(n=>n instanceof Kl)||this.crls&&this.crls.length&&this.crls.some(n=>n instanceof Ga)?this.version=5:this.certificates&&this.certificates.length&&this.certificates.some(n=>n instanceof Is)?this.version=4:this.certificates&&this.certificates.length&&this.certificates.some(n=>n instanceof Ma)||this.signerInfos.some(n=>n.version===3)||this.encapContentInfo.eContentType!==dn.ID_DATA?this.version=3:this.version=1,r.push(new se({value:this.version})),r.push(new Or({value:Array.from(this.digestAlgorithms,n=>n.toSchema())})),r.push(this.encapContentInfo.toSchema()),this.certificates){const s=new oa({certificates:this.certificates}).toSchema();r.push(new W({idBlock:{tagClass:3,tagNumber:0},value:s.valueBlock.value}))}return this.crls&&r.push(new W({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.crls,n=>{if(n instanceof Ga){const s=n.toSchema();return s.idBlock.tagClass=3,s.idBlock.tagNumber=1,s}return n.toSchema(e)})})),r.push(new Or({value:Array.from(this.signerInfos,n=>n.toSchema())})),new _({value:r})}toJSON(){const e={version:this.version,digestAlgorithms:Array.from(this.digestAlgorithms,r=>r.toJSON()),encapContentInfo:this.encapContentInfo.toJSON(),signerInfos:Array.from(this.signerInfos,r=>r.toJSON())};return this.certificates&&(e.certificates=Array.from(this.certificates,r=>r.toJSON())),this.crls&&(e.crls=Array.from(this.crls,r=>r.toJSON())),e}async verify({signer:e=-1,data:r=Hr,trustedCerts:n=[],checkDate:s=new Date,checkChain:i=!1,passedWhenNotRevValues:a=!1,extendedMode:o=!1,findOrigin:l=null,findIssuer:u=null}={},c=st(!0)){let f=null,h=null;try{let p=Hr,d=A,m=[];const S=this.signerInfos[e];if(!S)throw new bn({date:s,code:1,message:"Unable to get signer by supplied index"});if(!this.certificates)throw new bn({date:s,code:2,message:"No certificates attached to this signed data"});if(S.sid instanceof jr){for(const C of this.certificates)if(C instanceof Bt&&C.issuer.isEqual(S.sid.issuer)&&C.serialNumber.isEqual(S.sid.serialNumber)){f=C;break}}else{const C=S.sid,E=C.idBlock.isConstructed?C.valueBlock.value[0].valueBlock.valueHex:C.valueBlock.valueHex;for(const b of this.certificates){if(!(b instanceof Bt))continue;const T=await c.digest({name:"sha-1"},b.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHexView);if(fp(T,E)){f=b;break}}}if(!f)throw new bn({date:s,code:3,message:"Unable to find signer certificate"});if(this.encapContentInfo.eContentType===fle){if(!this.encapContentInfo.eContent)throw new bn({date:s,code:15,message:"Error during verification: TSTInfo eContent is empty",signatureVerified:null,signerCertificate:f,timestampSerial:h,signerCertificateVerified:!0});let C;try{C=An.fromBER(this.encapContentInfo.eContent.valueBlock.valueHexView)}catch{throw new bn({date:s,code:15,message:"Error during verification: TSTInfo wrong ASN.1 schema ",signatureVerified:null,signerCertificate:f,timestampSerial:h,signerCertificateVerified:!0})}if(s=C.genTime,h=C.serialNumber.valueBlock.valueHexView.slice(),r.byteLength===0)throw new bn({date:s,code:4,message:"Missed detached data input array"});if(!await C.verify({data:r},c))throw new bn({date:s,code:15,message:"Error during verification: TSTInfo verification is failed",signatureVerified:!1,signerCertificate:f,timestampSerial:h,signerCertificateVerified:!0})}if(i){const C=this.certificates.filter(O=>O instanceof Bt&&!!Q5(O,f)),E={checkDate:s,certs:C,trustedCerts:n};u&&(E.findIssuer=u),l&&(E.findOrigin=l);const b=new bE(E);if(b.certs.push(f),this.crls)for(const O of this.crls)"thisUpdate"in O?b.crls.push(O):O.otherRevInfoFormat===G1&&b.ocsps.push(new Ws({schema:O.otherRevInfo}));this.ocsps&&b.ocsps.push(...this.ocsps);const T=await b.verify({passedWhenNotRevValues:a},c).catch(O=>{throw new bn({date:s,code:5,message:`Validation of signer's certificate failed with error: ${O instanceof Object?O.resultMessage:O}`,signerCertificate:f,signerCertificateVerified:!1})});if(T.certificatePath&&(m=T.certificatePath),!T.result)throw new bn({date:s,code:5,message:`Validation of signer's certificate failed: ${T.resultMessage}`,signerCertificate:f,signerCertificateVerified:!1})}const g=c.getAlgorithmByOID(S.digestAlgorithm.algorithmId);if(!("name"in g))throw new bn({date:s,code:7,message:`Unsupported signature algorithm: ${S.digestAlgorithm.algorithmId}`,signerCertificate:f,signerCertificateVerified:!0});d=g.name;const v=this.encapContentInfo.eContent;if(v)v.idBlock.tagClass===1&&v.idBlock.tagNumber===4?r=v.getValue():r=v.valueBlock.valueBeforeDecodeView;else if(r.byteLength===0)throw new bn({date:s,code:8,message:"Missed detached data input array",signerCertificate:f,signerCertificateVerified:!0});if(S.signedAttrs){let C=!1,E=!1;for(const b of S.signedAttrs.attributes)if(b.type==="1.2.840.113549.1.9.3"&&(C=!0),b.type==="1.2.840.113549.1.9.4"&&(E=!0,p=b.values[0].valueBlock.valueHex),C&&E)break;if(C===!1)throw new bn({date:s,code:9,message:'Attribute "content-type" is a mandatory attribute for "signed attributes"',signerCertificate:f,signerCertificateVerified:!0});if(E===!1)throw new bn({date:s,code:10,message:'Attribute "message-digest" is a mandatory attribute for "signed attributes"',signatureVerified:null,signerCertificate:f,signerCertificateVerified:!0})}if(S.signedAttrs){const C=await c.digest(d,new Uint8Array(r));if(!fp(C,p))throw new bn({date:s,code:15,message:"Error during verification: Message digest doesn't match",signatureVerified:null,signerCertificate:f,timestampSerial:h,signerCertificateVerified:!0});r=S.signedAttrs.encodedValue}const y=await c.verifyWithPublicKey(r,S.signature,f.subjectPublicKeyInfo,f.signatureAlgorithm,d);return o?{date:s,code:14,message:A,signatureVerified:y,signerCertificate:f,timestampSerial:h,signerCertificateVerified:!0,certificatePath:m}:y}catch(p){throw p instanceof bn?p:new bn({date:s,code:15,message:`Error during verification: ${p instanceof Error?p.message:p}`,signatureVerified:null,signerCertificate:f,timestampSerial:h,signerCertificateVerified:!0})}}async sign(e,r,n="SHA-1",s=Hr,i=st(!0)){if(!e)throw new Error("Need to provide a private key for signing");const a=i.getOIDByAlgorithm({name:n},!0,"hashAlgorithm");this.digestAlgorithms.filter(f=>f.algorithmId===a).length===0&&this.digestAlgorithms.push(new ae({algorithmId:a,algorithmParams:new Pr}));const o=this.signerInfos[r];if(!o)throw new RangeError("SignerInfo index is out of range");o.digestAlgorithm=new ae({algorithmId:a,algorithmParams:new Pr});const l=await i.getSignatureParameters(e,n),u=l.parameters;if(o.signatureAlgorithm=l.signatureAlgorithm,o.signedAttrs)if(o.signedAttrs.encodedValue.byteLength!==0)s=o.signedAttrs.encodedValue;else{s=o.signedAttrs.toSchema().toBER();const f=ze.toUint8Array(s);f[0]=49}else{const f=this.encapContentInfo.eContent;if(f)f.idBlock.tagClass===1&&f.idBlock.tagNumber===4?s=f.getValue():s=f.valueBlock.valueBeforeDecodeView;else if(s.byteLength===0)throw new Error("Missed detached data input array")}const c=await i.signWithPrivateKey(s,e,u);o.signature=new Ce({valueHex:c})}}dn.CLASS_NAME="SignedData";dn.ID_DATA=hT;const dc="version",pc="authSafe",Ia="macData",E0="parsedValue",lce=[dc,pc,Ia];class fl extends de{constructor(e={}){super(),this.version=w(e,dc,fl.defaultValues(dc)),this.authSafe=w(e,pc,fl.defaultValues(pc)),Ia in e&&(this.macData=w(e,Ia,fl.defaultValues(Ia))),E0 in e&&(this.parsedValue=w(e,E0,fl.defaultValues(E0))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case dc:return 3;case pc:return new er;case Ia:return new Mn;case E0:return{};default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case dc:return r===fl.defaultValues(e);case pc:return er.compareWithDefault("contentType",r.contentType)&&er.compareWithDefault("content",r.content);case Ia:return Mn.compareWithDefault("mac",r.mac)&&Mn.compareWithDefault("macSalt",r.macSalt)&&Mn.compareWithDefault("iterations",r.iterations);case E0:return r instanceof Object&&Object.keys(r).length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.version||dc}),er.schema(r.authSafe||{names:{blockName:pc}}),Mn.schema(r.macData||{names:{blockName:Ia,optional:!0}})]})}fromSchema(e){ge(e,lce);const r=pe(e,e,fl.schema({names:{version:dc,authSafe:{names:{blockName:pc}},macData:{names:{blockName:Ia}}}}));le.assertSchema(r,this.className),this.version=r.result.version.valueBlock.valueDec,this.authSafe=new er({schema:r.result.authSafe}),Ia in r.result&&(this.macData=new Mn({schema:r.result.macData}))}toSchema(){const e=[new se({value:this.version}),this.authSafe.toSchema()];return this.macData&&e.push(this.macData.toSchema()),new _({value:e})}toJSON(){const e={version:this.version,authSafe:this.authSafe.toJSON()};return this.macData&&(e.macData=this.macData.toJSON()),e}async makeInternalValues(e={},r=st(!0)){if(Ht.assert(e,"parameters","object"),!this.parsedValue)throw new Error('Please call "parseValues" function first in order to make "parsedValue" data');switch(vt.assertEmpty(this.parsedValue.integrityMode,"integrityMode","parsedValue"),vt.assertEmpty(this.parsedValue.authenticatedSafe,"authenticatedSafe","parsedValue"),this.parsedValue.integrityMode){case 0:{if(!("iterations"in e))throw new vt("iterations");vt.assertEmpty(e.pbkdf2HashAlgorithm,"pbkdf2HashAlgorithm"),vt.assertEmpty(e.hmacHashAlgorithm,"hmacHashAlgorithm"),vt.assertEmpty(e.password,"password");const n=new ArrayBuffer(64),s=new Uint8Array(n);r.getRandomValues(s);const i=this.parsedValue.authenticatedSafe.toSchema().toBER(!1);this.authSafe=new er({contentType:er.DATA,content:new Ce({valueHex:i})});const a=await r.stampDataWithPassword({password:e.password,hashAlgorithm:e.hmacHashAlgorithm,salt:n,iterationCount:e.iterations,contentToStamp:i});this.macData=new Mn({mac:new qs({digestAlgorithm:new ae({algorithmId:r.getOIDByAlgorithm({name:e.hmacHashAlgorithm},!0,"hmacHashAlgorithm")}),digest:new Ce({valueHex:a})}),macSalt:new Ce({valueHex:n}),iterations:e.iterations})}break;case 1:{if(!("signingCertificate"in e))throw new vt("signingCertificate");vt.assertEmpty(e.privateKey,"privateKey"),vt.assertEmpty(e.hashAlgorithm,"hashAlgorithm");const n=this.parsedValue.authenticatedSafe.toSchema().toBER(!1),s=new dn({version:1,encapContentInfo:new es({eContentType:"1.2.840.113549.1.7.1",eContent:new Ce({valueHex:n})}),certificates:[e.signingCertificate]}),i=await r.digest({name:e.hashAlgorithm},new Uint8Array(n)),a=[];a.push(new ir({type:"1.2.840.113549.1.9.3",values:[new Oe({value:"1.2.840.113549.1.7.1"})]})),a.push(new ir({type:"1.2.840.113549.1.9.5",values:[new dp({valueDate:new Date})]})),a.push(new ir({type:"1.2.840.113549.1.9.4",values:[new Ce({valueHex:i})]})),s.signerInfos.push(new Rr({version:1,sid:new jr({issuer:e.signingCertificate.issuer,serialNumber:e.signingCertificate.serialNumber}),signedAttrs:new gr({type:0,attributes:a})})),await s.sign(e.privateKey,0,e.hashAlgorithm,void 0,r),this.authSafe=new er({contentType:"1.2.840.113549.1.7.2",content:s.toSchema(!0)})}break;default:throw new Error(`Parameter "integrityMode" has unknown value: ${this.parsedValue.integrityMode}`)}}async parseInternalValues(e,r=st(!0)){switch(Ht.assert(e,"parameters","object"),e.checkIntegrity===void 0&&(e.checkIntegrity=!0),this.parsedValue={},this.authSafe.contentType){case er.DATA:{vt.assertEmpty(e.password,"password"),this.parsedValue.integrityMode=0,Ht.assert(this.authSafe.content,"authSafe.content",Ce);const n=this.authSafe.content.getValue();if(this.parsedValue.authenticatedSafe=Gc.fromBER(n),e.checkIntegrity){if(!this.macData)throw new Error('Absent "macData" value, can not check PKCS#12 data integrity');const s=r.getAlgorithmByOID(this.macData.mac.digestAlgorithm.algorithmId,!0,"digestAlgorithm");if(!await r.verifyDataStampedWithPassword({password:e.password,hashAlgorithm:s.name,salt:ze.toArrayBuffer(this.macData.macSalt.valueBlock.valueHexView),iterationCount:this.macData.iterations||1,contentToVerify:n,signatureToVerify:ze.toArrayBuffer(this.macData.mac.digest.valueBlock.valueHexView)}))throw new Error("Integrity for the PKCS#12 data is broken!")}}break;case er.SIGNED_DATA:{this.parsedValue.integrityMode=1;const n=new dn({schema:this.authSafe.content}),s=n.encapContentInfo.eContent;vt.assert(s,"eContent","cmsSigned.encapContentInfo"),Ht.assert(s,"eContent",Ce);const i=s.getValue();if(this.parsedValue.authenticatedSafe=Gc.fromBER(i),!await n.verify({signer:0,checkChain:!1},r))throw new Error("Integrity for the PKCS#12 data is broken!")}break;default:throw new Error(`Incorrect value for "this.authSafe.contentType": ${this.authSafe.contentType}`)}}}fl.CLASS_NAME="PFX";const td="status",sl="statusStrings",il="failInfo",uce=[td,sl,il];var q_;(function(t){t[t.granted=0]="granted",t[t.grantedWithMods=1]="grantedWithMods",t[t.rejection=2]="rejection",t[t.waiting=3]="waiting",t[t.revocationWarning=4]="revocationWarning",t[t.revocationNotification=5]="revocationNotification"})(q_||(q_={}));class Gs extends de{constructor(e={}){super(),this.status=w(e,td,Gs.defaultValues(td)),sl in e&&(this.statusStrings=w(e,sl,Gs.defaultValues(sl))),il in e&&(this.failInfo=w(e,il,Gs.defaultValues(il))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case td:return 2;case sl:return[];case il:return new dt;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case td:return r===Gs.defaultValues(e);case sl:return r.length===0;case il:return r.isEqual(Gs.defaultValues(e));default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||A,value:[new se({name:r.status||A}),new _({optional:!0,value:[new rt({name:r.statusStrings||A,value:new _i})]}),new dt({name:r.failInfo||A,optional:!0})]})}fromSchema(e){ge(e,uce);const r=pe(e,e,Gs.schema({names:{status:td,statusStrings:sl,failInfo:il}}));le.assertSchema(r,this.className);const n=r.result.status;if(n.valueBlock.isHexOnly===!0||n.valueBlock.valueDec<0||n.valueBlock.valueDec>5)throw new Error('PKIStatusInfo "status" has invalid value');this.status=n.valueBlock.valueDec,sl in r.result&&(this.statusStrings=r.result.statusStrings),il in r.result&&(this.failInfo=r.result.failInfo)}toSchema(){const e=[];return e.push(new se({value:this.status})),this.statusStrings&&e.push(new _({optional:!0,value:this.statusStrings})),this.failInfo&&e.push(this.failInfo),new _({value:e})}toJSON(){const e={status:this.status};return this.statusStrings&&(e.statusStrings=Array.from(this.statusStrings,r=>r.toJSON())),this.failInfo&&(e.failInfo=this.failInfo.toJSON()),e}}Gs.CLASS_NAME="PKIStatusInfo";const Tg="version",Ng="messageImprint",rd="reqPolicy",nd="nonce",Ta="certReq",sd="extensions",yf="TimeStampReq",Nk=`${yf}.${Tg}`,Rk=`${yf}.${Ng}`,SS=`${yf}.${rd}`,wS=`${yf}.${nd}`,CS=`${yf}.${Ta}`,ES=`${yf}.${sd}`,cce=[Nk,Rk,SS,wS,CS,ES];class ms extends de{constructor(e={}){super(),this.version=w(e,Tg,ms.defaultValues(Tg)),this.messageImprint=w(e,Ng,ms.defaultValues(Ng)),rd in e&&(this.reqPolicy=w(e,rd,ms.defaultValues(rd))),nd in e&&(this.nonce=w(e,nd,ms.defaultValues(nd))),Ta in e&&(this.certReq=w(e,Ta,ms.defaultValues(Ta))),sd in e&&(this.extensions=w(e,sd,ms.defaultValues(sd))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case Tg:return 0;case Ng:return new vn;case rd:return A;case nd:return new se;case Ta:return!1;case sd:return[];default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case Tg:case rd:case Ta:return r===ms.defaultValues(e);case Ng:return vn.compareWithDefault("hashAlgorithm",r.hashAlgorithm)&&vn.compareWithDefault("hashedMessage",r.hashedMessage);case nd:return r.isEqual(ms.defaultValues(e));case sd:return r.length===0;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||yf,value:[new se({name:r.version||Nk}),vn.schema(r.messageImprint||{names:{blockName:Rk}}),new Oe({name:r.reqPolicy||SS,optional:!0}),new se({name:r.nonce||wS,optional:!0}),new fa({name:r.certReq||CS,optional:!0}),new W({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new rt({name:r.extensions||ES,value:Ur.schema()})]})]})}fromSchema(e){ge(e,cce);const r=pe(e,e,ms.schema());le.assertSchema(r,this.className),this.version=r.result[Nk].valueBlock.valueDec,this.messageImprint=new vn({schema:r.result[Rk]}),SS in r.result&&(this.reqPolicy=r.result[SS].valueBlock.toString()),wS in r.result&&(this.nonce=r.result[wS]),CS in r.result&&(this.certReq=r.result[CS].valueBlock.value),ES in r.result&&(this.extensions=Array.from(r.result[ES],n=>new Ur({schema:n})))}toSchema(){const e=[];return e.push(new se({value:this.version})),e.push(this.messageImprint.toSchema()),this.reqPolicy&&e.push(new Oe({value:this.reqPolicy})),this.nonce&&e.push(this.nonce),Ta in this&&ms.compareWithDefault(Ta,this.certReq)===!1&&e.push(new fa({value:this.certReq})),this.extensions&&e.push(new W({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.extensions,r=>r.toSchema())})),new _({value:e})}toJSON(){const e={version:this.version,messageImprint:this.messageImprint.toJSON()};return this.reqPolicy!==void 0&&(e.reqPolicy=this.reqPolicy),this.nonce!==void 0&&(e.nonce=this.nonce.toJSON()),this.certReq!==void 0&&ms.compareWithDefault(Ta,this.certReq)===!1&&(e.certReq=this.certReq),this.extensions&&(e.extensions=Array.from(this.extensions,r=>r.toJSON())),e}}ms.CLASS_NAME="TimeStampReq";const id="status",ad="timeStampToken",bT="TimeStampResp",Bk=`${bT}.${id}`,bS=`${bT}.${ad}`,fce=[Bk,bS];class tv extends de{constructor(e={}){super(),this.status=w(e,id,tv.defaultValues(id)),ad in e&&(this.timeStampToken=w(e,ad,tv.defaultValues(ad))),e.schema&&this.fromSchema(e.schema)}static defaultValues(e){switch(e){case id:return new Gs;case ad:return new er;default:return super.defaultValues(e)}}static compareWithDefault(e,r){switch(e){case id:return Gs.compareWithDefault(id,r.status)&&!("statusStrings"in r)&&!("failInfo"in r);case ad:return r.contentType===A&&r.content instanceof Ye;default:return super.defaultValues(e)}}static schema(e={}){const r=w(e,"names",{});return new _({name:r.blockName||bT,value:[Gs.schema(r.status||{names:{blockName:Bk}}),er.schema(r.timeStampToken||{names:{blockName:bS,optional:!0}})]})}fromSchema(e){ge(e,fce);const r=pe(e,e,tv.schema());le.assertSchema(r,this.className),this.status=new Gs({schema:r.result[Bk]}),bS in r.result&&(this.timeStampToken=new er({schema:r.result[bS]}))}toSchema(){const e=[];return e.push(this.status.toSchema()),this.timeStampToken&&e.push(this.timeStampToken.toSchema()),new _({value:e})}toJSON(){const e={status:this.status.toJSON()};return this.timeStampToken&&(e.timeStampToken=this.timeStampToken.toJSON()),e}async sign(e,r,n=st(!0)){return this.assertContentType(),new dn({schema:this.timeStampToken.content}).sign(e,0,r,void 0,n)}async verify(e={signer:0,trustedCerts:[],data:Hr},r=st(!0)){return this.assertContentType(),new dn({schema:this.timeStampToken.content}).verify(e,r)}assertContentType(){if(!this.timeStampToken)throw new Error("timeStampToken is absent in TSP response");if(this.timeStampToken.contentType!==K5)throw new Error(`Wrong format of timeStampToken: ${this.timeStampToken.contentType}`)}}tv.CLASS_NAME="TimeStampResp";function hce(){if(typeof self<"u"){if("crypto"in self){let t="webcrypto";"webkitSubtle"in self.crypto&&(t="safari"),__(t,new bw({name:t,crypto}))}}else if(typeof crypto<"u"&&"webcrypto"in crypto){const t="NodeJS ^15",e=crypto.webcrypto;__(t,new bw({name:t,crypto:e}))}}hce();function dce(t){YC(t.crl.pem,"crl.pem")}function pce(t){YC(t.crl.der,"crl.crl")}function mce(t){const e=t.length,r=64;if(e>r){let s="",i=0;for(let a=r;a<e;a+=r)s+=t.substring(i,a)+`\r
`,i=a;return s+=t.substring(i,e),s}else return t}function gce(t){const{crl:e}=t;return P.jsxs("div",{children:[P.jsx(nf,{onClick:()=>dce(e),children:"Get PEM"}),P.jsx(nf,{onClick:()=>pce(e),children:"Get DER"})]})}function vce({crl:{crl:t}}){return P.jsxs(P.Fragment,{children:[JSON.stringify(t.crl.issuer.toJSON()),t.crl.issuer.typesAndValues.map(e=>P.jsxs(P.Fragment,{children:[e.toString(),": ",e.value.getValue(),P.jsx("br",{})]}))]})}function yce(t){const{crl:e}=t;return P.jsxs(P.Fragment,{children:[P.jsxs(Hn,{children:["Format: ",e.format.toUpperCase()]}),P.jsx(gce,{crl:e}),P.jsx(vce,{crl:e})]})}function Sce(t,e){let r=mce(ww(_v(t.toSchema().toBER(!1))));return r=`-----BEGIN ${e}-----
${r}
-----END ${e}-----`,r}function wce(t){try{const e=new TextDecoder().decode(t),r=ea.pem.decode(e),n=new Uint8Array(ea.util.binary.raw.decode(r[0].body)),s=Ar(n.buffer);return[{type:"crl",crl:{crl:new Br({schema:s.result}),pem:e,der:n},format:"pem"}]}catch{const r=new Uint8Array(t),n=Ar(r.buffer),s=new Br({schema:n.result});return[{type:"crl",crl:{crl:s,pem:Sce(s,"X509 CRL"),der:r},format:"der"}]}}function Cce(t){try{const e=new TextDecoder().decode(t);return[{type:"certificate",certificate:ea.pki.certificateFromPem(e),format:"pem"}]}catch{const r=ea.asn1.fromDer(ea.util.createBuffer(new Uint8Array(t)));return[{type:"certificate",certificate:ea.pki.certificateFromAsn1(r),format:"der"}]}}function Ece(t){const e=[Cce,wce],r=[];for(const n of e)try{n(t).forEach(i=>{r.push(i)})}catch{}return r}function bce(){const[t,e]=N.useState(!1),[r,n]=N.useState([]),s=async i=>{e(!0);const a=await i.arrayBuffer();console.log("content",a);try{const o=Ece(a);console.log("i",o),n(o)}finally{e(!1)}};return P.jsx(P.Fragment,{children:P.jsxs("div",{style:{padding:"1em",display:"flex",flexDirection:"column"},children:[P.jsx(Hn,{children:"Choose a file"}),P.jsx(Yse,{onChange:s}),P.jsx("br",{}),P.jsx(woe,{loading:t,style:{display:"flex",justifyContent:"center"},children:r.map(i=>i.type==="certificate"?P.jsx(Av,{style:{maxWidth:"80ex",minWidth:"10em"},children:P.jsx(kv,{children:P.jsx(iQ,{certifcate:i})})}):i.type==="crl"?P.jsx(Av,{style:{maxWidth:"80ex",minWidth:"10em"},children:P.jsx(kv,{children:P.jsx(yce,{crl:i})})}):P.jsx(P.Fragment,{}))})]})})}const xce="modulepreload",Ace=function(t,e){return new URL(t,e).href},J_={},kce=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){const i=document.getElementsByTagName("link");s=Promise.all(r.map(a=>{if(a=Ace(a,n),a in J_)return;J_[a]=!0;const o=a.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let f=i.length-1;f>=0;f--){const h=i[f];if(h.href===a&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":xce,o||(c.as="script",c.crossOrigin=""),c.href=a,document.head.appendChild(c),o)return new Promise((f,h)=>{c.addEventListener("load",f),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return s.then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Ice=t=>{t&&t instanceof Function&&kce(()=>import("./web-vitals-GXdahIIP.js"),__vite__mapDeps([]),import.meta.url).then(({getCLS:e,getFID:r,getFCP:n,getLCP:s,getTTFB:i})=>{e(t),r(t),n(t),s(t),i(t)})},Tce=uL(document.getElementById("root"));Tce.render(P.jsx(N.StrictMode,{children:P.jsx(bce,{})}));Ice();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}